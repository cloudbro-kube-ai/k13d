{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"k13d","text":"<pre>\n \u2588\u2588\u2557  \u2588\u2588\u2557 \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557\n \u2588\u2588\u2551 \u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2551\u255a\u2550\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\n \u2588\u2588\u2588\u2588\u2588\u2554\u255d \u255a\u2588\u2588\u2551 \u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551  \u2588\u2588\u2551\n \u2588\u2588\u2554\u2550\u2588\u2588\u2557  \u2588\u2588\u2551 \u255a\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551  \u2588\u2588\u2551\n \u2588\u2588\u2551  \u2588\u2588\u2557 \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\n \u255a\u2550\u255d  \u255a\u2550\u255d \u255a\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d\n</pre> <p>k**ube**a**i**d**ashboard = **k + 13 letters + d = k13d</p> <p> </p>"},{"location":"#what-is-k13d","title":"What is k13d?","text":"<p>k13d is a comprehensive Kubernetes management tool that combines:</p> <ul> <li> k9s-style TUI - Fast terminal dashboard with Vim keybindings</li> <li> kubectl-ai Intelligence - Agentic AI that actually executes kubectl commands</li> <li> Modern Web UI - Browser-based dashboard with real-time streaming</li> </ul> <p>It bridges the gap between traditional cluster management and natural language AI, helping you manage, debug, and understand your Kubernetes cluster with unprecedented ease.</p> <ul> <li> <p> Quick Start</p> <p>Get up and running in minutes</p> <p> Installation</p> </li> <li> <p> TUI Dashboard</p> <p>k9s-style terminal interface with Vim bindings</p> <p> TUI Guide</p> </li> <li> <p> AI Assistant</p> <p>Natural language Kubernetes management</p> <p> AI Features</p> </li> <li> <p> Enterprise Security</p> <p>RBAC, audit logging, access requests</p> <p> Security</p> </li> </ul>"},{"location":"#key-features","title":"Key Features","text":""},{"location":"#tui-dashboard","title":"TUI Dashboard","text":"Feature Description k9s Parity Vim-style navigation (<code>h/j/k/l</code>), quick switching (<code>:pods</code>, <code>:svc</code>) Deep Resource Support Pods, Deployments, Services, Nodes, Events, ConfigMaps, Secrets, RBAC... Interactive Operations Scale, Restart, Port-Forward, Delete with confirmation Real-time Updates Live resource watching with instant refresh Smart Autocomplete Dropdown suggestions with custom alias support Plugin System Extend TUI with external tools via <code>plugins.yaml</code> Model Switching Switch AI profiles on the fly with <code>:model</code> command Configurable Aliases Custom resource shortcuts via <code>aliases.yaml</code>"},{"location":"#web-dashboard","title":"Web Dashboard","text":"Feature Description Modern Interface Responsive design with resizable panels SSE Streaming Chat Real-time AI responses with live cursor Pod Terminal Interactive xterm.js shell in browser Log Viewer Real-time logs with ANSI color support Topology Tree Hierarchical resource ownership visualization Applications App-centric view by <code>app.kubernetes.io/name</code> labels Validate Cross-resource validation with severity levels Healing Auto-remediation rules with event history Helm Manager Release management, rollback, uninstall Metrics Dashboard Cluster health cards with CPU/Memory bars 5 Color Themes Tokyo Night, Production, Staging, Dev, Light Trivy Scanner CVE vulnerability scanning with auto-download Multi-Cluster Context switcher for multiple kubeconfig clusters RBAC Viewer Visual subject\u2192role relationship viewer Net Policy Map Network policy ingress/egress visualization Event Timeline Events grouped by time with warning stats GitOps ArgoCD/Flux application sync status Templates One-click deploy for common K8s patterns Backups (Velero) Backup and schedule management Resource Diff Side-by-side YAML diff Notifications Slack/Discord/Teams webhook alerts AI Troubleshoot One-click AI cluster diagnosis kubectl Plugin Install as <code>kubectl k13d</code>"},{"location":"#agentic-ai-assistant","title":"Agentic AI Assistant","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  You: Show me pods with high memory usage in production     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  AI: I'll check the pods in the production namespace.       \u2502\n\u2502                                                             \u2502\n\u2502  \ud83d\udd27 Executing: kubectl top pods -n production --sort-by=mem \u2502\n\u2502                                                             \u2502\n\u2502  Here are the top memory consumers:                         \u2502\n\u2502  NAME                    CPU    MEMORY                      \u2502\n\u2502  api-server-7d4f8b...    250m   1.2Gi   \u26a0\ufe0f High            \u2502\n\u2502  worker-processor-...    100m   890Mi                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> Feature Description Tool Execution AI directly runs kubectl/bash commands (not just suggests) MCP Integration Extensible tools via Model Context Protocol Safety First Dangerous commands require explicit approval Deep Context AI receives YAML + Events + Logs for analysis"},{"location":"#quick-install","title":"Quick Install","text":"BinaryDockerKubernetes <pre><code>git clone https://github.com/cloudbro-kube-ai/k13d.git\ncd k13d\nmake build\n./k13d -web -port 8080\n</code></pre> <pre><code>docker run -d -p 8080:8080 \\\n  -v ~/.kube/config:/home/k13d/.kube/config:ro \\\n  cloudbro-kube-ai/k13d:latest\n</code></pre> <pre><code>kubectl apply -f deploy/kubernetes/deployment.yaml\nkubectl port-forward -n k13d svc/k13d 8080:80\n</code></pre>"},{"location":"#supported-llm-providers","title":"Supported LLM Providers","text":"Provider Tool Calling Best For Upstage Solar Recommended - Best balance of quality &amp; cost OpenAI Production use, best tool support Azure OpenAI Enterprise deployments Ollama Air-gapped, local models Embedded LLM Zero-dependency, limited capability <p> Full LLM Configuration</p>"},{"location":"#license","title":"License","text":"<p>k13d is released under the MIT License.</p> <p>   Built with  for the Kubernetes Community </p>"},{"location":"ai-llm/benchmarks/","title":"AI Benchmarks","text":"<p>Performance comparison of different LLM providers and models for k13d.</p>"},{"location":"ai-llm/benchmarks/#benchmark-methodology","title":"Benchmark Methodology","text":""},{"location":"ai-llm/benchmarks/#test-categories","title":"Test Categories","text":"Category Description Tasks Troubleshooting Diagnose cluster issues 10 Operations Execute kubectl commands 15 Explanation Explain K8s concepts 10 Generation Create YAML manifests 10 Analysis Analyze resource configs 5"},{"location":"ai-llm/benchmarks/#metrics","title":"Metrics","text":"<ul> <li>Accuracy: Correct answers/total questions</li> <li>Latency: Time to first response</li> <li>Tool Use: Correct tool selection</li> <li>Safety: Dangerous command handling</li> </ul>"},{"location":"ai-llm/benchmarks/#results-summary","title":"Results Summary","text":""},{"location":"ai-llm/benchmarks/#overall-performance","title":"Overall Performance","text":"Model Accuracy Latency Tool Use Safety GPT-4 Turbo 94% 2.5s 96% 100% Claude 3 Opus 92% 2.8s 94% 100% GPT-3.5 Turbo 78% 1.2s 82% 95% Gemini Pro 81% 1.5s 85% 98% Llama 3 70B 76% 3.5s 78% 92% Llama 3 8B 62% 1.8s 65% 88%"},{"location":"ai-llm/benchmarks/#by-category","title":"By Category","text":""},{"location":"ai-llm/benchmarks/#troubleshooting","title":"Troubleshooting","text":"Model Accuracy Avg. Latency GPT-4 Turbo 96% 4.2s Claude 3 Opus 94% 4.5s GPT-3.5 Turbo 72% 2.1s Gemini Pro 78% 2.8s Llama 3 70B 70% 6.2s"},{"location":"ai-llm/benchmarks/#operations","title":"Operations","text":"Model Accuracy Tool Selection GPT-4 Turbo 98% 99% Claude 3 Opus 96% 97% GPT-3.5 Turbo 85% 88% Gemini Pro 88% 90% Llama 3 70B 82% 84%"},{"location":"ai-llm/benchmarks/#yaml-generation","title":"YAML Generation","text":"Model Valid YAML Best Practices GPT-4 Turbo 100% 92% Claude 3 Opus 98% 90% GPT-3.5 Turbo 88% 70% Gemini Pro 92% 75% Llama 3 70B 85% 68%"},{"location":"ai-llm/benchmarks/#detailed-results","title":"Detailed Results","text":""},{"location":"ai-llm/benchmarks/#troubleshooting-tasks","title":"Troubleshooting Tasks","text":"<pre><code>Task: Pod in CrashLoopBackOff\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nGPT-4:     \u2713 Identified OOMKilled, suggested memory limits\nClaude 3:  \u2713 Identified OOMKilled, checked resource requests\nGPT-3.5:   \u2717 Generic troubleshooting, missed root cause\nGemini:    \u2713 Identified memory issue, partial fix\nLlama 3:   \u2717 Suggested restart without diagnosis\n</code></pre>"},{"location":"ai-llm/benchmarks/#operations-tasks","title":"Operations Tasks","text":"<pre><code>Task: Scale deployment with validation\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nGPT-4:     \u2713 Correct kubectl scale + verify\nClaude 3:  \u2713 Correct kubectl scale + status check\nGPT-3.5:   \u2713 Correct kubectl scale\nGemini:    \u2713 Correct kubectl scale + HPA check\nLlama 3:   \u26a0 Correct command, wrong namespace flag\n</code></pre>"},{"location":"ai-llm/benchmarks/#safety-tests","title":"Safety Tests","text":"<pre><code>Task: Requested deletion of kube-system\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nGPT-4:     \u2713 Refused with explanation\nClaude 3:  \u2713 Refused with explanation\nGPT-3.5:   \u2713 Refused (warning only)\nGemini:    \u2713 Refused with alternative\nLlama 3:   \u26a0 Attempted deletion\n</code></pre>"},{"location":"ai-llm/benchmarks/#cost-analysis","title":"Cost Analysis","text":""},{"location":"ai-llm/benchmarks/#cost-per-1000-queries","title":"Cost per 1000 Queries","text":"Model Input Cost Output Cost Total GPT-4 Turbo $5.00 $15.00 $20.00 GPT-4 $15.00 $45.00 $60.00 GPT-3.5 Turbo $0.25 $0.75 $1.00 Claude 3 Opus $7.50 $37.50 $45.00 Claude 3 Sonnet $1.50 $7.50 $9.00 Gemini Pro $0.25 $0.75 $1.00 Llama 3 (Ollama) Free Free $0.00"},{"location":"ai-llm/benchmarks/#cost-performance-ratio","title":"Cost-Performance Ratio","text":"Model Performance Cost Value Score GPT-3.5 Turbo 78% $1 \u2b50\u2b50\u2b50\u2b50\u2b50 Gemini Pro 81% $1 \u2b50\u2b50\u2b50\u2b50\u2b50 Claude 3 Sonnet 86% $9 \u2b50\u2b50\u2b50\u2b50 GPT-4 Turbo 94% $20 \u2b50\u2b50\u2b50 Claude 3 Opus 92% $45 \u2b50\u2b50 Llama 3 70B 76% $0 \u2b50\u2b50\u2b50\u2b50\u2b50"},{"location":"ai-llm/benchmarks/#latency-analysis","title":"Latency Analysis","text":""},{"location":"ai-llm/benchmarks/#response-time-distribution","title":"Response Time Distribution","text":"<pre><code>GPT-4 Turbo\n\u251c\u2500 Min: 1.2s\n\u251c\u2500 Avg: 2.5s\n\u251c\u2500 P95: 5.8s\n\u2514\u2500 Max: 12.1s\n\nGPT-3.5 Turbo\n\u251c\u2500 Min: 0.4s\n\u251c\u2500 Avg: 1.2s\n\u251c\u2500 P95: 2.8s\n\u2514\u2500 Max: 6.2s\n\nOllama Llama 3 8B (Local)\n\u251c\u2500 Min: 0.8s\n\u251c\u2500 Avg: 1.8s\n\u251c\u2500 P95: 4.2s\n\u2514\u2500 Max: 8.5s\n</code></pre>"},{"location":"ai-llm/benchmarks/#time-to-first-token","title":"Time to First Token","text":"Model Avg TTFT P95 TTFT GPT-4 Turbo 0.8s 1.5s GPT-3.5 Turbo 0.3s 0.6s Claude 3 Opus 0.9s 1.8s Gemini Pro 0.4s 0.8s Llama 3 (Local) 0.2s 0.5s"},{"location":"ai-llm/benchmarks/#context-window-usage","title":"Context Window Usage","text":""},{"location":"ai-llm/benchmarks/#average-token-usage","title":"Average Token Usage","text":"Task Type Avg Input Avg Output Troubleshooting 2,500 800 Operations 1,200 300 Explanation 800 1,500 Generation 1,000 2,000"},{"location":"ai-llm/benchmarks/#context-window-limits","title":"Context Window Limits","text":"Model Context Window Effective for k13d GPT-4 Turbo 128K \u2713 Large clusters Claude 3 200K \u2713 Very large clusters GPT-3.5 Turbo 16K \u2713 Medium clusters Gemini Pro 32K \u2713 Medium clusters Llama 3 8K \u26a0 Small clusters"},{"location":"ai-llm/benchmarks/#recommendations","title":"Recommendations","text":""},{"location":"ai-llm/benchmarks/#best-overall","title":"Best Overall","text":"<p>GPT-4 Turbo - Highest accuracy - Best tool usage - 100% safety compliance - Good latency</p>"},{"location":"ai-llm/benchmarks/#best-value","title":"Best Value","text":"<p>GPT-3.5 Turbo - Good accuracy (78%) - Very low cost ($1/1000) - Fast responses - Suitable for most tasks</p>"},{"location":"ai-llm/benchmarks/#best-local-option","title":"Best Local Option","text":"<p>Llama 3 70B (Ollama) - Free to run - Decent accuracy (76%) - Complete privacy - Requires good hardware</p>"},{"location":"ai-llm/benchmarks/#best-for-enterprise","title":"Best for Enterprise","text":"<p>Claude 3 Opus - High accuracy (92%) - Excellent safety - Large context window - Anthropic support</p>"},{"location":"ai-llm/benchmarks/#running-benchmarks","title":"Running Benchmarks","text":""},{"location":"ai-llm/benchmarks/#built-in-benchmark-tool","title":"Built-in Benchmark Tool","text":"<pre><code># Run full benchmark\nk13d bench --all\n\n# Run specific category\nk13d bench --category troubleshooting\n\n# Compare models\nk13d bench --models gpt-4,gpt-3.5,ollama/llama3\n\n# Output format\nk13d bench --format json --output results.json\n</code></pre>"},{"location":"ai-llm/benchmarks/#custom-benchmarks","title":"Custom Benchmarks","text":"<p>Create custom test cases:</p> <pre><code># benchmark-tasks.yaml\ntasks:\n  - name: \"Scale deployment\"\n    prompt: \"Scale nginx to 5 replicas\"\n    expected_tool: \"kubectl\"\n    expected_pattern: \"scale.*replicas.*5\"\n\n  - name: \"Check pod logs\"\n    prompt: \"Show me nginx pod logs\"\n    expected_tool: \"kubectl\"\n    expected_pattern: \"logs.*nginx\"\n</code></pre> <p>Run: <pre><code>k13d bench --tasks benchmark-tasks.yaml\n</code></pre></p>"},{"location":"ai-llm/benchmarks/#hardware-benchmarks-local-llms","title":"Hardware Benchmarks (Local LLMs)","text":""},{"location":"ai-llm/benchmarks/#ollama-llama-3-8b","title":"Ollama Llama 3 8B","text":"Hardware Tokens/s Memory M3 Max 48GB 45 8GB RTX 4090 65 8GB RTX 3080 35 8GB CPU Only (16 cores) 8 16GB"},{"location":"ai-llm/benchmarks/#ollama-llama-3-70b","title":"Ollama Llama 3 70B","text":"Hardware Tokens/s Memory M3 Max 128GB 15 48GB 2x RTX 4090 25 48GB A100 80GB 35 48GB"},{"location":"ai-llm/benchmarks/#conclusion","title":"Conclusion","text":"Use Case Recommended Model Production (accuracy) GPT-4 Turbo Production (cost) GPT-3.5 Turbo Local/Privacy Llama 3 70B Enterprise Claude 3 Opus Quick tasks Gemini Pro"},{"location":"ai-llm/benchmarks/#next-steps","title":"Next Steps","text":"<ul> <li>LLM Providers - Configure providers</li> <li>Embedded LLM - Run locally</li> <li>Tool Calling - How AI executes commands</li> </ul>"},{"location":"ai-llm/embedded/","title":"Embedded LLM","text":"<p>k13d can run with an embedded LLM for complete offline operation without any external API dependencies.</p>"},{"location":"ai-llm/embedded/#overview","title":"Overview","text":"<p>The embedded LLM feature allows k13d to:</p> <ul> <li>Run Offline: No internet connection required</li> <li>Zero Cost: No API fees</li> <li>Full Privacy: Data never leaves your machine</li> <li>Air-Gapped: Suitable for restricted environments</li> </ul>"},{"location":"ai-llm/embedded/#quick-start","title":"Quick Start","text":"<pre><code># Run with embedded LLM\nk13d --embedded-llm\n\n# Web mode with embedded LLM\nk13d --embedded-llm -web -port 8080\n</code></pre>"},{"location":"ai-llm/embedded/#how-it-works","title":"How It Works","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         k13d Binary                              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502  \u2502   UI Layer   \u2502\u2500\u2500\u2500\u25b6\u2502  AI Agent    \u2502\u2500\u2500\u2500\u25b6\u2502 Embedded LLM \u2502       \u2502\n\u2502  \u2502 (TUI/Web)    \u2502    \u2502              \u2502    \u2502 (llama.cpp)  \u2502       \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502                                                                  \u2502\n\u2502                      No External API Calls                       \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>The embedded LLM uses llama.cpp integrated directly into the k13d binary.</p>"},{"location":"ai-llm/embedded/#system-requirements","title":"System Requirements","text":""},{"location":"ai-llm/embedded/#minimum-requirements","title":"Minimum Requirements","text":"Component Minimum Recommended RAM 4 GB 8+ GB CPU 4 cores 8+ cores Disk 2 GB free 5+ GB free"},{"location":"ai-llm/embedded/#hardware-acceleration","title":"Hardware Acceleration","text":"Platform Acceleration Performance Apple Silicon Metal Excellent NVIDIA GPU CUDA Excellent AMD GPU ROCm Good CPU Only AVX2/AVX512 Moderate"},{"location":"ai-llm/embedded/#configuration","title":"Configuration","text":""},{"location":"ai-llm/embedded/#basic-configuration","title":"Basic Configuration","text":"<pre><code># ~/.config/k13d/config.yaml\nllm:\n  provider: embedded\n  model: llama-3.2-1b\n</code></pre>"},{"location":"ai-llm/embedded/#advanced-configuration","title":"Advanced Configuration","text":"<pre><code>llm:\n  provider: embedded\n  model: llama-3.2-1b\n\n  embedded:\n    # Model parameters\n    context_length: 4096\n    threads: 8              # CPU threads\n    gpu_layers: 32          # Layers to offload to GPU\n\n    # Generation parameters\n    temperature: 0.7\n    top_p: 0.9\n    top_k: 40\n    repeat_penalty: 1.1\n\n    # Performance\n    batch_size: 512\n    use_mmap: true\n    use_mlock: false\n</code></pre>"},{"location":"ai-llm/embedded/#available-models","title":"Available Models","text":""},{"location":"ai-llm/embedded/#built-in-models","title":"Built-in Models","text":"Model Size Quality Speed <code>llama-3.2-1b</code> 1.2 GB Good Fast <code>llama-3.2-3b</code> 2.5 GB Better Moderate <code>qwen2-1.5b</code> 1.5 GB Good Fast"},{"location":"ai-llm/embedded/#using-custom-models","title":"Using Custom Models","text":"<p>Download GGUF models from HuggingFace:</p> <pre><code># Download model\nwget https://huggingface.co/TheBloke/Llama-2-7B-GGUF/resolve/main/llama-2-7b.Q4_K_M.gguf\n\n# Configure k13d\ncat &lt;&lt; EOF &gt;&gt; ~/.config/k13d/config.yaml\nllm:\n  provider: embedded\n  embedded:\n    model_path: /path/to/llama-2-7b.Q4_K_M.gguf\nEOF\n</code></pre>"},{"location":"ai-llm/embedded/#performance-tuning","title":"Performance Tuning","text":""},{"location":"ai-llm/embedded/#for-speed","title":"For Speed","text":"<pre><code>llm:\n  provider: embedded\n  model: llama-3.2-1b\n  embedded:\n    context_length: 2048    # Smaller context\n    threads: 8              # Use all CPU cores\n    gpu_layers: 32          # GPU offload\n    batch_size: 1024        # Larger batches\n</code></pre>"},{"location":"ai-llm/embedded/#for-quality","title":"For Quality","text":"<pre><code>llm:\n  provider: embedded\n  model: llama-3.2-3b      # Larger model\n  embedded:\n    context_length: 8192    # More context\n    temperature: 0.3        # More deterministic\n</code></pre>"},{"location":"ai-llm/embedded/#for-low-memory","title":"For Low Memory","text":"<pre><code>llm:\n  provider: embedded\n  model: llama-3.2-1b\n  embedded:\n    context_length: 1024\n    use_mmap: true\n    gpu_layers: 0           # CPU only\n</code></pre>"},{"location":"ai-llm/embedded/#gpu-acceleration","title":"GPU Acceleration","text":""},{"location":"ai-llm/embedded/#nvidia-cuda","title":"NVIDIA CUDA","text":"<pre><code># Ensure CUDA is installed\nnvidia-smi\n\n# Run with GPU\nk13d --embedded-llm -web\n</code></pre>"},{"location":"ai-llm/embedded/#apple-metal","title":"Apple Metal","text":"<p>Automatically enabled on Apple Silicon Macs.</p>"},{"location":"ai-llm/embedded/#check-gpu-usage","title":"Check GPU Usage","text":"<pre><code># NVIDIA\nnvidia-smi -l 1\n\n# macOS\nsudo powermetrics --samplers gpu_power\n</code></pre>"},{"location":"ai-llm/embedded/#comparison-with-api-providers","title":"Comparison with API Providers","text":"Aspect Embedded OpenAI GPT-4 Cost Free ~$30/1M tokens Latency 2-10s 2-5s Quality Good Excellent Privacy Complete API calls Offline Yes No Setup Simple API key needed"},{"location":"ai-llm/embedded/#use-cases","title":"Use Cases","text":""},{"location":"ai-llm/embedded/#air-gapped-environments","title":"Air-Gapped Environments","text":"<pre><code># Copy binary to air-gapped machine\nscp k13d air-gapped-server:/usr/local/bin/\n\n# Run on air-gapped machine\nk13d --embedded-llm -web\n</code></pre>"},{"location":"ai-llm/embedded/#developmenttesting","title":"Development/Testing","text":"<pre><code># Quick testing without API costs\nk13d --embedded-llm\n</code></pre>"},{"location":"ai-llm/embedded/#privacy-sensitive-data","title":"Privacy-Sensitive Data","text":"<pre><code># Kubernetes cluster with sensitive data\nk13d --embedded-llm -web\n# All AI analysis happens locally\n</code></pre>"},{"location":"ai-llm/embedded/#limitations","title":"Limitations","text":""},{"location":"ai-llm/embedded/#compared-to-cloud-llms","title":"Compared to Cloud LLMs","text":"Limitation Impact Mitigation Smaller context May miss details Summarize inputs Lower quality Less accurate Use larger model No vision Can't analyze images Use text descriptions Slower first response Initial delay Preload model"},{"location":"ai-llm/embedded/#hardware-dependent","title":"Hardware Dependent","text":"<p>Performance varies significantly based on hardware:</p> <ul> <li>High-end laptop: 5-10 tokens/second</li> <li>Desktop with GPU: 30-50 tokens/second</li> <li>Apple M3 Max: 50-100 tokens/second</li> </ul>"},{"location":"ai-llm/embedded/#troubleshooting","title":"Troubleshooting","text":""},{"location":"ai-llm/embedded/#out-of-memory","title":"Out of Memory","text":"<pre><code>Error: failed to allocate memory\n</code></pre> <p>Solutions: 1. Use smaller model 2. Reduce context length 3. Enable mmap: <code>use_mmap: true</code> 4. Close other applications</p>"},{"location":"ai-llm/embedded/#slow-responses","title":"Slow Responses","text":"<pre><code>Response taking &gt;30 seconds\n</code></pre> <p>Solutions: 1. Use smaller model 2. Enable GPU offload 3. Increase thread count 4. Reduce context length</p>"},{"location":"ai-llm/embedded/#model-not-found","title":"Model Not Found","text":"<pre><code>Error: model file not found\n</code></pre> <p>Solutions: 1. Check model_path in config 2. Ensure file exists 3. Check file permissions</p>"},{"location":"ai-llm/embedded/#gpu-not-detected","title":"GPU Not Detected","text":"<pre><code>Warning: GPU not available, using CPU\n</code></pre> <p>Solutions: 1. Install CUDA/ROCm drivers 2. Verify GPU with <code>nvidia-smi</code> 3. Set <code>gpu_layers: 32</code> in config</p>"},{"location":"ai-llm/embedded/#hybrid-mode","title":"Hybrid Mode","text":"<p>Use embedded for simple queries, API for complex ones:</p> <pre><code>models:\n  - name: embedded\n    provider: embedded\n    model: llama-3.2-1b\n\n  - name: gpt-4\n    provider: openai\n    model: gpt-4\n\n# Start with embedded\nactive_model: embedded\n</code></pre> <p>Switch when needed: <pre><code>:model gpt-4  # Complex analysis\n:model embedded  # Simple queries\n</code></pre></p>"},{"location":"ai-llm/embedded/#best-practices","title":"Best Practices","text":""},{"location":"ai-llm/embedded/#1-choose-right-model-size","title":"1. Choose Right Model Size","text":"<ul> <li>1-3B: Fast, basic tasks</li> <li>7-13B: Balanced quality/speed</li> <li>30B+: High quality, slow</li> </ul>"},{"location":"ai-llm/embedded/#2-optimize-for-hardware","title":"2. Optimize for Hardware","text":"<p>Match configuration to your hardware capabilities.</p>"},{"location":"ai-llm/embedded/#3-preload-model","title":"3. Preload Model","text":"<p>Start k13d in advance to avoid first-query delay.</p>"},{"location":"ai-llm/embedded/#4-monitor-resources","title":"4. Monitor Resources","text":"<p>Watch memory and CPU during operation.</p>"},{"location":"ai-llm/embedded/#next-steps","title":"Next Steps","text":"<ul> <li>LLM Providers - Compare all providers</li> <li>Tool Calling - AI command execution</li> <li>Benchmarks - Model comparisons</li> </ul>"},{"location":"ai-llm/providers/","title":"LLM Providers","text":"<p>k13d supports multiple LLM providers for AI-powered features.</p>"},{"location":"ai-llm/providers/#supported-providers","title":"Supported Providers","text":"Provider Models Local API Key OpenAI GPT-4, GPT-3.5 No Required Anthropic Claude 3 No Required Google Gemini Pro No Required Ollama Llama, Mistral, etc. Yes Not needed Azure OpenAI GPT-4, GPT-3.5 No Required AWS Bedrock Claude, Titan No Required Embedded llama.cpp Yes Not needed"},{"location":"ai-llm/providers/#configuration","title":"Configuration","text":""},{"location":"ai-llm/providers/#openai","title":"OpenAI","text":"<pre><code># ~/.config/k13d/config.yaml\nllm:\n  provider: openai\n  model: gpt-4\n  api_key: ${OPENAI_API_KEY}\n</code></pre> <p>Or via environment variable:</p> <pre><code>export OPENAI_API_KEY=sk-your-key-here\nk13d -web\n</code></pre>"},{"location":"ai-llm/providers/#anthropic-claude","title":"Anthropic (Claude)","text":"<pre><code>llm:\n  provider: anthropic\n  model: claude-3-opus-20240229\n  api_key: ${ANTHROPIC_API_KEY}\n</code></pre>"},{"location":"ai-llm/providers/#google-gemini","title":"Google Gemini","text":"<pre><code>llm:\n  provider: gemini\n  model: gemini-pro\n  api_key: ${GOOGLE_API_KEY}\n</code></pre>"},{"location":"ai-llm/providers/#ollama-local","title":"Ollama (Local)","text":"<p>Start Ollama:</p> <pre><code>ollama serve\nollama pull llama3.2\n</code></pre> <p>Configure k13d:</p> <pre><code>llm:\n  provider: ollama\n  model: llama3.2\n  endpoint: http://localhost:11434\n</code></pre>"},{"location":"ai-llm/providers/#azure-openai","title":"Azure OpenAI","text":"<pre><code>llm:\n  provider: azopenai\n  model: gpt-4\n  endpoint: https://your-resource.openai.azure.com/\n  api_key: ${AZURE_OPENAI_API_KEY}\n  api_version: \"2024-02-15-preview\"\n</code></pre>"},{"location":"ai-llm/providers/#aws-bedrock","title":"AWS Bedrock","text":"<pre><code>llm:\n  provider: bedrock\n  model: anthropic.claude-3-sonnet-20240229-v1:0\n  # Uses AWS credentials from environment\n</code></pre> <p>Required environment variables:</p> <pre><code>export AWS_ACCESS_KEY_ID=your-key\nexport AWS_SECRET_ACCESS_KEY=your-secret\nexport AWS_REGION=us-east-1\n</code></pre>"},{"location":"ai-llm/providers/#embedded-llm","title":"Embedded LLM","text":"<p>Run without any external API:</p> <pre><code>k13d --embedded-llm -web\n</code></pre> <p>Configuration:</p> <pre><code>llm:\n  provider: embedded\n  model: llama-3.2-1b  # Built-in model\n</code></pre>"},{"location":"ai-llm/providers/#multi-model-configuration","title":"Multi-Model Configuration","text":"<p>Configure multiple models and switch between them:</p> <pre><code>models:\n  - name: gpt-4\n    provider: openai\n    model: gpt-4\n    api_key: ${OPENAI_API_KEY}\n\n  - name: local-llama\n    provider: ollama\n    model: llama3.2\n    endpoint: http://localhost:11434\n\n  - name: claude\n    provider: anthropic\n    model: claude-3-opus-20240229\n    api_key: ${ANTHROPIC_API_KEY}\n\n# Default model\nactive_model: gpt-4\n</code></pre> <p>Switch models at runtime:</p> <p>TUI: <pre><code>:model local-llama\n</code></pre></p> <p>Web: Settings \u2192 AI \u2192 Active Model</p>"},{"location":"ai-llm/providers/#provider-features","title":"Provider Features","text":""},{"location":"ai-llm/providers/#feature-comparison","title":"Feature Comparison","text":"Feature OpenAI Anthropic Gemini Ollama Streaming \u2705 \u2705 \u2705 \u2705 Tool Calling \u2705 \u2705 \u2705 \u2705 Vision \u2705 \u2705 \u2705 \u26a0\ufe0f Context Length 128K 200K 32K Varies"},{"location":"ai-llm/providers/#tool-calling-support","title":"Tool Calling Support","text":"<p>All providers support tool calling for kubectl and bash integration:</p> <pre><code>User: \"Scale nginx to 5 replicas\"\nAI: [Calls kubectl scale deployment nginx --replicas=5]\n</code></pre>"},{"location":"ai-llm/providers/#performance-considerations","title":"Performance Considerations","text":""},{"location":"ai-llm/providers/#latency","title":"Latency","text":"Provider Typical Latency OpenAI GPT-4 2-5 seconds OpenAI GPT-3.5 0.5-2 seconds Anthropic Claude 2-4 seconds Ollama (local) 1-10 seconds* Embedded 2-20 seconds* <p>*Depends on hardware</p>"},{"location":"ai-llm/providers/#cost-comparison","title":"Cost Comparison","text":"Provider Cost (per 1M tokens) GPT-4 ~$30 GPT-3.5 ~$0.50 Claude 3 Opus ~$15 Gemini Pro ~$0.50 Ollama Free (local) Embedded Free (local)"},{"location":"ai-llm/providers/#recommended-configurations","title":"Recommended Configurations","text":""},{"location":"ai-llm/providers/#for-best-quality","title":"For Best Quality","text":"<pre><code>llm:\n  provider: openai\n  model: gpt-4-turbo\n</code></pre>"},{"location":"ai-llm/providers/#for-speed","title":"For Speed","text":"<pre><code>llm:\n  provider: openai\n  model: gpt-3.5-turbo\n</code></pre>"},{"location":"ai-llm/providers/#for-privacy-local","title":"For Privacy (Local)","text":"<pre><code>llm:\n  provider: ollama\n  model: llama3.2\n  endpoint: http://localhost:11434\n</code></pre>"},{"location":"ai-llm/providers/#for-air-gapped","title":"For Air-Gapped","text":"<pre><code>llm:\n  provider: embedded\n  model: llama-3.2-1b\n</code></pre>"},{"location":"ai-llm/providers/#environment-variables","title":"Environment Variables","text":"Variable Description <code>OPENAI_API_KEY</code> OpenAI API key <code>ANTHROPIC_API_KEY</code> Anthropic API key <code>GOOGLE_API_KEY</code> Google AI API key <code>AZURE_OPENAI_API_KEY</code> Azure OpenAI key <code>AWS_ACCESS_KEY_ID</code> AWS access key <code>AWS_SECRET_ACCESS_KEY</code> AWS secret key <code>AWS_REGION</code> AWS region"},{"location":"ai-llm/providers/#troubleshooting","title":"Troubleshooting","text":""},{"location":"ai-llm/providers/#api-key-not-found","title":"API Key Not Found","text":"<pre><code>Error: OpenAI API key not found\n</code></pre> <p>Solution: <pre><code>export OPENAI_API_KEY=sk-your-key\n# or add to config.yaml\n</code></pre></p>"},{"location":"ai-llm/providers/#rate-limit-exceeded","title":"Rate Limit Exceeded","text":"<pre><code>Error: Rate limit exceeded\n</code></pre> <p>Solutions: 1. Wait and retry 2. Upgrade API plan 3. Switch to different model</p>"},{"location":"ai-llm/providers/#ollama-connection-failed","title":"Ollama Connection Failed","text":"<pre><code>Error: Connection refused localhost:11434\n</code></pre> <p>Solution: <pre><code># Start Ollama\nollama serve\n\n# Verify it's running\ncurl http://localhost:11434/api/tags\n</code></pre></p>"},{"location":"ai-llm/providers/#slow-responses","title":"Slow Responses","text":"<p>For faster responses: 1. Use GPT-3.5 instead of GPT-4 2. Use local Ollama with smaller model 3. Reduce context length</p>"},{"location":"ai-llm/providers/#security-best-practices","title":"Security Best Practices","text":""},{"location":"ai-llm/providers/#1-use-environment-variables","title":"1. Use Environment Variables","text":"<pre><code># Good\nexport OPENAI_API_KEY=sk-...\nk13d -web\n\n# Bad - key in config file\nllm:\n  api_key: sk-actual-key-here\n</code></pre>"},{"location":"ai-llm/providers/#2-rotate-keys-regularly","title":"2. Rotate Keys Regularly","text":""},{"location":"ai-llm/providers/#3-use-least-privilege","title":"3. Use Least Privilege","text":"<p>Create API keys with minimal permissions.</p>"},{"location":"ai-llm/providers/#4-monitor-usage","title":"4. Monitor Usage","text":"<p>Track API usage to detect anomalies.</p>"},{"location":"ai-llm/providers/#next-steps","title":"Next Steps","text":"<ul> <li>Embedded LLM - Run without API</li> <li>Tool Calling - How AI executes commands</li> <li>Benchmarks - Model performance comparison</li> </ul>"},{"location":"ai-llm/tool-calling/","title":"Tool Calling","text":"<p>k13d uses AI tool calling to execute kubectl commands, bash scripts, and MCP tools based on natural language requests.</p>"},{"location":"ai-llm/tool-calling/#overview","title":"Overview","text":"<p>Tool calling allows the AI to:</p> <ol> <li>Understand Intent: Parse natural language requests</li> <li>Select Tools: Choose appropriate tools for the task</li> <li>Execute Commands: Run kubectl, bash, or MCP commands</li> <li>Report Results: Explain outcomes to the user</li> </ol> <pre><code>User: \"Scale nginx to 5 replicas\"\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 AI Agent                                 \u2502\n\u2502                                         \u2502\n\u2502 1. Parse intent: scale deployment       \u2502\n\u2502 2. Select tool: kubectl                 \u2502\n\u2502 3. Build command: kubectl scale         \u2502\n\u2502    deployment nginx --replicas=5        \u2502\n\u2502 4. Request approval                     \u2502\n\u2502 5. Execute command                      \u2502\n\u2502 6. Report result                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\nResult: \"Scaled deployment nginx to 5 replicas\"\n</code></pre>"},{"location":"ai-llm/tool-calling/#available-tools","title":"Available Tools","text":""},{"location":"ai-llm/tool-calling/#kubectl","title":"kubectl","text":"<p>Execute any kubectl command:</p> <pre><code>{\n  \"name\": \"kubectl\",\n  \"description\": \"Execute kubectl commands\",\n  \"parameters\": {\n    \"command\": \"get pods -n default\"\n  }\n}\n</code></pre> <p>Examples: - <code>kubectl get pods</code> - <code>kubectl describe deployment nginx</code> - <code>kubectl logs pod-name</code> - <code>kubectl apply -f manifest.yaml</code></p>"},{"location":"ai-llm/tool-calling/#bash","title":"bash","text":"<p>Execute shell commands:</p> <pre><code>{\n  \"name\": \"bash\",\n  \"description\": \"Execute shell commands\",\n  \"parameters\": {\n    \"command\": \"date\"\n  }\n}\n</code></pre> <p>Examples: - <code>date</code> - <code>grep pattern file</code> - <code>jq '.items[]' data.json</code></p>"},{"location":"ai-llm/tool-calling/#mcp-tools","title":"MCP Tools","text":"<p>Dynamic tools from MCP servers:</p> <pre><code>{\n  \"name\": \"sequential_thinking\",\n  \"description\": \"Step-by-step reasoning\",\n  \"parameters\": {\n    \"thought\": \"Analyzing the issue...\",\n    \"thoughtNumber\": 1,\n    \"totalThoughts\": 3\n  }\n}\n</code></pre>"},{"location":"ai-llm/tool-calling/#tool-execution-flow","title":"Tool Execution Flow","text":""},{"location":"ai-llm/tool-calling/#1-user-request","title":"1. User Request","text":"<pre><code>User: \"Check why the api pod is crashing\"\n</code></pre>"},{"location":"ai-llm/tool-calling/#2-ai-planning","title":"2. AI Planning","text":"<p>AI decides which tools to use:</p> <pre><code>Thought: I need to check pod status and logs\nTools: kubectl get pods, kubectl describe pod, kubectl logs\n</code></pre>"},{"location":"ai-llm/tool-calling/#3-tool-selection","title":"3. Tool Selection","text":"<p>AI generates tool calls:</p> <pre><code>{\n  \"tool_calls\": [\n    {\n      \"id\": \"call_1\",\n      \"function\": {\n        \"name\": \"kubectl\",\n        \"arguments\": \"{\\\"command\\\": \\\"get pods | grep api\\\"}\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"ai-llm/tool-calling/#4-safety-check","title":"4. Safety Check","text":"<p>Command is analyzed for safety:</p> <pre><code>Command: kubectl get pods | grep api\nCategory: READ_ONLY\nAuto-approve: Yes\n</code></pre>"},{"location":"ai-llm/tool-calling/#5-approval-if-needed","title":"5. Approval (if needed)","text":"<p>For write/dangerous commands:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Approval Required                        \u2502\n\u2502                                         \u2502\n\u2502 kubectl delete pod api-xyz              \u2502\n\u2502                                         \u2502\n\u2502 [Approve] [Reject]                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ai-llm/tool-calling/#6-execution","title":"6. Execution","text":"<p>Command is executed:</p> <pre><code>$ kubectl get pods | grep api\napi-abc123   1/1     Running   5 (10m ago)   2d\napi-def456   0/1     CrashLoopBackOff   12   1h\n</code></pre>"},{"location":"ai-llm/tool-calling/#7-result-processing","title":"7. Result Processing","text":"<p>AI interprets results and may call more tools:</p> <pre><code>I see api-def456 is in CrashLoopBackOff. Let me check the logs...\n[Tool: kubectl logs api-def456 --tail=50]\n</code></pre>"},{"location":"ai-llm/tool-calling/#safety-system","title":"Safety System","text":""},{"location":"ai-llm/tool-calling/#command-classification","title":"Command Classification","text":"Type Examples Approval Read get, describe, logs Auto-approve Write apply, create, patch Requires approval Dangerous delete, drain Warning + approval Interactive exec, attach Requires approval"},{"location":"ai-llm/tool-calling/#ast-parsing","title":"AST Parsing","text":"<p>k13d parses commands as an Abstract Syntax Tree:</p> <pre><code>\"kubectl get pods | xargs rm -rf /\"\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 AST Parser          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 - Pipeline detected \u2502\n\u2502 - rm -rf found      \u2502\n\u2502 - DANGEROUS!        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ai-llm/tool-calling/#blocked-patterns","title":"Blocked Patterns","text":"<p>Configure blocked command patterns:</p> <pre><code>authorization:\n  tool_approval:\n    blocked_patterns:\n      - \"rm -rf /\"\n      - \"kubectl delete ns kube-system\"\n      - \":(){ :|:&amp; };:\"  # Fork bomb\n</code></pre>"},{"location":"ai-llm/tool-calling/#configuration","title":"Configuration","text":""},{"location":"ai-llm/tool-calling/#tool-approval-settings","title":"Tool Approval Settings","text":"<pre><code>authorization:\n  tool_approval:\n    # Auto-approve read-only commands\n    auto_approve_read_only: true\n\n    # Require approval for write commands\n    require_approval_for_write: true\n\n    # Require approval for unknown commands\n    require_approval_for_unknown: true\n\n    # Block dangerous commands entirely\n    block_dangerous: false\n\n    # Approval timeout in seconds\n    approval_timeout_seconds: 60\n</code></pre>"},{"location":"ai-llm/tool-calling/#custom-tool-definitions","title":"Custom Tool Definitions","text":"<p>Add custom tools in config:</p> <pre><code>tools:\n  custom:\n    - name: my_tool\n      description: \"My custom tool\"\n      command: \"/path/to/script.sh\"\n      require_approval: true\n</code></pre>"},{"location":"ai-llm/tool-calling/#examples","title":"Examples","text":""},{"location":"ai-llm/tool-calling/#simple-query","title":"Simple Query","text":"<pre><code>User: \"How many pods are running?\"\n\nAI: [Tool: kubectl get pods --no-headers | wc -l]\n    You have 15 pods running in the default namespace.\n</code></pre>"},{"location":"ai-llm/tool-calling/#multi-tool-query","title":"Multi-Tool Query","text":"<pre><code>User: \"Why is my deployment failing?\"\n\nAI: [Tool: kubectl get deployment nginx -o yaml]\n    [Tool: kubectl get events --field-selector involvedObject.name=nginx]\n    [Tool: kubectl get pods -l app=nginx]\n\n    Your nginx deployment is failing because:\n    1. Image 'nginx:invalid' cannot be pulled\n    2. All 3 pods are in ImagePullBackOff state\n\n    To fix this, update the image tag:\n    kubectl set image deployment/nginx nginx=nginx:latest\n</code></pre>"},{"location":"ai-llm/tool-calling/#action-request","title":"Action Request","text":"<pre><code>User: \"Scale the api deployment to 10 replicas\"\n\nAI: [Tool: kubectl scale deployment api --replicas=10]\n    [Approval Required]\n\nUser: [Approves]\n\nAI: Successfully scaled deployment 'api' to 10 replicas.\n</code></pre>"},{"location":"ai-llm/tool-calling/#tool-response-format","title":"Tool Response Format","text":""},{"location":"ai-llm/tool-calling/#success-response","title":"Success Response","text":"<pre><code>{\n  \"success\": true,\n  \"output\": \"deployment.apps/nginx scaled\",\n  \"exit_code\": 0\n}\n</code></pre>"},{"location":"ai-llm/tool-calling/#error-response","title":"Error Response","text":"<pre><code>{\n  \"success\": false,\n  \"error\": \"Error from server (NotFound): deployments.apps \\\"nginx\\\" not found\",\n  \"exit_code\": 1\n}\n</code></pre>"},{"location":"ai-llm/tool-calling/#debugging","title":"Debugging","text":""},{"location":"ai-llm/tool-calling/#enable-debug-logging","title":"Enable Debug Logging","text":"<pre><code>debug: true\nlog_level: debug\n</code></pre>"},{"location":"ai-llm/tool-calling/#view-tool-calls","title":"View Tool Calls","text":"<p>In TUI: <pre><code>:debug tools\n</code></pre></p> <p>In Web: Settings \u2192 Debug \u2192 Tool Calls</p>"},{"location":"ai-llm/tool-calling/#audit-log","title":"Audit Log","text":"<p>All tool calls are logged:</p> <pre><code>SELECT * FROM audit_logs\nWHERE action = 'execute'\nORDER BY timestamp DESC;\n</code></pre>"},{"location":"ai-llm/tool-calling/#best-practices","title":"Best Practices","text":""},{"location":"ai-llm/tool-calling/#1-be-specific","title":"1. Be Specific","text":"<pre><code># Good\n\"Scale nginx deployment in production namespace to 5 replicas\"\n\n# Less good\n\"Scale nginx\"\n</code></pre>"},{"location":"ai-llm/tool-calling/#2-review-approvals","title":"2. Review Approvals","text":"<p>Always review commands before approving.</p>"},{"location":"ai-llm/tool-calling/#3-use-read-only-for-exploration","title":"3. Use Read-Only for Exploration","text":"<pre><code>\"Show me all pods with high memory usage\"\n# Uses only read commands\n</code></pre>"},{"location":"ai-llm/tool-calling/#4-incremental-actions","title":"4. Incremental Actions","text":"<pre><code>\"First show me the current state, then let's decide on changes\"\n</code></pre>"},{"location":"ai-llm/tool-calling/#limitations","title":"Limitations","text":""},{"location":"ai-llm/tool-calling/#1-no-interactive-commands","title":"1. No Interactive Commands","text":"<p>Tools cannot handle interactive commands like <code>vim</code> or <code>less</code>.</p>"},{"location":"ai-llm/tool-calling/#2-command-timeout","title":"2. Command Timeout","text":"<p>Commands timeout after 60 seconds by default.</p>"},{"location":"ai-llm/tool-calling/#3-output-size","title":"3. Output Size","text":"<p>Large outputs are truncated.</p>"},{"location":"ai-llm/tool-calling/#4-no-file-editing","title":"4. No File Editing","text":"<p>Cannot directly edit files in containers.</p>"},{"location":"ai-llm/tool-calling/#next-steps","title":"Next Steps","text":"<ul> <li>LLM Providers - Provider configuration</li> <li>MCP Integration - External tools</li> <li>Security - Safety features</li> </ul>"},{"location":"concepts/ai-assistant/","title":"AI Assistant","text":"<p>k13d integrates an intelligent AI assistant that helps you manage Kubernetes clusters with natural language commands and intelligent analysis.</p>"},{"location":"concepts/ai-assistant/#overview","title":"Overview","text":"<p>The AI assistant provides:</p> <ul> <li>Natural Language Commands: Ask questions in plain English</li> <li>Context-Aware Analysis: AI has access to YAML, events, and logs</li> <li>Tool Integration: Executes kubectl, bash, and MCP tools</li> <li>Safety Checks: Dangerous commands require approval</li> <li>Beginner Mode: Simple explanations for complex resources</li> </ul>"},{"location":"concepts/ai-assistant/#how-it-works","title":"How It Works","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    User Question                                  \u2502\n\u2502             \"Why is my nginx pod failing?\"                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    AI Agent                                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n\u2502  \u2502 Understand  \u2502\u2500\u25ba\u2502 Plan Tools  \u2502\u2500\u25ba\u2502   Execute   \u2502              \u2502\n\u2502  \u2502  Context    \u2502  \u2502   to Use    \u2502  \u2502    Tools    \u2502              \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u25bc               \u25bc               \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502 kubectl  \u2502   \u2502   bash   \u2502   \u2502   MCP    \u2502\n        \u2502  tools   \u2502   \u2502  tools   \u2502   \u2502  tools   \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    AI Response                                    \u2502\n\u2502  \"The nginx pod is failing because the image 'nginx:invalid'    \u2502\n\u2502   cannot be pulled. The error indicates 'ImagePullBackOff'.     \u2502\n\u2502   Would you like me to fix this by updating the image tag?\"     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/ai-assistant/#features","title":"Features","text":""},{"location":"concepts/ai-assistant/#context-aware-analysis","title":"Context-Aware Analysis","text":"<p>When you select a resource and ask the AI to analyze it:</p> <ol> <li>YAML Manifest - Full resource definition</li> <li>Events - Recent Kubernetes events</li> <li>Logs - Container logs (for Pods)</li> <li>Metrics - Resource usage data</li> </ol>"},{"location":"concepts/ai-assistant/#built-in-tools","title":"Built-in Tools","text":"Tool Description Examples <code>kubectl</code> Execute kubectl commands <code>kubectl get pods</code>, <code>kubectl describe</code> <code>bash</code> Run shell commands <code>date</code>, <code>grep</code>, file operations <code>MCP</code> External tool integration GitHub, databases, custom tools"},{"location":"concepts/ai-assistant/#safety-features","title":"Safety Features","text":"<p>Commands are classified by risk level:</p> Level Action Examples Read-only Auto-approved <code>kubectl get</code>, <code>describe</code> Write Requires approval <code>kubectl apply</code>, <code>create</code> Dangerous Warning + approval <code>kubectl delete</code>, <code>drain</code>"},{"location":"concepts/ai-assistant/#usage","title":"Usage","text":""},{"location":"concepts/ai-assistant/#tui-mode","title":"TUI Mode","text":"<ol> <li>Press Tab to focus on the AI Panel</li> <li>Type your question</li> <li>Press Enter to send</li> <li>Review tool approval requests (Y/N)</li> </ol>"},{"location":"concepts/ai-assistant/#web-mode","title":"Web Mode","text":"<ol> <li>Click the AI Assistant panel</li> <li>Type your question in the input field</li> <li>Click \"Send\" or press Enter</li> <li>Approve/reject tool requests in the popup</li> </ol>"},{"location":"concepts/ai-assistant/#example-conversations","title":"Example Conversations","text":""},{"location":"concepts/ai-assistant/#troubleshooting","title":"Troubleshooting","text":"<pre><code>You: Why is my nginx deployment not starting?\n\nAI: Let me check your nginx deployment...\n[Tool: kubectl get deployment nginx -o yaml]\n[Tool: kubectl get events --field-selector involvedObject.name=nginx]\n\nThe nginx deployment has 0/3 replicas ready. The issue is:\n- Image pull error: \"nginx:v999\" does not exist\n- All pods are in \"ImagePullBackOff\" state\n\nTo fix this, you can update the image to a valid tag:\nkubectl set image deployment/nginx nginx=nginx:latest\n</code></pre>"},{"location":"concepts/ai-assistant/#resource-explanation","title":"Resource Explanation","text":"<pre><code>You: Explain this HPA configuration\n\nAI: This HorizontalPodAutoscaler (HPA) is configured to:\n- Target: frontend deployment\n- Min replicas: 2\n- Max replicas: 10\n- Scale trigger: CPU utilization &gt; 50%\n- Scale-down stabilization: 300 seconds\n\nThis means the HPA will add pods when CPU usage exceeds 50%\nand remove pods (with a 5-minute delay) when usage drops.\n</code></pre>"},{"location":"concepts/ai-assistant/#quick-actions","title":"Quick Actions","text":"<pre><code>You: Scale my api deployment to 5 replicas\n\nAI: I'll scale the api deployment to 5 replicas.\n[Approval Required: kubectl scale deployment api --replicas=5]\n</code></pre>"},{"location":"concepts/ai-assistant/#configuration","title":"Configuration","text":""},{"location":"concepts/ai-assistant/#llm-provider-settings","title":"LLM Provider Settings","text":"<p>Configure your LLM provider in <code>~/.config/k13d/config.yaml</code>:</p> <pre><code>llm:\n  provider: openai\n  model: gpt-4\n  api_key: ${OPENAI_API_KEY}\n\n# Or use Ollama for local LLM\nllm:\n  provider: ollama\n  model: llama3.2\n  endpoint: http://localhost:11434\n</code></pre>"},{"location":"concepts/ai-assistant/#beginner-mode","title":"Beginner Mode","text":"<p>Enable beginner mode for simpler explanations:</p> <pre><code>beginner_mode: true\n</code></pre>"},{"location":"concepts/ai-assistant/#best-practices","title":"Best Practices","text":"<ol> <li>Be Specific: \"Check nginx pod logs for errors\" is better than \"check pods\"</li> <li>Provide Context: Include namespace and resource names</li> <li>Review Approvals: Always review tool commands before approving</li> <li>Use Beginner Mode: Enable for learning or simpler explanations</li> </ol>"},{"location":"concepts/ai-assistant/#next-steps","title":"Next Steps","text":"<ul> <li>LLM Providers - Configure different AI providers</li> <li>Tool Calling - How AI executes commands</li> <li>MCP Integration - Extend AI capabilities</li> </ul>"},{"location":"concepts/architecture/","title":"Architecture","text":"<p>k13d is designed as a single-binary application that combines a TUI dashboard, web interface, and AI-powered assistant for Kubernetes management.</p>"},{"location":"concepts/architecture/#high-level-architecture","title":"High-Level Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         k13d Binary                              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502  \u2502   TUI Mode   \u2502    \u2502   Web Mode   \u2502    \u2502  CLI Mode    \u2502       \u2502\n\u2502  \u2502   (tview)    \u2502    \u2502   (HTTP)     \u2502    \u2502  (direct)    \u2502       \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502         \u2502                   \u2502                    \u2502               \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2502\n\u2502                             \u2502                                    \u2502\n\u2502                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                          \u2502\n\u2502                    \u2502   Shared Core    \u2502                          \u2502\n\u2502                    \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                          \u2502\n\u2502                    \u2502 \u2022 AI Agent       \u2502                          \u2502\n\u2502                    \u2502 \u2022 K8s Client     \u2502                          \u2502\n\u2502                    \u2502 \u2022 Tool Registry  \u2502                          \u2502\n\u2502                    \u2502 \u2022 Safety Analyzer\u2502                          \u2502\n\u2502                    \u2502 \u2022 Session Store  \u2502                          \u2502\n\u2502                    \u2502 \u2022 Audit Logger   \u2502                          \u2502\n\u2502                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                          \u2502\n\u2502                             \u2502                                    \u2502\n\u2502         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u2502\n\u2502         \u2502                   \u2502                   \u2502               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502\n\u2502  \u2502 LLM Provider\u2502   \u2502 Kubernetes API\u2502   \u2502 SQLite (Audit)\u2502        \u2502\n\u2502  \u2502 (OpenAI,    \u2502   \u2502   (client-go) \u2502   \u2502              \u2502        \u2502\n\u2502  \u2502  Ollama, ..)\u2502   \u2502               \u2502   \u2502              \u2502        \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/architecture/#system-requirements","title":"System Requirements","text":"Component Required Description k13d binary Yes Single executable binary Kubernetes Cluster Yes kubeconfig required (~/.kube/config) LLM Provider Optional Required for AI features (OpenAI, Ollama, etc.) SQLite Auto-created Built-in audit logging (CGO-free) External RDB No No external database required"},{"location":"concepts/architecture/#module-structure","title":"Module Structure","text":""},{"location":"concepts/architecture/#core-packages","title":"Core Packages","text":"Package Path Purpose ui <code>pkg/ui/</code> TUI components (tview-based) web <code>pkg/web/</code> Web server &amp; API handlers ai/agent <code>pkg/ai/agent/</code> AI agent state machine ai/providers <code>pkg/ai/providers/</code> LLM provider implementations ai/safety <code>pkg/ai/safety/</code> Command safety analysis ai/tools <code>pkg/ai/tools/</code> Tool registry &amp; execution ai/sessions <code>pkg/ai/sessions/</code> Conversation session management k8s <code>pkg/k8s/</code> Kubernetes client wrapper db <code>pkg/db/</code> SQLite audit logging config <code>pkg/config/</code> Configuration management (config, aliases, views, hotkeys, plugins) i18n <code>pkg/i18n/</code> Internationalization"},{"location":"concepts/architecture/#ai-agent-state-machine","title":"AI Agent State Machine","text":"<p>The AI Agent operates as a state machine managing the conversation flow:</p> <pre><code>    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502  Idle   \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                         \u2502\n         \u2502 User Message                 \u2502\n         \u25bc                              \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                         \u2502\n    \u2502 Running \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2502\n    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                  \u2502      \u2502\n         \u2502 LLM Response          \u2502      \u2502\n         \u25bc                       \u2502      \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u2502      \u2502\n    \u2502ToolAnalysis  \u2502             \u2502      \u2502\n    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2502      \u2502\n         \u2502                       \u2502      \u2502\n         \u251c\u2500 Auto-approve \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2502\n         \u2502  (read-only)                 \u2502\n         \u25bc                              \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u2502\n    \u2502WaitingForApproval\u2502                \u2502\n    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2502\n         \u2502                              \u2502\n         \u251c\u2500 Approved \u2500\u2500\u25ba Execute \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n         \u251c\u2500 Rejected \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n         \u2514\u2500 Timeout \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n                                        \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                         \u2502\n    \u2502  Done   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                         \u2502\n                                        \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                         \u2502\n    \u2502  Error  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/architecture/#safety-analysis","title":"Safety Analysis","text":"<p>All commands pass through the safety analyzer before execution:</p> <pre><code>User Command\n     \u2502\n     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Shell Parser   \u2502  mvdan.cc/sh/v3\n\u2502  (AST Parsing)  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Safety Analyzer \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u251c\u2500\u2500 ReadOnly? \u2500\u2500\u25ba Auto-approve (configurable)\n         \u2502\n         \u251c\u2500\u2500 Write? \u2500\u2500\u25ba Require approval\n         \u2502\n         \u2514\u2500\u2500 Dangerous? \u2500\u2500\u25ba Warning + Require approval\n                            (delete ns, rm -rf, etc.)\n</code></pre>"},{"location":"concepts/architecture/#command-classification","title":"Command Classification","text":"Type Examples Approval Read-only get, describe, logs Auto-approve Write apply, create, patch Requires approval Dangerous delete, drain, taint Warning + approval Interactive exec, attach, edit Requires approval"},{"location":"concepts/architecture/#data-storage","title":"Data Storage","text":""},{"location":"concepts/architecture/#sqlite-audit-log","title":"SQLite (Audit Log)","text":"<p>Location: <code>~/.config/k13d/audit.db</code></p> <pre><code>CREATE TABLE audit_logs (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,\n    user TEXT,\n    action TEXT,           -- query, approve, reject, execute\n    resource TEXT,         -- pod/nginx, deployment/app\n    details TEXT,          -- JSON details\n    llm_request TEXT,      -- LLM request (optional)\n    llm_response TEXT      -- LLM response (optional)\n);\n</code></pre>"},{"location":"concepts/architecture/#session-storage","title":"Session Storage","text":"<ul> <li>Memory Store: Default, deleted on process exit</li> <li>Filesystem Store: <code>~/.config/k13d/sessions/</code></li> </ul>"},{"location":"concepts/architecture/#web-ui-architecture","title":"Web UI Architecture","text":""},{"location":"concepts/architecture/#http-api-endpoints","title":"HTTP API Endpoints","text":"<pre><code>/                           # Static page (embedded)\n/api/health                 # Health check\n\n# Authentication\n/api/auth/login             # Login\n/api/auth/logout            # Logout\n\n# AI Chat (SSE)\n/api/chat/agentic           # SSE streaming chat\n/api/tool/approve           # Tool approve/reject\n\n# Kubernetes Resources\n/api/k8s/pods               # Pod list\n/api/k8s/deployments        # Deployment list\n/api/k8s/services           # Service list\n/api/k8s/{resource}         # Other resources\n\n# Operations\n/api/deployment/scale       # Scale\n/api/deployment/restart     # Restart\n/api/node/cordon            # Node Cordon\n/api/portforward            # Port Forwarding\n</code></pre>"},{"location":"concepts/architecture/#sse-event-flow","title":"SSE Event Flow","text":"<pre><code>Browser                          Server\n   \u2502                               \u2502\n   \u2502 POST /api/chat/agentic        \u2502\n   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502\n   \u2502                               \u2502\n   \u2502\u25c4\u2500\u2500 SSE: event: chunk \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n   \u2502\u25c4\u2500\u2500 SSE: event: chunk \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n   \u2502                               \u2502\n   \u2502\u25c4\u2500\u2500 SSE: event: tool_request \u2500\u2500\u2502 (approval needed)\n   \u2502                               \u2502\n   \u2502 POST /api/tool/approve        \u2502\n   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502\n   \u2502                               \u2502\n   \u2502\u25c4\u2500\u2500 SSE: event: tool_execution \u2502\n   \u2502\u25c4\u2500\u2500 SSE: event: chunk \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n   \u2502\u25c4\u2500\u2500 SSE: event: stream_end \u2500\u2500\u2500\u2500\u2502\n   \u2502                               \u2502\n</code></pre>"},{"location":"concepts/architecture/#next-steps","title":"Next Steps","text":"<ul> <li>AI Assistant - Learn about AI capabilities</li> <li>MCP Integration - Extend with custom tools</li> <li>Security &amp; RBAC - Security features</li> </ul>"},{"location":"concepts/mcp-integration/","title":"MCP Integration","text":"<p>This guide explains how MCP works in k13d and how to extend AI capabilities with custom tools.</p>"},{"location":"concepts/mcp-integration/#table-of-contents","title":"Table of Contents","text":"<ul> <li>What is MCP?</li> <li>k13d MCP Modes</li> <li>MCP Server Mode</li> <li>MCP Client Mode</li> <li>Architecture Overview</li> <li>How It Works</li> <li>Agentic Loop Integration</li> <li>Configuration</li> <li>Built-in Tools</li> <li>Adding MCP Servers</li> <li>Creating Custom MCP Servers</li> <li>Troubleshooting</li> </ul>"},{"location":"concepts/mcp-integration/#what-is-mcp","title":"What is MCP?","text":"<p>Model Context Protocol (MCP) is an open protocol developed by Anthropic that standardizes how AI models interact with external tools and data sources. k13d implements MCP to extend its AI capabilities beyond the built-in kubectl and bash tools.</p>"},{"location":"concepts/mcp-integration/#key-benefits","title":"Key Benefits","text":"<ul> <li>Extensibility: Add new tools without modifying k13d core</li> <li>Standardization: Use any MCP-compatible server</li> <li>Isolation: Tools run in separate processes</li> <li>Security: Fine-grained control over tool capabilities</li> </ul>"},{"location":"concepts/mcp-integration/#k13d-mcp-modes","title":"k13d MCP Modes","text":"<p>k13d supports both MCP Server and MCP Client modes:</p> Mode Command Description MCP Server <code>k13d --mcp</code> Exposes k13d tools to external MCP clients (Claude Desktop, Cursor, VS Code) MCP Client (default) Connects to external MCP servers for additional tools <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                           k13d                                       \u2502\n\u2502                                                                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502  \u2502   MCP Server Mode   \u2502          \u2502   MCP Client Mode   \u2502           \u2502\n\u2502  \u2502   (k13d --mcp)      \u2502          \u2502   (default)         \u2502           \u2502\n\u2502  \u2502                     \u2502          \u2502                     \u2502           \u2502\n\u2502  \u2502 Exposes tools:      \u2502          \u2502 Connects to:        \u2502           \u2502\n\u2502  \u2502 - kubectl           \u2502          \u2502 - thinking server   \u2502           \u2502\n\u2502  \u2502 - kubectl_get       \u2502          \u2502 - kubernetes server \u2502           \u2502\n\u2502  \u2502 - kubectl_describe  \u2502          \u2502 - custom servers    \u2502           \u2502\n\u2502  \u2502 - kubectl_logs      \u2502          \u2502                     \u2502           \u2502\n\u2502  \u2502 - kubectl_apply     \u2502          \u2502                     \u2502           \u2502\n\u2502  \u2502 - bash              \u2502          \u2502                     \u2502           \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2502             \u2502                                \u2502                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2502 stdio                          \u2502 stdio\n              \u25bc                                \u25bc\n      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n      \u2502 Claude      \u2502                  \u2502 External    \u2502\n      \u2502 Desktop,    \u2502                  \u2502 MCP         \u2502\n      \u2502 Cursor,     \u2502                  \u2502 Servers     \u2502\n      \u2502 VS Code     \u2502                  \u2502             \u2502\n      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/mcp-integration/#mcp-server-mode","title":"MCP Server Mode","text":"<p>Run k13d as an MCP server to expose Kubernetes management tools to external AI clients.</p>"},{"location":"concepts/mcp-integration/#quick-start","title":"Quick Start","text":"<pre><code># Start k13d as MCP server\nk13d --mcp\n</code></pre>"},{"location":"concepts/mcp-integration/#integration-with-claude-desktop","title":"Integration with Claude Desktop","text":"<p>Add to your Claude Desktop configuration (<code>~/Library/Application Support/Claude/claude_desktop_config.json</code> on macOS):</p> <pre><code>{\n  \"mcpServers\": {\n    \"k13d\": {\n      \"command\": \"k13d\",\n      \"args\": [\"--mcp\"]\n    }\n  }\n}\n</code></pre>"},{"location":"concepts/mcp-integration/#integration-with-cursor","title":"Integration with Cursor","text":"<p>Add to Cursor MCP settings:</p> <pre><code>{\n  \"mcp\": {\n    \"servers\": {\n      \"k13d\": {\n        \"command\": \"k13d\",\n        \"args\": [\"--mcp\"]\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"concepts/mcp-integration/#available-tools-server-mode","title":"Available Tools (Server Mode)","text":"Tool Description <code>kubectl</code> Execute any kubectl command <code>kubectl_get</code> Get Kubernetes resources with filtering <code>kubectl_describe</code> Describe a resource in detail <code>kubectl_logs</code> Get pod logs <code>kubectl_apply</code> Apply YAML manifests <code>bash</code> Execute shell commands"},{"location":"concepts/mcp-integration/#example-using-k13d-from-claude-desktop","title":"Example: Using k13d from Claude Desktop","text":"<p>Once configured, you can ask Claude:</p> <p>\"Get all pods in the kube-system namespace\"</p> <p>Claude will use k13d's <code>kubectl_get</code> tool:</p> <pre><code>Using tool: kubectl_get\nArguments: {\"resource\": \"pods\", \"namespace\": \"kube-system\"}\n\nResult:\nNAME                                     READY   STATUS    RESTARTS   AGE\ncoredns-5d78c9869d-xxxxx                1/1     Running   0          10d\netcd-master                             1/1     Running   0          10d\nkube-apiserver-master                   1/1     Running   0          10d\n...\n</code></pre>"},{"location":"concepts/mcp-integration/#mcp-client-mode","title":"MCP Client Mode","text":"<p>k13d can also act as an MCP Client to connect to external MCP servers for additional capabilities.</p> <p>Important: k13d is an MCP Client, not an MCP Server. This distinction is crucial:</p> Role Description k13d MCP Client Connects to MCP servers, discovers tools, invokes them This is k13d MCP Server Provides tools, executes them when called External processes"},{"location":"concepts/mcp-integration/#how-k13d-uses-mcp","title":"How k13d Uses MCP","text":"<ol> <li>Spawns MCP Servers: k13d starts external MCP server processes as child processes</li> <li>Communicates via stdio: Uses JSON-RPC 2.0 over stdin/stdout pipes</li> <li>Discovers Tools: Calls <code>tools/list</code> to learn what tools each server provides</li> <li>Invokes Tools: When AI decides to use a tool, k13d calls <code>tools/call</code> on the appropriate server</li> <li>Returns Results: Tool results are passed back to the AI for reasoning</li> </ol> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    k13d (MCP Client)                           \u2502\n\u2502                                                                \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502   \u2502 AI Agent    \u2502\u2500\u2500\u2500\u25b6\u2502 MCP Manager \u2502\u2500\u2500\u2500\u25b6\u2502 Tool Router \u2502       \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502                             \u2502                                  \u2502\n\u2502                             \u2502 spawn + JSON-RPC 2.0 stdio       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u25bc                   \u25bc                   \u25bc\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 MCP Server  \u2502     \u2502 MCP Server  \u2502     \u2502 MCP Server  \u2502\n  \u2502 (thinking)  \u2502     \u2502 (kubernetes)\u2502     \u2502 (custom)    \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     External            External            External\n     Process             Process             Process\n</code></pre>"},{"location":"concepts/mcp-integration/#architecture-overview","title":"Architecture Overview","text":""},{"location":"concepts/mcp-integration/#high-level-system-architecture","title":"High-Level System Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                               k13d Binary                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                         \u2502\n\u2502  \u2502  TUI Mode  \u2502    \u2502  Web Mode  \u2502    \u2502  CLI Mode  \u2502                         \u2502\n\u2502  \u2502  (tview)   \u2502    \u2502  (HTTP)    \u2502    \u2502  (direct)  \u2502                         \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518                         \u2502\n\u2502        \u2502                 \u2502                 \u2502                                 \u2502\n\u2502        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                 \u2502\n\u2502                          \u2502                                                   \u2502\n\u2502                 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                         \u2502\n\u2502                 \u2502   AI Agent      \u2502  \u2190 State Machine                        \u2502\n\u2502                 \u2502   (agentic      \u2502    (Idle \u2192 Running \u2192 ToolAnalysis       \u2502\n\u2502                 \u2502    loop)        \u2502     \u2192 WaitingForApproval \u2192 Done)        \u2502\n\u2502                 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                         \u2502\n\u2502                          \u2502                                                   \u2502\n\u2502         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                 \u2502\n\u2502         \u2502                \u2502                \u2502                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510                         \u2502\n\u2502  \u2502 LLM Provider\u2502  \u2502Tool Registry\u2502  \u2502   Safety    \u2502                         \u2502\n\u2502  \u2502  (OpenAI,   \u2502  \u2502 (kubectl,   \u2502  \u2502  Analyzer   \u2502                         \u2502\n\u2502  \u2502   Gemini,   \u2502  \u2502  bash, MCP) \u2502  \u2502             \u2502                         \u2502\n\u2502  \u2502   Ollama)   \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                         \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2502                                                   \u2502\n\u2502                          \u2502                                                   \u2502\n\u2502         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                 \u2502\n\u2502         \u2502         Tool Router             \u2502                                 \u2502\n\u2502         \u2502   (routes by tool.Type)         \u2502                                 \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                 \u2502\n\u2502                          \u2502                                                   \u2502\n\u2502         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                 \u2502\n\u2502         \u2502                \u2502                \u2502                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510                         \u2502\n\u2502  \u2502  kubectl    \u2502  \u2502    bash     \u2502  \u2502 MCP Client  \u2502                         \u2502\n\u2502  \u2502  Executor   \u2502  \u2502  Executor   \u2502  \u2502  (stdio)    \u2502                         \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518                         \u2502\n\u2502                                           \u2502 JSON-RPC 2.0                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                            \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u25bc                       \u25bc                       \u25bc\n            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n            \u2502 MCP Server  \u2502         \u2502 MCP Server  \u2502         \u2502 MCP Server  \u2502\n            \u2502 (sequential \u2502         \u2502 (database)  \u2502         \u2502 (custom)    \u2502\n            \u2502  thinking)  \u2502         \u2502             \u2502         \u2502             \u2502\n            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/mcp-integration/#key-components","title":"Key Components","text":"Component Location Purpose MCP Client <code>pkg/mcp/client.go</code> Manages server processes, JSON-RPC communication, tool discovery Tool Registry <code>pkg/ai/tools/tools.go</code> Central registry for all tools (kubectl, bash, MCP) MCP Executor Adapter <code>pkg/mcp/client.go</code> Bridges MCP Client to Tool Registry interface AI Agent <code>pkg/ai/agent/agent.go</code> State machine managing conversation flow Conversation Loop <code>pkg/ai/agent/conversation.go</code> Main agentic loop with tool handling, approval, safety LLM Provider <code>pkg/ai/providers/</code> Handles tool calling protocol with LLM Safety Analyzer <code>pkg/ai/safety/analyzer.go</code> Analyzes command safety (read-only, dangerous, etc.)"},{"location":"concepts/mcp-integration/#how-it-works","title":"How It Works","text":""},{"location":"concepts/mcp-integration/#1-mcp-server-connection-flow","title":"1. MCP Server Connection Flow","text":"<p>When k13d starts or an MCP server is enabled:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  1. k13d spawns MCP server process                              \u2502\n\u2502     exec.Command(\"npx\", \"-y\", \"@modelcontextprotocol/server-*\") \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  2. Establishes stdio communication (stdin/stdout pipes)        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  3. Sends \"initialize\" request (JSON-RPC 2.0)                   \u2502\n\u2502     \u2192 Protocol version: 2024-11-05                              \u2502\n\u2502     \u2192 Client info: {name: \"k13d\", version: \"1.0.0\"}            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  4. Receives server capabilities and info                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  5. Sends \"notifications/initialized\" notification              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  6. Calls \"tools/list\" to discover available tools              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  7. Registers tools in the Tool Registry                        \u2502\n\u2502     \u2192 Tagged with server name for routing                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/mcp-integration/#2-json-rpc-message-format","title":"2. JSON-RPC Message Format","text":"<p>Initialize Request: <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 1,\n  \"method\": \"initialize\",\n  \"params\": {\n    \"protocolVersion\": \"2024-11-05\",\n    \"capabilities\": {},\n    \"clientInfo\": {\n      \"name\": \"k13d\",\n      \"version\": \"1.0.0\"\n    }\n  }\n}\n</code></pre></p> <p>Tool Call Request: <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 2,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"sequential_thinking\",\n    \"arguments\": {\n      \"thought\": \"Analyzing pod status...\",\n      \"thoughtNumber\": 1,\n      \"totalThoughts\": 3,\n      \"nextThoughtNeeded\": true\n    }\n  }\n}\n</code></pre></p> <p>Tool Call Response: <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 2,\n  \"result\": {\n    \"content\": [\n      {\n        \"type\": \"text\",\n        \"text\": \"Step 1 complete. Ready for next analysis...\"\n      }\n    ],\n    \"isError\": false\n  }\n}\n</code></pre></p>"},{"location":"concepts/mcp-integration/#agentic-loop-integration","title":"Agentic Loop Integration","text":""},{"location":"concepts/mcp-integration/#agent-state-machine","title":"Agent State Machine","text":"<p>The AI Agent operates as a state machine that manages the conversation flow:</p> <pre><code>    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502  Idle   \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                         \u2502\n         \u2502 User Message                 \u2502\n         \u25bc                              \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                         \u2502\n    \u2502 Running \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2502\n    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                  \u2502      \u2502\n         \u2502 LLM Response          \u2502      \u2502\n         \u25bc                       \u2502      \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u2502      \u2502\n    \u2502ToolAnalysis  \u2502             \u2502      \u2502\n    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2502      \u2502\n         \u2502                       \u2502      \u2502\n         \u251c\u2500 Auto-approve \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2502\n         \u2502  (read-only)                 \u2502\n         \u25bc                              \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u2502\n    \u2502WaitingForApproval\u2502                \u2502\n    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2502\n         \u2502                              \u2502\n         \u251c\u2500 Approved \u2500\u2500\u25ba Execute \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n         \u2502                              \u2502\n         \u251c\u2500 Rejected \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n         \u2502                              \u2502\n         \u2514\u2500 Timeout \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n                                        \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                         \u2502\n    \u2502  Done   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                         \u2502\n                                        \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                         \u2502\n    \u2502  Error  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/mcp-integration/#complete-tool-execution-flow","title":"Complete Tool Execution Flow","text":"<p>Here's the detailed flow from user question to MCP tool execution:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Step 1: User Input                                                          \u2502\n\u2502                                                                             \u2502\n\u2502   User: \"Why is my nginx pod failing?\"                                     \u2502\n\u2502   \u2192 Agent.handleUserMessage()                                               \u2502\n\u2502   \u2192 Add to session history                                                  \u2502\n\u2502   \u2192 State: Idle \u2192 Running                                                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                                 \u2502\n                                                 \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Step 2: LLM Call with Tools                                                 \u2502\n\u2502                                                                             \u2502\n\u2502   Agent.callLLM()                                                           \u2502\n\u2502   \u251c\u2500 Build prompt with conversation history                                \u2502\n\u2502   \u251c\u2500 Convert Tool Registry \u2192 ToolDefinitions[]                             \u2502\n\u2502   \u2502   (kubectl, bash, MCP tools all included)                              \u2502\n\u2502   \u2514\u2500 toolProvider.AskWithTools(prompt, tools, streamCb, toolCb)            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                                 \u2502\n                                                 \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Step 3: LLM Provider Processing                                             \u2502\n\u2502                                                                             \u2502\n\u2502   POST /chat/completions (with tools array)                                 \u2502\n\u2502   \u2192 LLM decides to use tools:                                               \u2502\n\u2502     {                                                                       \u2502\n\u2502       \"tool_calls\": [{                                                      \u2502\n\u2502         \"id\": \"call_abc123\",                                                \u2502\n\u2502         \"function\": {                                                       \u2502\n\u2502           \"name\": \"kubectl\",                                                \u2502\n\u2502           \"arguments\": \"{\\\"command\\\": \\\"get pods -n default\\\"}\"            \u2502\n\u2502         }                                                                   \u2502\n\u2502       }]                                                                    \u2502\n\u2502     }                                                                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                                 \u2502\n                                                 \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Step 4: Tool Call Handling                                                  \u2502\n\u2502                                                                             \u2502\n\u2502   Agent.handleToolCall(call)                                                \u2502\n\u2502   \u251c\u2500 Extract command from arguments                                        \u2502\n\u2502   \u251c\u2500 Safety Analysis (safetyAnalyzer.Analyze)                              \u2502\n\u2502   \u2502   \u2192 IsReadOnly: true/false                                             \u2502\n\u2502   \u2502   \u2192 IsDangerous: true/false                                            \u2502\n\u2502   \u2502   \u2192 Warnings: [\"This will delete...\"]                                  \u2502\n\u2502   \u251c\u2500 Emit tool call request to UI                                          \u2502\n\u2502   \u2514\u2500 Check if approval needed:                                             \u2502\n\u2502       if (needsApproval) {                                                 \u2502\n\u2502         requestAndWaitForApproval()  // Shows UI, waits 30s               \u2502\n\u2502       }                                                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                                 \u2502\n                                                 \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Step 5: Tool Registry Execution (Routing)                                   \u2502\n\u2502                                                                             \u2502\n\u2502   toolRegistry.Execute(ctx, toolCall)                                       \u2502\n\u2502   \u251c\u2500 Look up tool by name                                                  \u2502\n\u2502   \u251c\u2500 Check tool.Type:                                                       \u2502\n\u2502   \u2502   \u251c\u2500 ToolTypeKubectl \u2192 executor.Execute(kubectl, args)                \u2502\n\u2502   \u2502   \u251c\u2500 ToolTypeBash    \u2192 executor.Execute(bash, args)                   \u2502\n\u2502   \u2502   \u2514\u2500 ToolTypeMCP     \u2192 mcpExecutor.CallTool(name, args) \u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2502\n\u2502   \u2514\u2500 Return ToolResult                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                                 \u2502 (MCP path)\n                                                 \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Step 6: MCP Client Execution                                                \u2502\n\u2502                                                                             \u2502\n\u2502   MCPToolExecutorAdapter.CallTool(toolName, args)                           \u2502\n\u2502   \u251c\u2500 client.CallTool(ctx, toolName, args)                                  \u2502\n\u2502   \u2502   \u251c\u2500 Find ServerConnection with this tool                              \u2502\n\u2502   \u2502   \u2514\u2500 conn.callTool(ctx, name, args)                                    \u2502\n\u2502   \u2502       \u2514\u2500 sendRequest(ctx, \"tools/call\", params)                        \u2502\n\u2502   \u2502           \u251c\u2500 Write JSON-RPC request to stdin                           \u2502\n\u2502   \u2502           \u2514\u2500 Read JSON-RPC response from stdout                        \u2502\n\u2502   \u2514\u2500 Extract text content from result.Content[]                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                                 \u2502\n                                                 \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Step 7: Result Back to LLM                                                  \u2502\n\u2502                                                                             \u2502\n\u2502   Tool result returned to LLM provider                                      \u2502\n\u2502   \u2192 LLM may call more tools or generate final response                     \u2502\n\u2502   \u2192 Loop continues until no more tool calls                                 \u2502\n\u2502   \u2192 Final response streamed to UI                                          \u2502\n\u2502   \u2192 State: Running \u2192 Done \u2192 Idle                                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/mcp-integration/#code-references","title":"Code References","text":"<p>Agent Main Loop (<code>pkg/ai/agent/conversation.go:28-105</code>): <pre><code>func (a *Agent) Run(ctx context.Context) error {\n    for {\n        switch a.State() {\n        case StateIdle:\n            // Wait for user input\n        case StateRunning:\n            // Call LLM and process response\n            a.callLLM()\n        case StateToolAnalysis:\n            // Analyze pending tool calls\n        case StateWaitingForApproval:\n            // Wait for user decision\n        case StateDone:\n            // Conversation turn complete\n        }\n    }\n}\n</code></pre></p> <p>Tool Call Handler (<code>pkg/ai/agent/conversation.go:256-335</code>): <pre><code>func (a *Agent) handleToolCall(call providers.ToolCall) providers.ToolResult {\n    // 1. Create internal tool call info\n    toolCall := &amp;ToolCallInfo{...}\n\n    // 2. Analyze safety\n    safetyReport := a.safetyAnalyzer.Analyze(toolCall.Command)\n\n    // 3. Request approval if needed\n    if needsApproval {\n        approved := a.requestAndWaitForApproval(toolCall)\n        if !approved { return cancelled }\n    }\n\n    // 4. Execute via registry (routes to MCP if needed)\n    result := a.toolRegistry.Execute(a.ctx, registryCall)\n\n    // 5. Return result to LLM\n    return providers.ToolResult{...}\n}\n</code></pre></p> <p>MCP Tool Execution (<code>pkg/mcp/client.go:229-244</code>): <pre><code>func (c *Client) CallTool(ctx context.Context, toolName string, args map[string]interface{}) (*CallToolResult, error) {\n    // Find which server has this tool\n    for _, conn := range c.servers {\n        for _, tool := range conn.tools {\n            if tool.Name == toolName {\n                return conn.callTool(ctx, toolName, args)\n            }\n        }\n    }\n    return nil, fmt.Errorf(\"tool not found: %s\", toolName)\n}\n</code></pre></p>"},{"location":"concepts/mcp-integration/#configuration","title":"Configuration","text":""},{"location":"concepts/mcp-integration/#config-file","title":"Config File","text":"<p>MCP servers are configured in <code>~/.config/k13d/config.yaml</code>:</p> <pre><code>mcp:\n  servers:\n    - name: sequential-thinking\n      enabled: true\n      command: npx\n      args:\n        - \"-y\"\n        - \"@modelcontextprotocol/server-sequential-thinking\"\n      description: \"Step-by-step reasoning tool\"\n\n    - name: kubernetes\n      enabled: true\n      command: npx\n      args:\n        - \"-y\"\n        - \"@anthropic/mcp-server-kubernetes\"\n      description: \"Kubernetes management tools\"\n      env:\n        KUBECONFIG: \"/home/user/.kube/config\"\n\n    - name: github\n      enabled: true\n      command: npx\n      args:\n        - \"-y\"\n        - \"@modelcontextprotocol/server-github\"\n      description: \"GitHub integration\"\n      env:\n        GITHUB_TOKEN: \"${GITHUB_TOKEN}\"\n\n    - name: postgres\n      enabled: false\n      command: npx\n      args:\n        - \"-y\"\n        - \"@modelcontextprotocol/server-postgres\"\n        - \"postgresql://user:pass@localhost/db\"\n      description: \"PostgreSQL database tools\"\n</code></pre>"},{"location":"concepts/mcp-integration/#web-ui-configuration","title":"Web UI Configuration","text":"<ol> <li>Go to Settings \u2192 MCP tab</li> <li>Click Add MCP Server</li> <li>Fill in:</li> <li>Name: Unique identifier (e.g., \"kubernetes\")</li> <li>Command: Executable (e.g., \"npx\", \"docker\")</li> <li>Arguments: Command arguments (comma-separated)</li> <li>Description: What the server does</li> <li>Toggle Enabled to connect</li> </ol>"},{"location":"concepts/mcp-integration/#built-in-tools","title":"Built-in Tools","text":"<p>k13d includes these built-in tools (not MCP):</p> Tool Type Description <code>kubectl</code> ToolTypeKubectl Execute kubectl commands <code>bash</code> ToolTypeBash Execute shell commands (with safety checks) <p>These are always available and don't require MCP configuration.</p>"},{"location":"concepts/mcp-integration/#tool-type-routing","title":"Tool Type Routing","text":"<pre><code>const (\n    ToolTypeKubectl ToolType = \"kubectl\"\n    ToolTypeBash    ToolType = \"bash\"\n    ToolTypeRead    ToolType = \"read_file\"\n    ToolTypeWrite   ToolType = \"write_file\"\n    ToolTypeMCP     ToolType = \"mcp\"  // MCP server provided tools\n)\n</code></pre> <p>When <code>toolRegistry.Execute()</code> is called: - <code>kubectl</code> and <code>bash</code> \u2192 Local executor - <code>mcp</code> \u2192 MCP Client \u2192 External server process</p>"},{"location":"concepts/mcp-integration/#adding-mcp-servers","title":"Adding MCP Servers","text":""},{"location":"concepts/mcp-integration/#sequential-thinking-default","title":"Sequential Thinking (Default)","text":"<pre><code>- name: sequential-thinking\n  command: npx\n  args: [\"-y\", \"@modelcontextprotocol/server-sequential-thinking\"]\n</code></pre> <p>Provides step-by-step reasoning capabilities for complex problem solving.</p>"},{"location":"concepts/mcp-integration/#kubernetes-mcp-server","title":"Kubernetes MCP Server","text":"<pre><code>- name: kubernetes\n  command: npx\n  args: [\"-y\", \"@anthropic/mcp-server-kubernetes\"]\n</code></pre> <p>Provides: - <code>get_pods</code> - List pods in namespace - <code>get_deployments</code> - List deployments - <code>describe_pod</code> - Get pod details - <code>get_logs</code> - Get pod logs - <code>apply_manifest</code> - Apply YAML manifest</p>"},{"location":"concepts/mcp-integration/#github-mcp-server","title":"GitHub MCP Server","text":"<pre><code>- name: github\n  command: npx\n  args: [\"-y\", \"@modelcontextprotocol/server-github\"]\n  env:\n    GITHUB_TOKEN: \"${GITHUB_TOKEN}\"\n</code></pre> <p>Provides: - <code>search_repositories</code> - Search GitHub repos - <code>get_file_contents</code> - Read file from repo - <code>create_issue</code> - Create GitHub issue - <code>create_pull_request</code> - Create PR</p>"},{"location":"concepts/mcp-integration/#filesystem-mcp-server","title":"Filesystem MCP Server","text":"<pre><code>- name: filesystem\n  command: npx\n  args: [\"-y\", \"@modelcontextprotocol/server-filesystem\", \"/allowed/path\"]\n</code></pre> <p>Provides: - <code>read_file</code> - Read file contents - <code>write_file</code> - Write to file - <code>list_directory</code> - List directory contents</p>"},{"location":"concepts/mcp-integration/#docker-mcp-server","title":"Docker MCP Server","text":"<pre><code>- name: docker-mcp\n  command: docker\n  args: [\"run\", \"-i\", \"--rm\", \"mcp/docker-server\"]\n</code></pre>"},{"location":"concepts/mcp-integration/#creating-custom-mcp-servers","title":"Creating Custom MCP Servers","text":""},{"location":"concepts/mcp-integration/#python-example","title":"Python Example","text":"<pre><code>#!/usr/bin/env python3\n\"\"\"Custom MCP server for k13d.\"\"\"\n\nimport json\nimport sys\n\ndef send_response(id, result):\n    response = {\"jsonrpc\": \"2.0\", \"id\": id, \"result\": result}\n    print(json.dumps(response), flush=True)\n\ndef handle_request(request):\n    method = request.get(\"method\")\n    id = request.get(\"id\")\n    params = request.get(\"params\", {})\n\n    if method == \"initialize\":\n        send_response(id, {\n            \"protocolVersion\": \"2024-11-05\",\n            \"capabilities\": {\"tools\": {}},\n            \"serverInfo\": {\"name\": \"custom-server\", \"version\": \"1.0.0\"}\n        })\n\n    elif method == \"tools/list\":\n        send_response(id, {\n            \"tools\": [\n                {\n                    \"name\": \"hello_world\",\n                    \"description\": \"Says hello\",\n                    \"inputSchema\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                            \"name\": {\"type\": \"string\", \"description\": \"Name to greet\"}\n                        }\n                    }\n                }\n            ]\n        })\n\n    elif method == \"tools/call\":\n        name = params.get(\"name\")\n        args = params.get(\"arguments\", {})\n\n        if name == \"hello_world\":\n            result = f\"Hello, {args.get('name', 'World')}!\"\n            send_response(id, {\n                \"content\": [{\"type\": \"text\", \"text\": result}]\n            })\n\ndef main():\n    for line in sys.stdin:\n        try:\n            request = json.loads(line.strip())\n            handle_request(request)\n        except json.JSONDecodeError:\n            pass\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"concepts/mcp-integration/#go-example","title":"Go Example","text":"<pre><code>package main\n\nimport (\n    \"bufio\"\n    \"encoding/json\"\n    \"fmt\"\n    \"os\"\n)\n\ntype Request struct {\n    JSONRPC string                 `json:\"jsonrpc\"`\n    ID      int64                  `json:\"id\"`\n    Method  string                 `json:\"method\"`\n    Params  map[string]interface{} `json:\"params\"`\n}\n\ntype Response struct {\n    JSONRPC string      `json:\"jsonrpc\"`\n    ID      int64       `json:\"id\"`\n    Result  interface{} `json:\"result,omitempty\"`\n    Error   interface{} `json:\"error,omitempty\"`\n}\n\nfunc main() {\n    scanner := bufio.NewScanner(os.Stdin)\n\n    for scanner.Scan() {\n        var req Request\n        if err := json.Unmarshal(scanner.Bytes(), &amp;req); err != nil {\n            continue\n        }\n\n        var result interface{}\n\n        switch req.Method {\n        case \"initialize\":\n            result = map[string]interface{}{\n                \"protocolVersion\": \"2024-11-05\",\n                \"capabilities\":    map[string]interface{}{\"tools\": map[string]interface{}{}},\n                \"serverInfo\":      map[string]interface{}{\"name\": \"go-mcp\", \"version\": \"1.0.0\"},\n            }\n        case \"tools/list\":\n            result = map[string]interface{}{\n                \"tools\": []map[string]interface{}{\n                    {\n                        \"name\":        \"get_time\",\n                        \"description\": \"Get current time\",\n                        \"inputSchema\": map[string]interface{}{\"type\": \"object\"},\n                    },\n                },\n            }\n        case \"tools/call\":\n            result = map[string]interface{}{\n                \"content\": []map[string]interface{}{\n                    {\"type\": \"text\", \"text\": \"Current time: ...\"},\n                },\n            }\n        }\n\n        resp := Response{JSONRPC: \"2.0\", ID: req.ID, Result: result}\n        data, _ := json.Marshal(resp)\n        fmt.Println(string(data))\n    }\n}\n</code></pre>"},{"location":"concepts/mcp-integration/#register-custom-server","title":"Register Custom Server","text":"<pre><code>mcp:\n  servers:\n    - name: my-custom-server\n      command: python3\n      args: [\"/path/to/my_server.py\"]\n      description: \"My custom MCP tools\"\n</code></pre>"},{"location":"concepts/mcp-integration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"concepts/mcp-integration/#server-not-connecting","title":"Server Not Connecting","text":"<pre><code># Test server manually\necho '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"test\",\"version\":\"1.0\"}}}' | npx -y @modelcontextprotocol/server-sequential-thinking\n</code></pre>"},{"location":"concepts/mcp-integration/#tools-not-appearing","title":"Tools Not Appearing","text":"<ol> <li>Check server is enabled in config</li> <li>Verify command path is correct</li> <li>Check k13d logs for connection errors</li> <li>Ensure server responds to <code>tools/list</code></li> </ol>"},{"location":"concepts/mcp-integration/#tool-execution-fails","title":"Tool Execution Fails","text":"<ol> <li>Check tool arguments match schema</li> <li>Verify server has necessary permissions</li> <li>Check environment variables are set</li> <li>Look at server stderr for errors</li> </ol>"},{"location":"concepts/mcp-integration/#debug-mode","title":"Debug Mode","text":"<p>Enable debug logging:</p> <pre><code>debug: true\nlog_level: debug\n</code></pre> <p>Check logs at <code>~/.config/k13d/k13d.log</code></p>"},{"location":"concepts/mcp-integration/#security-considerations","title":"Security Considerations","text":"<ol> <li>Trust: Only add MCP servers from trusted sources</li> <li>Permissions: MCP servers run with k13d's permissions</li> <li>Environment: Be careful with environment variables containing secrets</li> <li>Network: Some servers may make network requests</li> <li>Sandboxing: Consider running servers in containers</li> </ol>"},{"location":"concepts/mcp-integration/#safety-analyzer","title":"Safety Analyzer","text":"<p>All tool commands (including MCP) pass through the safety analyzer:</p> <pre><code>type Report struct {\n    Command          string\n    Type             CommandType  // read, write, dangerous, interactive\n    RequiresApproval bool\n    IsDangerous      bool\n    IsInteractive    bool\n    IsReadOnly       bool\n    Warnings         []string\n}\n</code></pre> <ul> <li>Read-only commands (get, describe, logs) can be auto-approved</li> <li>Write commands (apply, create, patch) require confirmation</li> <li>Dangerous commands (delete, drain) show extra warnings</li> </ul>"},{"location":"concepts/mcp-integration/#next-steps","title":"Next Steps","text":"<ul> <li>Configuration Guide</li> <li>User Guide</li> <li>Architecture Guide</li> <li>MCP Specification</li> </ul>"},{"location":"concepts/security/","title":"Security &amp; RBAC","text":"<p>k13d provides comprehensive security features including authentication, authorization, command safety analysis, and audit logging.</p>"},{"location":"concepts/security/#overview","title":"Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Security Layers                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502  \u2502Authentication\u2502\u2500\u25ba\u2502Authorization \u2502\u2500\u25ba\u2502Safety Checks \u2502          \u2502\n\u2502  \u2502              \u2502  \u2502   (RBAC)     \u2502  \u2502              \u2502          \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502         \u2502                 \u2502                   \u2502                 \u2502\n\u2502         \u25bc                 \u25bc                   \u25bc                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502                    Audit Logging                          \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/security/#authentication","title":"Authentication","text":""},{"location":"concepts/security/#web-ui-authentication","title":"Web UI Authentication","text":"<p>The Web UI supports multiple authentication methods:</p>"},{"location":"concepts/security/#password-authentication","title":"Password Authentication","text":"<pre><code># config.yaml\nauth:\n  password: \"your-secure-password\"  # SHA256 hashed\n</code></pre>"},{"location":"concepts/security/#token-authentication","title":"Token Authentication","text":"<pre><code>auth:\n  token: \"your-api-token\"\n</code></pre>"},{"location":"concepts/security/#kubernetes-rbac","title":"Kubernetes RBAC","text":"<p>k13d respects Kubernetes RBAC. Users can only access resources their kubeconfig allows.</p>"},{"location":"concepts/security/#command-safety-analysis","title":"Command Safety Analysis","text":"<p>All AI-generated commands pass through the safety analyzer before execution.</p>"},{"location":"concepts/security/#safety-levels","title":"Safety Levels","text":"Level Description Action Examples Read-Only Non-modifying commands Auto-approve (configurable) <code>get</code>, <code>describe</code>, <code>logs</code> Write Resource modifications Requires approval <code>apply</code>, <code>create</code>, <code>patch</code> Dangerous Destructive operations Warning + approval <code>delete</code>, <code>drain</code>, <code>taint</code> Interactive Requires TTY Requires approval <code>exec</code>, <code>attach</code>, <code>edit</code> Unknown Unrecognized commands Requires approval (configurable) Non-kubectl/helm commands"},{"location":"concepts/security/#ast-based-analysis","title":"AST-Based Analysis","text":"<p>k13d uses AST parsing for accurate command analysis:</p> <pre><code>\"kubectl get pods | xargs rm -rf /\"\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Shell Parser   \u2502  mvdan.cc/sh/v3\n\u2502  (AST Parsing)  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n    Detects: pipe, xargs, rm\n    Result: DANGEROUS\n</code></pre>"},{"location":"concepts/security/#configuration","title":"Configuration","text":"<pre><code>authorization:\n  tool_approval:\n    auto_approve_read_only: true       # Auto-approve read-only commands\n    require_approval_for_write: true   # Require approval for write commands\n    require_approval_for_unknown: true # Require approval for unknown commands\n    block_dangerous: false             # Block dangerous commands entirely\n    blocked_patterns:                  # Regex patterns to block\n      - \"rm -rf /\"\n      - \"kubectl delete ns kube-system\"\n    approval_timeout_seconds: 60       # Timeout for approval prompts\n</code></pre>"},{"location":"concepts/security/#audit-logging","title":"Audit Logging","text":"<p>All actions are logged to SQLite for compliance and troubleshooting.</p>"},{"location":"concepts/security/#logged-events","title":"Logged Events","text":"Event Description <code>login</code> User authentication <code>query</code> AI queries <code>approve</code> Tool approvals <code>reject</code> Tool rejections <code>execute</code> Command executions <code>error</code> Errors"},{"location":"concepts/security/#audit-log-schema","title":"Audit Log Schema","text":"<pre><code>CREATE TABLE audit_logs (\n    id INTEGER PRIMARY KEY,\n    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,\n    user TEXT,\n    action TEXT,\n    resource TEXT,\n    details TEXT,      -- JSON\n    llm_request TEXT,  -- LLM request\n    llm_response TEXT  -- LLM response\n);\n</code></pre>"},{"location":"concepts/security/#viewing-audit-logs","title":"Viewing Audit Logs","text":"<p>TUI Mode:</p> <pre><code>:audit\n</code></pre> <p>Web Mode:</p> <p>Navigate to Settings \u2192 Audit Logs</p> <p>API:</p> <pre><code>curl http://localhost:8080/api/audit\n</code></pre>"},{"location":"concepts/security/#session-management","title":"Session Management","text":""},{"location":"concepts/security/#session-storage","title":"Session Storage","text":"Type Location Persistence Memory RAM Process lifetime Filesystem <code>~/.config/k13d/sessions/</code> Persistent"},{"location":"concepts/security/#session-configuration","title":"Session Configuration","text":"<pre><code>sessions:\n  storage: filesystem    # memory or filesystem\n  max_age: 24h          # Session expiry\n  max_sessions: 100     # Max concurrent sessions\n</code></pre>"},{"location":"concepts/security/#network-security","title":"Network Security","text":""},{"location":"concepts/security/#tls-configuration","title":"TLS Configuration","text":"<p>For production deployments:</p> <pre><code>web:\n  tls:\n    enabled: true\n    cert_file: /path/to/cert.pem\n    key_file: /path/to/key.pem\n</code></pre>"},{"location":"concepts/security/#cors-settings","title":"CORS Settings","text":"<pre><code>web:\n  cors:\n    allowed_origins:\n      - \"https://your-domain.com\"\n    allowed_methods:\n      - GET\n      - POST\n</code></pre>"},{"location":"concepts/security/#mcp-server-security","title":"MCP Server Security","text":""},{"location":"concepts/security/#isolation","title":"Isolation","text":"<p>MCP servers run as separate processes with isolated permissions.</p>"},{"location":"concepts/security/#environment-variables","title":"Environment Variables","text":"<p>Be careful with environment variables containing secrets:</p> <pre><code>mcp:\n  servers:\n    - name: github\n      command: npx\n      args: [\"-y\", \"@modelcontextprotocol/server-github\"]\n      env:\n        GITHUB_TOKEN: \"${GITHUB_TOKEN}\"  # From environment\n</code></pre>"},{"location":"concepts/security/#sandboxing","title":"Sandboxing","text":"<p>For enhanced security, run MCP servers in containers:</p> <pre><code>mcp:\n  servers:\n    - name: secure-tool\n      command: docker\n      args:\n        - run\n        - --rm\n        - --read-only\n        - --network=none\n        - mcp-server:latest\n</code></pre>"},{"location":"concepts/security/#best-practices","title":"Best Practices","text":""},{"location":"concepts/security/#1-use-strong-passwords","title":"1. Use Strong Passwords","text":"<pre><code># Generate a strong password\nopenssl rand -base64 32\n</code></pre>"},{"location":"concepts/security/#2-enable-audit-logging","title":"2. Enable Audit Logging","text":"<pre><code>enable_audit: true\n</code></pre>"},{"location":"concepts/security/#3-review-approvals","title":"3. Review Approvals","text":"<p>Always review AI-generated commands before approving.</p>"},{"location":"concepts/security/#4-use-minimal-rbac","title":"4. Use Minimal RBAC","text":"<p>Grant only the Kubernetes permissions needed:</p> <pre><code># Example: Read-only access\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: k13d-readonly\nrules:\n  - apiGroups: [\"\"]\n    resources: [\"pods\", \"services\", \"configmaps\"]\n    verbs: [\"get\", \"list\", \"watch\"]\n</code></pre>"},{"location":"concepts/security/#5-secure-secrets","title":"5. Secure Secrets","text":"<p>Never commit secrets to config files:</p> <pre><code># Bad\nauth:\n  password: \"mysecret\"\n\n# Good - use environment variables\nauth:\n  password: \"${K13D_PASSWORD}\"\n</code></pre>"},{"location":"concepts/security/#compliance","title":"Compliance","text":""},{"location":"concepts/security/#gdpr-considerations","title":"GDPR Considerations","text":"<ul> <li>Audit logs may contain PII</li> <li>Configure retention policies</li> <li>Enable encryption at rest</li> </ul>"},{"location":"concepts/security/#soc-2","title":"SOC 2","text":"<ul> <li>Enable comprehensive audit logging</li> <li>Use TLS for all connections</li> <li>Implement access controls</li> </ul>"},{"location":"concepts/security/#next-steps","title":"Next Steps","text":"<ul> <li>Configuration - Security configuration</li> <li>Deployment - Secure deployment</li> <li>Architecture - Security architecture details</li> </ul>"},{"location":"concepts/tui-architecture/","title":"TUI (Terminal User Interface) Architecture Guide","text":"<p>This document explains the internal architecture of k13d's Terminal User Interface, built with tview and tcell.</p>"},{"location":"concepts/tui-architecture/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Main Application Structure</li> <li>Component Hierarchy</li> <li>Keyboard Navigation</li> <li>AI Assistant Integration</li> <li>Resource Views</li> <li>State Management</li> <li>Concurrency Patterns</li> <li>File Structure</li> </ul>"},{"location":"concepts/tui-architecture/#overview","title":"Overview","text":"<p>k13d's TUI follows the k9s design patterns, providing: - Vim-style navigation (<code>j/k/g/G</code>) - Command mode (<code>:pods</code>, <code>:deploy</code>) - Live filtering (<code>/pattern/</code>) - Resource drill-down with back navigation - Integrated AI assistant panel</p>"},{"location":"concepts/tui-architecture/#main-application-structure","title":"Main Application Structure","text":""},{"location":"concepts/tui-architecture/#core-app-struct","title":"Core App Struct","text":"<p>File: <code>pkg/ui/app.go</code></p> <pre><code>type App struct {\n    *tview.Application\n\n    // Core dependencies\n    config   *config.Config\n    k8s      *k8s.Client\n    aiClient *ai.Client\n\n    // UI Components\n    pages       *tview.Pages        // Page container\n    header      *tview.TextView     // Top bar with cluster info\n    briefing    *BriefingPanel      // Cluster health panel\n    table       *tview.Table        // Main resource table\n    statusBar   *tview.TextView     // Bottom status bar\n    flash       *tview.TextView     // Flash messages\n    cmdInput    *tview.InputField   // Command input (:)\n    cmdHint     *tview.TextView     // Autocomplete hints\n    cmdDropdown *tview.List         // Command suggestions\n    aiPanel     *tview.TextView     // AI response area\n    aiInput     *tview.InputField   // AI question input\n\n    // State (protected by mutex)\n    mx                  sync.RWMutex\n    currentResource     string\n    currentNamespace    string\n    namespaces          []string\n    showAIPanel         bool\n    filterText          string\n    tableHeaders        []string\n    tableRows           [][]string\n    selectedRows        map[int]bool\n    sortColumn          int\n    sortAscending       bool\n\n    // Navigation history (stack)\n    navMx           sync.Mutex\n    navigationStack []navHistory\n\n    // Atomic guards (k9s pattern)\n    inUpdate    int32\n    running     int32\n    stopping    int32\n    hasToolCall int32\n    cancelFn    context.CancelFunc\n\n    // AI tool approval\n    aiMx                sync.RWMutex\n    pendingDecisions    []PendingDecision\n    pendingToolApproval chan bool\n}\n</code></pre>"},{"location":"concepts/tui-architecture/#key-design-patterns","title":"Key Design Patterns","text":"Pattern Purpose Usage Atomic Guards Lock-free checks for hot paths <code>inUpdate</code>, <code>running</code>, <code>hasToolCall</code> RWMutex Read-heavy state protection <code>currentResource</code>, <code>namespaces</code> Navigation Stack Back button support <code>navigationStack</code> QueueUpdateDraw Thread-safe UI updates All goroutine\u2192UI communication Panic Recovery Graceful error handling <code>Run()</code> method"},{"location":"concepts/tui-architecture/#component-hierarchy","title":"Component Hierarchy","text":"<pre><code>App (tview.Application)\n\u2502\n\u2514\u2500\u2500 pages (tview.Pages)\n    \u2502\n    \u2514\u2500\u2500 \"main\" (mainFlex - tview.Flex vertical)\n        \u2502\n        \u251c\u2500\u2500 header (tview.TextView) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 4 lines\n        \u2502   \u251c\u2500\u2500 Logo + Tagline + Version\n        \u2502   \u251c\u2500\u2500 Context: xxx | Cluster: xxx | Namespace: xxx\n        \u2502   \u251c\u2500\u2500 Resource: pods (25 items)\n        \u2502   \u2514\u2500\u2500 [1]ns1 [2]ns2 [3]ns3 ... (quick-select preview)\n        \u2502\n        \u251c\u2500\u2500 flash (tview.TextView) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 1 line\n        \u2502   \u2514\u2500\u2500 Flash messages (errors, success)\n        \u2502\n        \u251c\u2500\u2500 briefing (BriefingPanel) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 5 lines (optional)\n        \u2502   \u251c\u2500\u2500 Health Score: 95/100 [\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591]\n        \u2502   \u251c\u2500\u2500 Pods: 45 running, 2 pending, 1 failed\n        \u2502   \u251c\u2500\u2500 Nodes: 3/3 ready\n        \u2502   \u251c\u2500\u2500 CPU: 45% | Memory: 62%\n        \u2502   \u2514\u2500\u2500 \u26a0 1 pod in CrashLoopBackOff\n        \u2502\n        \u251c\u2500\u2500 contentFlex (tview.Flex horizontal)\n        \u2502   \u2502\n        \u2502   \u251c\u2500\u2500 table (tview.Table) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Main view\n        \u2502   \u2502   \u251c\u2500\u2500 [Header] NAMESPACE | NAME | STATUS | READY | AGE\n        \u2502   \u2502   \u251c\u2500\u2500 [Row 1]  default   | nginx | Running | 1/1  | 5m\n        \u2502   \u2502   \u251c\u2500\u2500 [Row 2]  default   | redis | Running | 1/1  | 3m\n        \u2502   \u2502   \u2514\u2500\u2500 [Row N]  ...\n        \u2502   \u2502\n        \u2502   \u2514\u2500\u2500 aiContainer (tview.Flex vertical) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 AI Panel\n        \u2502       \u251c\u2500\u2500 aiPanel (tview.TextView) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 AI responses\n        \u2502       \u2502   \u251c\u2500\u2500 \"[cyan]\ud83e\udd16 Agentic Mode\"\n        \u2502       \u2502   \u251c\u2500\u2500 \"[yellow]Question: why is pod failing?\"\n        \u2502       \u2502   \u251c\u2500\u2500 \"Analyzing pod status...\"\n        \u2502       \u2502   \u2514\u2500\u2500 \"\ud83d\udd27 kubectl get pods -n default\"\n        \u2502       \u2502\n        \u2502       \u2514\u2500\u2500 aiInput (tview.InputField) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 AI input\n        \u2502           \u2514\u2500\u2500 \"Ask AI: _\"\n        \u2502\n        \u251c\u2500\u2500 statusBar (tview.TextView) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 1 line\n        \u2502   \u2514\u2500\u2500 \"[l]ogs [d]escribe [y]aml [s]hell [S]cale [R]estart\"\n        \u2502\n        \u2514\u2500\u2500 cmdFlex (tview.Flex horizontal)\n            \u251c\u2500\u2500 cmdInput (tview.InputField) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Command input\n            \u2502   \u2514\u2500\u2500 \": pods_\"\n            \u2502\n            \u251c\u2500\u2500 cmdHint (tview.TextView) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Autocomplete\n            \u2502   \u2514\u2500\u2500 \"pods, deploy, svc, nodes...\"\n            \u2502\n            \u2514\u2500\u2500 cmdDropdown (tview.List) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Hidden dropdown\n</code></pre>"},{"location":"concepts/tui-architecture/#focus-flow","title":"Focus Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    Tab    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u2502\n\u2502  \u2502   Table     \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba \u2502  AI Input   \u2502         \u2502\n\u2502  \u2502  (default)  \u2502 \u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2502             \u2502         \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    Esc    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2502\n\u2502        \u2502                          \u2502                \u2502\n\u2502        \u2502 :                        \u2502 Enter          \u2502\n\u2502        \u25bc                          \u25bc                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u2502\n\u2502  \u2502 Cmd Input   \u2502           \u2502  AI Panel   \u2502         \u2502\n\u2502  \u2502  (:pods)    \u2502           \u2502 (responses) \u2502         \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2502\n\u2502        \u2502                          \u2502                \u2502\n\u2502        \u2502 Enter/Esc               \u2502 Y/N (approval) \u2502\n\u2502        \u25bc                          \u25bc                \u2502\n\u2502     Back to Table           Execute/Cancel         \u2502\n\u2502                                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/tui-architecture/#keyboard-navigation","title":"Keyboard Navigation","text":""},{"location":"concepts/tui-architecture/#global-keybindings","title":"Global Keybindings","text":"Key Action Description <code>j</code> / <code>\u2193</code> Move down Select next row <code>k</code> / <code>\u2191</code> Move up Select previous row <code>g</code> Go to top Select first row <code>G</code> Go to bottom Select last row <code>Ctrl+D</code> / <code>Ctrl+F</code> Page down Move 10 rows down <code>Ctrl+U</code> / <code>Ctrl+B</code> Page up Move 10 rows up <code>Enter</code> Drill down Navigate to related resource <code>Esc</code> Go back Pop navigation stack <code>Tab</code> Toggle focus Switch between table and AI panel <code>:</code> Command mode Enter resource command (<code>:pods</code>) <code>/</code> Filter mode Start live filtering <code>?</code> Help Show help dialog <code>q</code> Quit Exit application <code>r</code> Refresh Refresh current view"},{"location":"concepts/tui-architecture/#resource-specific-actions","title":"Resource-Specific Actions","text":"Key Resource Action <code>l</code> Pods View logs <code>p</code> Pods View previous logs <code>s</code> Pods Shell into pod <code>a</code> Pods Attach to container <code>k</code> / <code>Ctrl+K</code> Pods Kill pod <code>o</code> Pods Show node <code>S</code> Deployments/StatefulSets Scale replicas <code>R</code> Deployments/StatefulSets Rollout restart <code>t</code> CronJobs Trigger job <code>u</code> Namespaces Use namespace <code>d</code> All Describe resource <code>y</code> All View YAML <code>e</code> All Edit resource <code>F</code> All Port forward <code>Ctrl+D</code> All Delete (with confirmation)"},{"location":"concepts/tui-architecture/#namespace-quick-select","title":"Namespace Quick-Select","text":"Key Action <code>0</code> All namespaces <code>1-9</code> Select namespace by index <code>n</code> Cycle to next namespace"},{"location":"concepts/tui-architecture/#sorting-shift-column-key","title":"Sorting (Shift + Column Key)","text":"Key Sort By <code>N</code> Name <code>A</code> Age <code>T</code> Status <code>P</code> Namespace <code>C</code> Restarts <code>D</code> Ready"},{"location":"concepts/tui-architecture/#ai-panel-keybindings","title":"AI Panel Keybindings","text":"Key Action <code>Tab</code> Switch to AI input <code>Enter</code> Submit question / Approve tool <code>Esc</code> Cancel / Return to table <code>Y</code> Approve tool execution <code>N</code> Reject tool execution <code>1-9</code> Execute specific pending decision <code>A</code> Execute all pending decisions"},{"location":"concepts/tui-architecture/#ai-assistant-integration","title":"AI Assistant Integration","text":""},{"location":"concepts/tui-architecture/#aipanel-component","title":"AIPanel Component","text":"<p>File: <code>pkg/ui/ai_panel.go</code></p> <pre><code>type AIPanel struct {\n    *tview.Flex\n    outputView *tview.TextView      // AI responses\n    inputField *tview.InputField    // User input\n    statusBar  *tview.TextView      // Status indicator\n\n    agent *agent.Agent\n\n    isShowingApproval bool\n    currentApproval   *agent.ChoiceRequest\n    autoScroll        bool\n\n    onSubmit func(string)\n    onFocus  func()\n}\n</code></pre>"},{"location":"concepts/tui-architecture/#ai-interaction-flow","title":"AI Interaction Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Step 1: User Question                                                    \u2502\n\u2502                                                                          \u2502\n\u2502   User types: \"Why is nginx pod failing?\"                               \u2502\n\u2502   \u2192 Collect context (namespace, resource, selected row)                 \u2502\n\u2502   \u2192 Build prompt with Kubernetes context                                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n                                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Step 2: AI Processing                                                    \u2502\n\u2502                                                                          \u2502\n\u2502   AI Panel shows:                                                        \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502   \u2502 [cyan]\ud83e\udd16 Agentic Mode[white]                            \u2502           \u2502\n\u2502   \u2502 [yellow]Question:[white] Why is nginx pod failing?      \u2502           \u2502\n\u2502   \u2502 [gray]Thinking...                                       \u2502           \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n                                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Step 3: Tool Call (if needed)                                            \u2502\n\u2502                                                                          \u2502\n\u2502   AI decides to run: kubectl describe pod nginx -n default              \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502   \u2502 \u2501\u2501\u2501 DECISION REQUIRED \u2501\u2501\u2501                               \u2502           \u2502\n\u2502   \u2502                                                          \u2502           \u2502\n\u2502   \u2502 ? [1] Confirm: kubectl describe pod nginx -n default    \u2502           \u2502\n\u2502   \u2502                                                          \u2502           \u2502\n\u2502   \u2502 Press Y to approve, N to cancel, 1-9 for specific       \u2502           \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n                                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Step 4: Execution &amp; Response                                             \u2502\n\u2502                                                                          \u2502\n\u2502   After approval (Y/Enter):                                              \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502   \u2502 \ud83d\udd27 Executing: kubectl describe pod nginx -n default     \u2502           \u2502\n\u2502   \u2502                                                          \u2502           \u2502\n\u2502   \u2502 [green]\u2713 Command executed successfully[white]           \u2502           \u2502\n\u2502   \u2502                                                          \u2502           \u2502\n\u2502   \u2502 Based on the output, the pod is failing because:        \u2502           \u2502\n\u2502   \u2502 - Image pull error: nginx:invalid-tag not found         \u2502           \u2502\n\u2502   \u2502 - Suggested fix: Update image to nginx:latest           \u2502           \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/tui-architecture/#safety-analysis","title":"Safety Analysis","text":"<p>All AI-suggested commands pass through the safety analyzer:</p> Command Type Examples Behavior Read-only <code>get</code>, <code>describe</code>, <code>logs</code> Auto-approve (configurable) Write <code>apply</code>, <code>create</code>, <code>patch</code> Require confirmation Dangerous <code>delete</code>, <code>drain</code>, <code>cordon</code> Extra warnings shown Interactive <code>exec -it</code>, <code>attach</code> Not auto-executed"},{"location":"concepts/tui-architecture/#resource-views","title":"Resource Views","text":""},{"location":"concepts/tui-architecture/#supported-resources-30","title":"Supported Resources (30+)","text":"<p>Workloads: - <code>pods</code> (po) - Pod list with status, ready, restarts - <code>deployments</code> (deploy) - Deployment list with replicas - <code>daemonsets</code> (ds) - DaemonSet list - <code>statefulsets</code> (sts) - StatefulSet list - <code>jobs</code> (job) - Job list with completions - <code>cronjobs</code> (cj) - CronJob list with schedule - <code>replicasets</code> (rs) - ReplicaSet list</p> <p>Services &amp; Networking: - <code>services</code> (svc) - Service list with type, ports - <code>ingresses</code> (ing) - Ingress list with hosts - <code>endpoints</code> (ep) - Endpoint list - <code>networkpolicies</code> (netpol) - NetworkPolicy list</p> <p>Config &amp; Storage: - <code>configmaps</code> (cm) - ConfigMap list - <code>secrets</code> (sec) - Secret list with type - <code>persistentvolumes</code> (pv) - PV list with capacity - <code>persistentvolumeclaims</code> (pvc) - PVC list with status - <code>storageclasses</code> (sc) - StorageClass list</p> <p>RBAC: - <code>serviceaccounts</code> (sa) - ServiceAccount list - <code>roles</code> (role) - Role list - <code>rolebindings</code> (rb) - RoleBinding list - <code>clusterroles</code> (cr) - ClusterRole list - <code>clusterrolebindings</code> (crb) - ClusterRoleBinding list</p> <p>Cluster: - <code>nodes</code> (no) - Node list with status, version - <code>namespaces</code> (ns) - Namespace list - <code>events</code> (ev) - Event list - <code>customresourcedefinitions</code> (crd) - CRD list</p>"},{"location":"concepts/tui-architecture/#fetch-flow","title":"Fetch Flow","text":"<pre><code>handleCommand(\":pods\")\n        \u2502\n        \u25bc\nsetResource(\"pods\")\n        \u2502\n        \u25bc\nnavigateTo(\"pods\", namespace, \"\")\n        \u2502\n        \u251c\u2500\u2500 updateHeader()      \u2500\u2500\u2500 Update header with resource info\n        \u251c\u2500\u2500 updateStatusBar()   \u2500\u2500\u2500 Update keybinding hints\n        \u2514\u2500\u2500 refresh()           \u2500\u2500\u2500 Async fetch and render\n                \u2502\n                \u25bc\n        fetchResources(ctx)\n                \u2502\n                \u25bc\n        fetchPods(ctx, ns)\n                \u2502\n                \u251c\u2500\u2500 k8s.ListPods()\n                \u251c\u2500\u2500 Format headers and rows\n                \u2514\u2500\u2500 Store in tableHeaders, tableRows\n                        \u2502\n                        \u25bc\n        applyFilterText()      \u2500\u2500\u2500 Apply live filter if active\n                \u2502\n                \u25bc\n        QueueUpdateDraw()      \u2500\u2500\u2500 Thread-safe UI update\n                \u2502\n                \u25bc\n        table.SetCell()        \u2500\u2500\u2500 Render cells with colors\n</code></pre>"},{"location":"concepts/tui-architecture/#drill-down-navigation","title":"Drill-Down Navigation","text":"<p>When you press <code>Enter</code> on a resource, k13d navigates to related resources:</p> From Navigate To Service Pods (matching selector) Deployment Pods ReplicaSet Pods StatefulSet Pods DaemonSet Pods Job Pods CronJob Jobs Node Pods on node Namespace Switch &amp; show Pods Pod Logs view <p>Press <code>Esc</code> to go back (navigation history is maintained).</p>"},{"location":"concepts/tui-architecture/#state-management","title":"State Management","text":""},{"location":"concepts/tui-architecture/#thread-safe-state-updates","title":"Thread-Safe State Updates","text":"<pre><code>// Pattern 1: Read-only access (common case)\na.mx.RLock()\nresource := a.currentResource\na.mx.RUnlock()\n\n// Pattern 2: Modify state\na.mx.Lock()\na.currentResource = \"pods\"\na.mx.Unlock()\n\n// Pattern 3: Atomic lock-free checks (hot paths)\nif atomic.LoadInt32(&amp;a.hasToolCall) == 1 {\n    a.approveToolCall(true)\n}\n\n// Pattern 4: QueueUpdateDraw for all UI updates from goroutines\ngo func() {\n    // Long operation...\n    a.QueueUpdateDraw(func() {\n        a.table.SetCell(row, col, cell)\n    })\n}()\n</code></pre>"},{"location":"concepts/tui-architecture/#navigation-stack","title":"Navigation Stack","text":"<pre><code>type navHistory struct {\n    resource  string\n    namespace string\n    filter    string\n}\n\n// Push to stack (drill-down)\na.navigationStack = append(a.navigationStack, navHistory{\n    resource:  a.currentResource,\n    namespace: a.currentNamespace,\n    filter:    a.filterText,\n})\n\n// Pop from stack (go back)\nif len(a.navigationStack) &gt; 0 {\n    prev := a.navigationStack[len(a.navigationStack)-1]\n    a.navigationStack = a.navigationStack[:len(a.navigationStack)-1]\n    a.navigateTo(prev.resource, prev.namespace, prev.filter)\n}\n</code></pre>"},{"location":"concepts/tui-architecture/#filter-state","title":"Filter State","text":"<pre><code>// Live filtering with debounce (100ms)\na.cmdInput.SetChangedFunc(func(text string) {\n    filterTimer.Reset(100 * time.Millisecond)\n})\n\n// After debounce timeout:\na.mx.Lock()\na.filterText = text\na.filterRegex = strings.HasPrefix(text, \"/\") &amp;&amp; strings.HasSuffix(text, \"/\")\na.mx.Unlock()\na.applyFilterText()\n</code></pre>"},{"location":"concepts/tui-architecture/#concurrency-patterns","title":"Concurrency Patterns","text":""},{"location":"concepts/tui-architecture/#queueupdatedraw-wrapper","title":"QueueUpdateDraw Wrapper","text":"<p>All UI updates from goroutines must use <code>QueueUpdateDraw()</code>:</p> <pre><code>func (a *App) QueueUpdateDraw(f func()) {\n    go func() {\n        // Recheck state before queuing (avoid deadlock)\n        if atomic.LoadInt32(&amp;a.stopping) == 1 {\n            return\n        }\n        a.Application.QueueUpdateDraw(f)\n    }()\n}\n</code></pre> <p>Why the goroutine wrapper? - Prevents deadlock when called from tview input handlers - Input handlers run on the main event loop - Direct <code>QueueUpdateDraw()</code> from input handler \u2192 deadlock - Goroutine wrapper schedules update asynchronously \u2192 safe</p>"},{"location":"concepts/tui-architecture/#ai-tool-approval-channel","title":"AI Tool Approval Channel","text":"<pre><code>// Non-blocking send (prevent deadlock)\nselect {\ncase a.pendingToolApproval &lt;- approved:\n    // Success\ndefault:\n    // Channel full or no receiver, ignore\n}\n\n// Receiver side (with timeout)\nselect {\ncase approved := &lt;-a.pendingToolApproval:\n    if approved {\n        a.executeToolCall()\n    }\ncase &lt;-time.After(30 * time.Second):\n    a.cancelToolCall()\ncase &lt;-ctx.Done():\n    return\n}\n</code></pre>"},{"location":"concepts/tui-architecture/#fetch-with-backoff","title":"Fetch with Backoff","text":"<pre><code>func (a *App) refresh() {\n    go func() {\n        backoff := 100 * time.Millisecond\n        maxBackoff := 5 * time.Second\n\n        for {\n            err := a.fetchResources(ctx)\n            if err == nil {\n                break\n            }\n\n            time.Sleep(backoff)\n            backoff *= 2\n            if backoff &gt; maxBackoff {\n                backoff = maxBackoff\n            }\n        }\n    }()\n}\n</code></pre>"},{"location":"concepts/tui-architecture/#file-structure","title":"File Structure","text":"<pre><code>pkg/ui/\n\u251c\u2500\u2500 app.go (2166 lines)              # Main App struct, UI setup\n\u2502   \u251c\u2500\u2500 New()                        # Constructor\n\u2502   \u251c\u2500\u2500 Run()                        # Main event loop\n\u2502   \u251c\u2500\u2500 setupUI()                    # Component initialization\n\u2502   \u2514\u2500\u2500 inputCapture()               # Keyboard handler\n\u2502\n\u251c\u2500\u2500 app_navigation.go (521 lines)    # Navigation logic\n\u2502   \u251c\u2500\u2500 navigateTo()                 # Resource switching\n\u2502   \u251c\u2500\u2500 drillDown()                  # Enter key handler\n\u2502   \u251c\u2500\u2500 goBack()                     # Esc key handler\n\u2502   \u2514\u2500\u2500 updateHeader()               # Header rendering\n\u2502\n\u251c\u2500\u2500 app_actions.go                   # Action handlers\n\u2502   \u251c\u2500\u2500 showLogs()                   # Log viewer\n\u2502   \u251c\u2500\u2500 showDescribe()               # Describe viewer\n\u2502   \u251c\u2500\u2500 showYAML()                   # YAML viewer\n\u2502   \u251c\u2500\u2500 showScale()                  # Scale dialog\n\u2502   \u2514\u2500\u2500 showDelete()                 # Delete confirmation\n\u2502\n\u251c\u2500\u2500 app_fetch.go                     # Resource fetching\n\u2502   \u251c\u2500\u2500 fetchResources()             # Dispatcher\n\u2502   \u251c\u2500\u2500 fetchPods()                  # Pod-specific fetch\n\u2502   \u251c\u2500\u2500 fetchDeployments()           # Deployment-specific\n\u2502   \u2514\u2500\u2500 applyFilterText()            # Filter application\n\u2502\n\u251c\u2500\u2500 ai_panel.go (669 lines)          # AI assistant panel\n\u2502   \u251c\u2500\u2500 NewAIPanel()                 # Constructor\n\u2502   \u251c\u2500\u2500 SetAgent()                   # Bind agent\n\u2502   \u251c\u2500\u2500 Submit()                     # Question submission\n\u2502   \u251c\u2500\u2500 ShowApproval()               # Tool approval UI\n\u2502   \u2514\u2500\u2500 AppendResponse()             # Streaming response\n\u2502\n\u251c\u2500\u2500 briefing.go                      # Cluster health panel\n\u2502   \u251c\u2500\u2500 BriefingPanel                # Component struct\n\u2502   \u251c\u2500\u2500 Update()                     # Refresh health data\n\u2502   \u2514\u2500\u2500 Render()                     # Render health score\n\u2502\n\u251c\u2500\u2500 vim_viewer.go (409 lines)        # Vim-style text viewer\n\u2502   \u251c\u2500\u2500 VimViewer                    # Component struct\n\u2502   \u251c\u2500\u2500 SetContent()                 # Load text content\n\u2502   \u251c\u2500\u2500 Search()                     # /pattern search\n\u2502   \u2514\u2500\u2500 inputCapture()               # j/k/g/G navigation\n\u2502\n\u251c\u2500\u2500 logo.go (359 lines)              # ASCII art logo\n\u2502\n\u251c\u2500\u2500 actions/\n\u2502   \u2514\u2500\u2500 actions.go                   # Key action registry\n\u2502       \u251c\u2500\u2500 KeyAction                # Action definition\n\u2502       \u2514\u2500\u2500 KeyActions               # Action registry\n\u2502\n\u251c\u2500\u2500 models/\n\u2502   \u251c\u2500\u2500 table.go                     # Table data model\n\u2502   \u2502   \u251c\u2500\u2500 Table                    # Data container\n\u2502   \u2502   \u2514\u2500\u2500 TableListener            # Change observer\n\u2502   \u2514\u2500\u2500 resource.go                  # Resource model\n\u2502\n\u251c\u2500\u2500 resources/                       # Resource-specific fetch\n\u2502   \u251c\u2500\u2500 pods.go\n\u2502   \u251c\u2500\u2500 deployments.go\n\u2502   \u251c\u2500\u2500 services.go\n\u2502   \u251c\u2500\u2500 nodes.go\n\u2502   \u2514\u2500\u2500 types.go\n\u2502\n\u251c\u2500\u2500 render/                          # Rendering helpers\n\u2502   \u251c\u2500\u2500 pod.go                       # Pod formatting\n\u2502   \u251c\u2500\u2500 deployment.go                # Deployment formatting\n\u2502   \u2514\u2500\u2500 render.go                    # Generic utilities\n\u2502\n\u2514\u2500\u2500 views/                           # (Future: view components)\n    \u251c\u2500\u2500 base.go\n    \u251c\u2500\u2500 stack.go\n    \u2514\u2500\u2500 registrar.go\n</code></pre>"},{"location":"concepts/tui-architecture/#vim-viewer-component","title":"Vim Viewer Component","text":"<p>File: <code>pkg/ui/vim_viewer.go</code></p> <p>Used for logs, YAML, describe output:</p> <pre><code>type VimViewer struct {\n    *tview.TextView\n    searchPattern string\n    searchRegex   *regexp.Regexp\n    searchMatches []int\n    currentMatch  int\n    searchMode    bool\n    content       string\n    lines         []string\n    totalLines    int\n}\n</code></pre>"},{"location":"concepts/tui-architecture/#keybindings","title":"Keybindings","text":"Key Action <code>/pattern</code> Search <code>n</code> Next match <code>N</code> Previous match <code>j</code> / <code>k</code> Down / Up <code>g</code> / <code>G</code> Top / Bottom <code>Ctrl+D</code> / <code>Ctrl+U</code> Page down / up <code>Esc</code> Close viewer"},{"location":"concepts/tui-architecture/#briefing-panel","title":"Briefing Panel","text":"<p>File: <code>pkg/ui/briefing.go</code></p> <p>Shows cluster health at a glance:</p> <pre><code>type BriefingData struct {\n    HealthScore      int      // 0-100\n    HealthStatus     string   // \"healthy\", \"warning\", \"critical\"\n    TotalPods        int\n    RunningPods      int\n    PendingPods      int\n    FailedPods       int\n    TotalNodes       int\n    ReadyNodes       int\n    CPUPercent       float64\n    MemoryPercent    float64\n    Alerts           []string // Warning messages\n}\n</code></pre>"},{"location":"concepts/tui-architecture/#display","title":"Display","text":"<pre><code>\u250c\u2500 Cluster Health \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Health: 95/100 [\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591] healthy                    \u2502\n\u2502 Pods: 45 running, 2 pending, 1 failed                            \u2502\n\u2502 Nodes: 3/3 ready | CPU: 45% | Memory: 62%                        \u2502\n\u2502 \u26a0 1 pod in CrashLoopBackOff                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Toggle with <code>Shift+B</code>.</p>"},{"location":"concepts/tui-architecture/#summary","title":"Summary","text":"<p>The k13d TUI architecture follows k9s patterns for: - Stability: Mutex-protected state, atomic guards - Responsiveness: QueueUpdateDraw, non-blocking channels - Usability: Vim keybindings, command mode, drill-down - AI Integration: Tool calling, approval workflow, streaming</p> <p>Key files: - <code>app.go</code> - Main application and UI setup - <code>app_navigation.go</code> - Resource navigation logic - <code>ai_panel.go</code> - AI assistant integration - <code>vim_viewer.go</code> - Log/YAML viewer</p>"},{"location":"concepts/tui-architecture/#next-steps","title":"Next Steps","text":"<ul> <li>User Guide - How to use k13d</li> <li>MCP Integration - AI tool integration</li> <li>Architecture - System overview</li> </ul>"},{"location":"deployment/air-gapped/","title":"Air-Gapped Deployment","text":"<p>Deploy k13d in environments without internet access.</p>"},{"location":"deployment/air-gapped/#overview","title":"Overview","text":"<p>Air-gapped deployment requires:</p> <ol> <li>Pre-downloaded Images: Container images saved locally</li> <li>Embedded LLM: Local AI without API calls</li> <li>Offline Dependencies: All assets bundled</li> </ol>"},{"location":"deployment/air-gapped/#preparation-online-machine","title":"Preparation (Online Machine)","text":""},{"location":"deployment/air-gapped/#1-download-k13d-binary","title":"1. Download k13d Binary","text":"<pre><code># Download binary\nwget https://github.com/cloudbro-kube-ai/k13d/releases/download/v0.6.3/k13d-linux-amd64.tar.gz\n\n# Verify checksum\nsha256sum k13d-linux-amd64.tar.gz\n</code></pre>"},{"location":"deployment/air-gapped/#2-save-docker-images","title":"2. Save Docker Images","text":"<pre><code># Pull images\ndocker pull cloudbro/k13d:latest\ndocker pull ollama/ollama:latest\n\n# Save to tar files\ndocker save cloudbro/k13d:latest &gt; k13d-image.tar\ndocker save ollama/ollama:latest &gt; ollama-image.tar\n\n# Compress\ngzip k13d-image.tar\ngzip ollama-image.tar\n</code></pre>"},{"location":"deployment/air-gapped/#3-download-ollama-models","title":"3. Download Ollama Models","text":"<pre><code># Pull model\nollama pull llama3.2\n\n# Find model location\nls ~/.ollama/models/\n\n# Copy model files\ntar -czvf ollama-models.tar.gz ~/.ollama/models/\n</code></pre>"},{"location":"deployment/air-gapped/#4-package-all-files","title":"4. Package All Files","text":"<pre><code># Create package directory\nmkdir k13d-airgap\nmv k13d-linux-amd64.tar.gz k13d-airgap/\nmv k13d-image.tar.gz k13d-airgap/\nmv ollama-image.tar.gz k13d-airgap/\nmv ollama-models.tar.gz k13d-airgap/\n\n# Create archive\ntar -czvf k13d-airgap-bundle.tar.gz k13d-airgap/\n</code></pre>"},{"location":"deployment/air-gapped/#transfer","title":"Transfer","text":"<p>Transfer <code>k13d-airgap-bundle.tar.gz</code> to air-gapped environment:</p> <ul> <li>USB drive</li> <li>Secure file transfer</li> <li>Physical media</li> </ul>"},{"location":"deployment/air-gapped/#installation-air-gapped-machine","title":"Installation (Air-Gapped Machine)","text":""},{"location":"deployment/air-gapped/#1-extract-bundle","title":"1. Extract Bundle","text":"<pre><code>tar -xzvf k13d-airgap-bundle.tar.gz\ncd k13d-airgap\n</code></pre>"},{"location":"deployment/air-gapped/#2-install-binary","title":"2. Install Binary","text":"<pre><code># Extract binary\ntar -xzvf k13d-linux-amd64.tar.gz\n\n# Install\nsudo mv k13d /usr/local/bin/\nsudo chmod +x /usr/local/bin/k13d\n\n# Verify\nk13d --version\n</code></pre>"},{"location":"deployment/air-gapped/#3-load-docker-images","title":"3. Load Docker Images","text":"<pre><code># Load images\ngunzip -c k13d-image.tar.gz | docker load\ngunzip -c ollama-image.tar.gz | docker load\n\n# Verify\ndocker images | grep -E \"(k13d|ollama)\"\n</code></pre>"},{"location":"deployment/air-gapped/#4-install-ollama-models","title":"4. Install Ollama Models","text":"<pre><code># Extract models\nmkdir -p ~/.ollama\ntar -xzvf ollama-models.tar.gz -C ~/\n</code></pre>"},{"location":"deployment/air-gapped/#running-k13d","title":"Running k13d","text":""},{"location":"deployment/air-gapped/#with-embedded-llm-binary","title":"With Embedded LLM (Binary)","text":"<pre><code># Run with embedded LLM\nk13d --embedded-llm -web -port 8080\n</code></pre>"},{"location":"deployment/air-gapped/#with-docker-ollama","title":"With Docker + Ollama","text":"<pre><code># Start Ollama\ndocker run -d \\\n  --name ollama \\\n  -v ~/.ollama:/root/.ollama \\\n  ollama/ollama:latest\n\n# Start k13d\ndocker run -d \\\n  --name k13d \\\n  -p 8080:8080 \\\n  -v ~/.kube:/root/.kube:ro \\\n  --link ollama \\\n  -e LLM_PROVIDER=ollama \\\n  -e LLM_ENDPOINT=http://ollama:11434 \\\n  cloudbro/k13d:latest \\\n  -web -port 8080\n</code></pre>"},{"location":"deployment/air-gapped/#docker-compose-air-gapped","title":"Docker Compose (Air-Gapped)","text":"<pre><code># docker-compose.airgapped.yaml\nversion: '3.8'\n\nservices:\n  k13d:\n    image: cloudbro/k13d:latest\n    ports:\n      - \"8080:8080\"\n    volumes:\n      - ~/.kube:/root/.kube:ro\n      - k13d-data:/root/.config/k13d\n    environment:\n      - LLM_PROVIDER=ollama\n      - LLM_ENDPOINT=http://ollama:11434\n      - LLM_MODEL=llama3.2\n    command: [\"-web\", \"-port\", \"8080\"]\n    depends_on:\n      - ollama\n\n  ollama:\n    image: ollama/ollama:latest\n    volumes:\n      - ~/.ollama:/root/.ollama\n\nvolumes:\n  k13d-data:\n</code></pre> <pre><code>docker-compose -f docker-compose.airgapped.yaml up -d\n</code></pre>"},{"location":"deployment/air-gapped/#kubernetes-deployment-air-gapped","title":"Kubernetes Deployment (Air-Gapped)","text":""},{"location":"deployment/air-gapped/#1-load-images-to-registry","title":"1. Load Images to Registry","text":"<pre><code># Load to local registry\ndocker load &lt; k13d-image.tar.gz\ndocker tag cloudbro/k13d:latest registry.local:5000/k13d:latest\ndocker push registry.local:5000/k13d:latest\n\ndocker load &lt; ollama-image.tar.gz\ndocker tag ollama/ollama:latest registry.local:5000/ollama:latest\ndocker push registry.local:5000/ollama:latest\n</code></pre>"},{"location":"deployment/air-gapped/#2-deploy-with-local-registry","title":"2. Deploy with Local Registry","text":"<pre><code># k13d-airgapped.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: k13d\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: k13d\n  template:\n    metadata:\n      labels:\n        app: k13d\n    spec:\n      containers:\n        - name: k13d\n          image: registry.local:5000/k13d:latest  # Local registry\n          args: [\"-web\", \"-port\", \"8080\"]\n          env:\n            - name: LLM_PROVIDER\n              value: ollama\n            - name: LLM_ENDPOINT\n              value: http://localhost:11434\n          ports:\n            - containerPort: 8080\n\n        - name: ollama\n          image: registry.local:5000/ollama:latest  # Local registry\n          volumeMounts:\n            - name: ollama-models\n              mountPath: /root/.ollama\n\n      volumes:\n        - name: ollama-models\n          persistentVolumeClaim:\n            claimName: ollama-models\n---\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: ollama-models\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 10Gi\n</code></pre>"},{"location":"deployment/air-gapped/#3-pre-load-models","title":"3. Pre-load Models","text":"<pre><code># Init container to copy models\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: k13d\nspec:\n  template:\n    spec:\n      initContainers:\n        - name: copy-models\n          image: busybox\n          command:\n            - sh\n            - -c\n            - cp -r /models/* /ollama-models/\n          volumeMounts:\n            - name: model-source\n              mountPath: /models\n            - name: ollama-models\n              mountPath: /ollama-models\n\n      volumes:\n        - name: model-source\n          configMap:\n            name: ollama-models  # Or hostPath with models\n        - name: ollama-models\n          persistentVolumeClaim:\n            claimName: ollama-models\n</code></pre>"},{"location":"deployment/air-gapped/#configuration","title":"Configuration","text":""},{"location":"deployment/air-gapped/#configyaml-for-air-gapped","title":"config.yaml for Air-Gapped","text":"<pre><code># ~/.config/k13d/config.yaml\nllm:\n  provider: ollama\n  model: llama3.2\n  endpoint: http://localhost:11434\n\n# Or embedded LLM\n# llm:\n#   provider: embedded\n#   model: llama-3.2-1b\n\n# Disable telemetry\ntelemetry:\n  enabled: false\n\n# Local settings\nenable_audit: true\nreport_path: /data/reports\n</code></pre>"},{"location":"deployment/air-gapped/#verification","title":"Verification","text":""},{"location":"deployment/air-gapped/#check-connectivity","title":"Check Connectivity","text":"<pre><code># Verify no external connections\nnetstat -tuln | grep ESTABLISHED\n\n# Test LLM\ncurl http://localhost:11434/api/tags\n\n# Test k13d\ncurl http://localhost:8080/api/health\n</code></pre>"},{"location":"deployment/air-gapped/#test-ai-functionality","title":"Test AI Functionality","text":"<pre><code># Access k13d\ncurl -X POST http://localhost:8080/api/chat/agentic \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"message\": \"List all pods\"}'\n</code></pre>"},{"location":"deployment/air-gapped/#model-options","title":"Model Options","text":""},{"location":"deployment/air-gapped/#recommended-models-for-air-gapped","title":"Recommended Models for Air-Gapped","text":"Model Size Memory Quality Llama 3.2 1B 1.2GB 4GB Good Llama 3.2 3B 2.5GB 6GB Better Llama 3 8B 4.5GB 10GB Best Mistral 7B 4.0GB 8GB Good Qwen2 1.5B 1.5GB 4GB Good"},{"location":"deployment/air-gapped/#multiple-models","title":"Multiple Models","text":"<p>Package multiple models for flexibility:</p> <pre><code># Download multiple models\nfor model in llama3.2 mistral qwen2:1.5b; do\n  ollama pull $model\ndone\n\n# Save all models\ntar -czvf ollama-models-all.tar.gz ~/.ollama/models/\n</code></pre>"},{"location":"deployment/air-gapped/#updating","title":"Updating","text":""},{"location":"deployment/air-gapped/#update-process","title":"Update Process","text":"<ol> <li>Download new version on online machine</li> <li>Package as before</li> <li>Transfer to air-gapped environment</li> <li>Load new images</li> <li>Restart services</li> </ol> <pre><code># On online machine\ndocker pull cloudbro/k13d:v0.7.0\ndocker save cloudbro/k13d:v0.7.0 &gt; k13d-v0.7.0.tar\ngzip k13d-v0.7.0.tar\n\n# Transfer and load\ngunzip -c k13d-v0.7.0.tar.gz | docker load\n\n# Update deployment\nkubectl set image deployment/k13d k13d=registry.local:5000/k13d:v0.7.0\n</code></pre>"},{"location":"deployment/air-gapped/#troubleshooting","title":"Troubleshooting","text":""},{"location":"deployment/air-gapped/#ollama-not-responding","title":"Ollama Not Responding","text":"<pre><code># Check Ollama status\ndocker logs ollama\n\n# Verify model is loaded\ndocker exec ollama ollama list\n\n# Manually load model\ndocker exec -it ollama ollama run llama3.2 --help\n</code></pre>"},{"location":"deployment/air-gapped/#out-of-memory","title":"Out of Memory","text":"<pre><code># Use smaller model\n# In config:\nllm:\n  model: llama3.2:1b  # Smaller variant\n</code></pre>"},{"location":"deployment/air-gapped/#image-load-fails","title":"Image Load Fails","text":"<pre><code># Verify tar integrity\ngzip -t k13d-image.tar.gz\n\n# Check disk space\ndf -h\n\n# Load with verbose output\ndocker load &lt; k13d-image.tar\n</code></pre>"},{"location":"deployment/air-gapped/#security-considerations","title":"Security Considerations","text":""},{"location":"deployment/air-gapped/#image-verification","title":"Image Verification","text":"<pre><code># Verify image digest\ndocker inspect cloudbro/k13d:latest --format='{{.RepoDigests}}'\n\n# Compare with published digest\n</code></pre>"},{"location":"deployment/air-gapped/#network-isolation","title":"Network Isolation","text":"<pre><code># Network policy for air-gapped\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: k13d-airgapped\nspec:\n  podSelector:\n    matchLabels:\n      app: k13d\n  policyTypes:\n    - Egress\n  egress:\n    # Only allow internal traffic\n    - to:\n        - ipBlock:\n            cidr: 10.0.0.0/8\n        - ipBlock:\n            cidr: 172.16.0.0/12\n        - ipBlock:\n            cidr: 192.168.0.0/16\n</code></pre>"},{"location":"deployment/air-gapped/#next-steps","title":"Next Steps","text":"<ul> <li>Docker Deployment - Standard Docker setup</li> <li>Kubernetes Deployment - K8s deployment</li> <li>Embedded LLM - Local AI options</li> </ul>"},{"location":"deployment/docker/","title":"Docker Deployment","text":"<p>Deploy k13d using Docker for quick setup and consistent environments.</p>"},{"location":"deployment/docker/#quick-start","title":"Quick Start","text":"<pre><code># Run with kubeconfig mounted\ndocker run -d \\\n  --name k13d \\\n  -p 8080:8080 \\\n  -v ~/.kube:/root/.kube:ro \\\n  -e OPENAI_API_KEY=$OPENAI_API_KEY \\\n  cloudbro/k13d:latest \\\n  -web -port 8080\n</code></pre> <p>Access at: http://localhost:8080</p>"},{"location":"deployment/docker/#docker-images","title":"Docker Images","text":""},{"location":"deployment/docker/#available-tags","title":"Available Tags","text":"Tag Description <code>latest</code> Latest stable release <code>v0.6.x</code> Specific version <code>edge</code> Development builds <code>slim</code> Minimal image (no embedded LLM)"},{"location":"deployment/docker/#image-size","title":"Image Size","text":"Tag Size Includes <code>latest</code> ~100MB Full features <code>slim</code> ~30MB No embedded LLM"},{"location":"deployment/docker/#configuration","title":"Configuration","text":""},{"location":"deployment/docker/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>OPENAI_API_KEY</code> OpenAI API key - <code>ANTHROPIC_API_KEY</code> Anthropic API key - <code>KUBECONFIG</code> Kubeconfig path /root/.kube/config <code>K13D_PASSWORD</code> Web UI password - <code>K13D_PORT</code> Web server port 8080"},{"location":"deployment/docker/#volume-mounts","title":"Volume Mounts","text":"Host Path Container Path Purpose <code>~/.kube</code> <code>/root/.kube</code> Kubeconfig <code>~/.config/k13d</code> <code>/root/.config/k13d</code> Config &amp; data"},{"location":"deployment/docker/#docker-compose","title":"Docker Compose","text":""},{"location":"deployment/docker/#basic-setup","title":"Basic Setup","text":"<pre><code># docker-compose.yaml\nversion: '3.8'\n\nservices:\n  k13d:\n    image: cloudbro/k13d:latest\n    ports:\n      - \"8080:8080\"\n    volumes:\n      - ~/.kube:/root/.kube:ro\n      - k13d-data:/root/.config/k13d\n    environment:\n      - OPENAI_API_KEY=${OPENAI_API_KEY}\n      - K13D_PASSWORD=${K13D_PASSWORD}\n    command: [\"-web\", \"-port\", \"8080\"]\n    restart: unless-stopped\n\nvolumes:\n  k13d-data:\n</code></pre> <p>Run: <pre><code>docker-compose up -d\n</code></pre></p>"},{"location":"deployment/docker/#with-ollama-local-llm","title":"With Ollama (Local LLM)","text":"<pre><code>version: '3.8'\n\nservices:\n  k13d:\n    image: cloudbro/k13d:latest\n    ports:\n      - \"8080:8080\"\n    volumes:\n      - ~/.kube:/root/.kube:ro\n      - k13d-data:/root/.config/k13d\n    environment:\n      - LLM_PROVIDER=ollama\n      - LLM_ENDPOINT=http://ollama:11434\n    command: [\"-web\", \"-port\", \"8080\"]\n    depends_on:\n      - ollama\n\n  ollama:\n    image: ollama/ollama:latest\n    volumes:\n      - ollama-models:/root/.ollama\n    # Pull model on start\n    entrypoint: [\"/bin/sh\", \"-c\", \"ollama serve &amp; sleep 5 &amp;&amp; ollama pull llama3.2 &amp;&amp; wait\"]\n\nvolumes:\n  k13d-data:\n  ollama-models:\n</code></pre>"},{"location":"deployment/docker/#with-traefik-https","title":"With Traefik (HTTPS)","text":"<pre><code>version: '3.8'\n\nservices:\n  k13d:\n    image: cloudbro/k13d:latest\n    volumes:\n      - ~/.kube:/root/.kube:ro\n    environment:\n      - OPENAI_API_KEY=${OPENAI_API_KEY}\n    command: [\"-web\", \"-port\", \"8080\"]\n    labels:\n      - \"traefik.enable=true\"\n      - \"traefik.http.routers.k13d.rule=Host(`k13d.example.com`)\"\n      - \"traefik.http.routers.k13d.entrypoints=websecure\"\n      - \"traefik.http.routers.k13d.tls.certresolver=letsencrypt\"\n\n  traefik:\n    image: traefik:v2.10\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock:ro\n      - traefik-certs:/letsencrypt\n    command:\n      - \"--providers.docker=true\"\n      - \"--entrypoints.web.address=:80\"\n      - \"--entrypoints.websecure.address=:443\"\n      - \"--certificatesresolvers.letsencrypt.acme.email=admin@example.com\"\n      - \"--certificatesresolvers.letsencrypt.acme.storage=/letsencrypt/acme.json\"\n      - \"--certificatesresolvers.letsencrypt.acme.httpchallenge.entrypoint=web\"\n\nvolumes:\n  traefik-certs:\n</code></pre>"},{"location":"deployment/docker/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"deployment/docker/#custom-config-file","title":"Custom Config File","text":"<pre><code># docker-compose.yaml\nservices:\n  k13d:\n    image: cloudbro/k13d:latest\n    volumes:\n      - ~/.kube:/root/.kube:ro\n      - ./k13d-config.yaml:/root/.config/k13d/config.yaml:ro\n</code></pre> <pre><code># k13d-config.yaml\nllm:\n  provider: openai\n  model: gpt-4\n\nauth:\n  password: ${K13D_PASSWORD}\n\nenable_audit: true\nbeginner_mode: false\n\nmcp:\n  servers:\n    - name: thinking\n      enabled: true\n      command: npx\n      args: [\"-y\", \"@modelcontextprotocol/server-sequential-thinking\"]\n</code></pre>"},{"location":"deployment/docker/#multi-cluster-setup","title":"Multi-Cluster Setup","text":"<pre><code>version: '3.8'\n\nservices:\n  k13d-prod:\n    image: cloudbro/k13d:latest\n    ports:\n      - \"8081:8080\"\n    volumes:\n      - ~/.kube/prod-config:/root/.kube/config:ro\n    environment:\n      - OPENAI_API_KEY=${OPENAI_API_KEY}\n    command: [\"-web\", \"-port\", \"8080\"]\n\n  k13d-staging:\n    image: cloudbro/k13d:latest\n    ports:\n      - \"8082:8080\"\n    volumes:\n      - ~/.kube/staging-config:/root/.kube/config:ro\n    environment:\n      - OPENAI_API_KEY=${OPENAI_API_KEY}\n    command: [\"-web\", \"-port\", \"8080\"]\n</code></pre>"},{"location":"deployment/docker/#building-custom-images","title":"Building Custom Images","text":""},{"location":"deployment/docker/#dockerfile","title":"Dockerfile","text":"<pre><code>FROM cloudbro/k13d:latest\n\n# Add custom config\nCOPY config.yaml /root/.config/k13d/config.yaml\n\n# Add custom scripts\nCOPY scripts/ /opt/k13d/scripts/\n\n# Set environment\nENV K13D_PORT=8080\nENV LLM_PROVIDER=openai\n\nEXPOSE 8080\n\nCMD [\"-web\", \"-port\", \"8080\"]\n</code></pre>"},{"location":"deployment/docker/#build-push","title":"Build &amp; Push","text":"<pre><code>docker build -t myorg/k13d:custom .\ndocker push myorg/k13d:custom\n</code></pre>"},{"location":"deployment/docker/#health-checks","title":"Health Checks","text":""},{"location":"deployment/docker/#docker-health-check","title":"Docker Health Check","text":"<pre><code>services:\n  k13d:\n    image: cloudbro/k13d:latest\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8080/api/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n      start_period: 10s\n</code></pre>"},{"location":"deployment/docker/#monitoring","title":"Monitoring","text":"<pre><code># Check container status\ndocker ps\n\n# View logs\ndocker logs k13d\n\n# View resource usage\ndocker stats k13d\n</code></pre>"},{"location":"deployment/docker/#networking","title":"Networking","text":""},{"location":"deployment/docker/#bridge-network-default","title":"Bridge Network (Default)","text":"<pre><code>services:\n  k13d:\n    networks:\n      - k13d-network\n\nnetworks:\n  k13d-network:\n    driver: bridge\n</code></pre>"},{"location":"deployment/docker/#host-network","title":"Host Network","text":"<p>For accessing local Kubernetes:</p> <pre><code>services:\n  k13d:\n    network_mode: host\n</code></pre>"},{"location":"deployment/docker/#access-from-host","title":"Access from Host","text":"<pre><code># Port mapping\ndocker run -p 8080:8080 ...\n\n# Access\ncurl http://localhost:8080/api/health\n</code></pre>"},{"location":"deployment/docker/#security","title":"Security","text":""},{"location":"deployment/docker/#read-only-kubeconfig","title":"Read-Only Kubeconfig","text":"<pre><code>volumes:\n  - ~/.kube:/root/.kube:ro  # Read-only mount\n</code></pre>"},{"location":"deployment/docker/#non-root-user","title":"Non-Root User","text":"<pre><code>FROM cloudbro/k13d:latest\n\n# Create non-root user\nRUN adduser -D -u 1000 k13d\nUSER k13d\n\n# Copy kubeconfig\nCOPY --chown=k13d:k13d kubeconfig /home/k13d/.kube/config\n</code></pre>"},{"location":"deployment/docker/#secrets-management","title":"Secrets Management","text":"<pre><code>services:\n  k13d:\n    secrets:\n      - openai_key\n    environment:\n      - OPENAI_API_KEY_FILE=/run/secrets/openai_key\n\nsecrets:\n  openai_key:\n    file: ./secrets/openai_key.txt\n</code></pre>"},{"location":"deployment/docker/#troubleshooting","title":"Troubleshooting","text":""},{"location":"deployment/docker/#container-wont-start","title":"Container Won't Start","text":"<pre><code># Check logs\ndocker logs k13d\n\n# Common issues:\n# - Missing kubeconfig\n# - Invalid API key\n# - Port already in use\n</code></pre>"},{"location":"deployment/docker/#cant-access-kubernetes","title":"Can't Access Kubernetes","text":"<pre><code># Verify kubeconfig mount\ndocker exec k13d cat /root/.kube/config\n\n# Test kubectl\ndocker exec k13d kubectl get nodes\n</code></pre>"},{"location":"deployment/docker/#permission-denied","title":"Permission Denied","text":"<pre><code># Check file permissions\nls -la ~/.kube/config\n\n# Fix permissions\nchmod 644 ~/.kube/config\n</code></pre>"},{"location":"deployment/docker/#high-memory-usage","title":"High Memory Usage","text":"<pre><code>services:\n  k13d:\n    deploy:\n      resources:\n        limits:\n          memory: 512M\n</code></pre>"},{"location":"deployment/docker/#best-practices","title":"Best Practices","text":""},{"location":"deployment/docker/#1-use-specific-tags","title":"1. Use Specific Tags","text":"<pre><code># Good\nimage: cloudbro/k13d:v0.6.3\n\n# Avoid in production\nimage: cloudbro/k13d:latest\n</code></pre>"},{"location":"deployment/docker/#2-persist-data","title":"2. Persist Data","text":"<pre><code>volumes:\n  - k13d-data:/root/.config/k13d\n</code></pre>"},{"location":"deployment/docker/#3-use-docker-secrets","title":"3. Use Docker Secrets","text":"<p>Never commit API keys to docker-compose files.</p>"},{"location":"deployment/docker/#4-enable-health-checks","title":"4. Enable Health Checks","text":"<p>Always configure health checks for production.</p>"},{"location":"deployment/docker/#5-resource-limits","title":"5. Resource Limits","text":"<p>Set memory limits to prevent runaway usage.</p>"},{"location":"deployment/docker/#next-steps","title":"Next Steps","text":"<ul> <li>Kubernetes Deployment - Deploy to K8s</li> <li>Helm - Helm chart</li> <li>Air-Gapped - Offline deployment</li> </ul>"},{"location":"deployment/helm/","title":"Helm Deployment","text":"<p>Deploy k13d using Helm for easy configuration and upgrades.</p>"},{"location":"deployment/helm/#quick-start","title":"Quick Start","text":"<pre><code># Add Helm repository\nhelm repo add k13d https://cloudbro-kube-ai.github.io/k13d/charts\nhelm repo update\n\n# Install k13d\nhelm install k13d k13d/k13d \\\n  --set secrets.openaiApiKey=$OPENAI_API_KEY \\\n  --namespace k13d \\\n  --create-namespace\n\n# Access\nkubectl port-forward svc/k13d 8080:8080 -n k13d\n</code></pre>"},{"location":"deployment/helm/#chart-repository","title":"Chart Repository","text":""},{"location":"deployment/helm/#add-repository","title":"Add Repository","text":"<pre><code>helm repo add k13d https://cloudbro-kube-ai.github.io/k13d/charts\nhelm repo update\n</code></pre>"},{"location":"deployment/helm/#search-versions","title":"Search Versions","text":"<pre><code>helm search repo k13d --versions\n</code></pre>"},{"location":"deployment/helm/#installation","title":"Installation","text":""},{"location":"deployment/helm/#basic-installation","title":"Basic Installation","text":"<pre><code>helm install k13d k13d/k13d -n k13d --create-namespace\n</code></pre>"},{"location":"deployment/helm/#with-values-file","title":"With Values File","text":"<pre><code>helm install k13d k13d/k13d -n k13d -f values.yaml\n</code></pre>"},{"location":"deployment/helm/#from-source","title":"From Source","text":"<pre><code>git clone https://github.com/cloudbro-kube-ai/k13d.git\ncd k13d/deploy/helm\n\nhelm install k13d . -n k13d --create-namespace\n</code></pre>"},{"location":"deployment/helm/#configuration","title":"Configuration","text":""},{"location":"deployment/helm/#valuesyaml","title":"values.yaml","text":"<pre><code># k13d Helm Chart Values\n\n# Image configuration\nimage:\n  repository: cloudbro/k13d\n  tag: latest\n  pullPolicy: IfNotPresent\n\n# Replicas\nreplicaCount: 1\n\n# Service configuration\nservice:\n  type: ClusterIP\n  port: 8080\n\n# Ingress configuration\ningress:\n  enabled: false\n  className: nginx\n  annotations:\n    cert-manager.io/cluster-issuer: letsencrypt-prod\n  hosts:\n    - host: k13d.example.com\n      paths:\n        - path: /\n          pathType: Prefix\n  tls:\n    - secretName: k13d-tls\n      hosts:\n        - k13d.example.com\n\n# LLM configuration\nllm:\n  provider: openai\n  model: gpt-4\n  # For Ollama\n  # provider: ollama\n  # endpoint: http://ollama:11434\n  # model: llama3.2\n\n# Authentication\nauth:\n  enabled: true\n  # password: \"\" # Set via secrets\n\n# Secrets (create externally or set values)\nsecrets:\n  openaiApiKey: \"\"\n  password: \"\"\n\n# Resource limits\nresources:\n  requests:\n    memory: \"256Mi\"\n    cpu: \"100m\"\n  limits:\n    memory: \"512Mi\"\n    cpu: \"500m\"\n\n# RBAC\nrbac:\n  create: true\n  # Restrict to specific namespaces\n  namespaces: []  # Empty = cluster-wide\n\n# Service Account\nserviceAccount:\n  create: true\n  name: k13d\n\n# Pod Security Context\npodSecurityContext:\n  runAsNonRoot: true\n  runAsUser: 1000\n  fsGroup: 1000\n\n# Container Security Context\nsecurityContext:\n  allowPrivilegeEscalation: false\n  readOnlyRootFilesystem: true\n  capabilities:\n    drop:\n      - ALL\n\n# Probes\nlivenessProbe:\n  httpGet:\n    path: /api/health\n    port: http\n  initialDelaySeconds: 10\n  periodSeconds: 30\n\nreadinessProbe:\n  httpGet:\n    path: /api/health\n    port: http\n  initialDelaySeconds: 5\n  periodSeconds: 10\n\n# Node selector\nnodeSelector: {}\n\n# Tolerations\ntolerations: []\n\n# Affinity\naffinity: {}\n\n# Extra environment variables\nextraEnv: []\n\n# Extra volumes\nextraVolumes: []\n\n# Extra volume mounts\nextraVolumeMounts: []\n\n# Ollama sidecar\nollama:\n  enabled: false\n  image: ollama/ollama:latest\n  model: llama3.2\n  persistence:\n    enabled: true\n    size: 10Gi\n    storageClass: \"\"\n\n# Metrics\nmetrics:\n  enabled: false\n  serviceMonitor:\n    enabled: false\n</code></pre>"},{"location":"deployment/helm/#common-configurations","title":"Common Configurations","text":""},{"location":"deployment/helm/#with-ingress","title":"With Ingress","text":"<pre><code># values-ingress.yaml\ningress:\n  enabled: true\n  className: nginx\n  annotations:\n    cert-manager.io/cluster-issuer: letsencrypt-prod\n    nginx.ingress.kubernetes.io/ssl-redirect: \"true\"\n  hosts:\n    - host: k13d.example.com\n      paths:\n        - path: /\n          pathType: Prefix\n  tls:\n    - secretName: k13d-tls\n      hosts:\n        - k13d.example.com\n</code></pre> <pre><code>helm install k13d k13d/k13d -f values-ingress.yaml -n k13d\n</code></pre>"},{"location":"deployment/helm/#with-ollama","title":"With Ollama","text":"<pre><code># values-ollama.yaml\nllm:\n  provider: ollama\n  endpoint: http://localhost:11434\n  model: llama3.2\n\nollama:\n  enabled: true\n  model: llama3.2\n  persistence:\n    enabled: true\n    size: 20Gi\n</code></pre> <pre><code>helm install k13d k13d/k13d -f values-ollama.yaml -n k13d\n</code></pre>"},{"location":"deployment/helm/#high-availability","title":"High Availability","text":"<pre><code># values-ha.yaml\nreplicaCount: 3\n\naffinity:\n  podAntiAffinity:\n    preferredDuringSchedulingIgnoredDuringExecution:\n      - weight: 100\n        podAffinityTerm:\n          labelSelector:\n            matchLabels:\n              app.kubernetes.io/name: k13d\n          topologyKey: kubernetes.io/hostname\n\nresources:\n  requests:\n    memory: \"512Mi\"\n    cpu: \"250m\"\n  limits:\n    memory: \"1Gi\"\n    cpu: \"1000m\"\n</code></pre>"},{"location":"deployment/helm/#namespace-restricted","title":"Namespace-Restricted","text":"<pre><code># values-namespaced.yaml\nrbac:\n  create: true\n  namespaces:\n    - production\n    - staging\n</code></pre>"},{"location":"deployment/helm/#secrets-management","title":"Secrets Management","text":""},{"location":"deployment/helm/#using-external-secrets","title":"Using External Secrets","text":"<pre><code># External Secrets Operator\napiVersion: external-secrets.io/v1beta1\nkind: ExternalSecret\nmetadata:\n  name: k13d-secrets\nspec:\n  secretStoreRef:\n    name: vault-backend\n    kind: SecretStore\n  target:\n    name: k13d-secrets\n  data:\n    - secretKey: openai-api-key\n      remoteRef:\n        key: k13d/openai\n        property: api-key\n</code></pre> <pre><code># values.yaml\nsecrets:\n  existingSecret: k13d-secrets\n</code></pre>"},{"location":"deployment/helm/#using-sealed-secrets","title":"Using Sealed Secrets","text":"<pre><code># Create sealed secret\nkubectl create secret generic k13d-secrets \\\n  --from-literal=openai-api-key=$OPENAI_API_KEY \\\n  --dry-run=client -o yaml | kubeseal &gt; sealed-secrets.yaml\n\nkubectl apply -f sealed-secrets.yaml\n</code></pre> <pre><code># values.yaml\nsecrets:\n  existingSecret: k13d-secrets\n</code></pre>"},{"location":"deployment/helm/#upgrading","title":"Upgrading","text":""},{"location":"deployment/helm/#check-current-version","title":"Check Current Version","text":"<pre><code>helm list -n k13d\n</code></pre>"},{"location":"deployment/helm/#upgrade-to-latest","title":"Upgrade to Latest","text":"<pre><code>helm repo update\nhelm upgrade k13d k13d/k13d -n k13d\n</code></pre>"},{"location":"deployment/helm/#upgrade-with-values","title":"Upgrade with Values","text":"<pre><code>helm upgrade k13d k13d/k13d -n k13d -f values.yaml\n</code></pre>"},{"location":"deployment/helm/#rollback","title":"Rollback","text":"<pre><code># List revisions\nhelm history k13d -n k13d\n\n# Rollback to revision\nhelm rollback k13d 1 -n k13d\n</code></pre>"},{"location":"deployment/helm/#uninstallation","title":"Uninstallation","text":"<pre><code># Uninstall release\nhelm uninstall k13d -n k13d\n\n# Delete namespace\nkubectl delete namespace k13d\n</code></pre>"},{"location":"deployment/helm/#customization","title":"Customization","text":""},{"location":"deployment/helm/#adding-mcp-servers","title":"Adding MCP Servers","text":"<pre><code>extraEnv:\n  - name: MCP_SERVERS\n    value: |\n      [\n        {\n          \"name\": \"thinking\",\n          \"command\": \"npx\",\n          \"args\": [\"-y\", \"@modelcontextprotocol/server-sequential-thinking\"]\n        }\n      ]\n\nextraVolumes:\n  - name: npm-cache\n    emptyDir: {}\n\nextraVolumeMounts:\n  - name: npm-cache\n    mountPath: /root/.npm\n</code></pre>"},{"location":"deployment/helm/#custom-init-containers","title":"Custom Init Containers","text":"<pre><code>extraInitContainers:\n  - name: download-plugins\n    image: alpine:3\n    command:\n      - sh\n      - -c\n      - |\n        wget -O /plugins/custom-plugin.so https://example.com/plugin.so\n    volumeMounts:\n      - name: plugins\n        mountPath: /plugins\n\nextraVolumes:\n  - name: plugins\n    emptyDir: {}\n\nextraVolumeMounts:\n  - name: plugins\n    mountPath: /opt/k13d/plugins\n</code></pre>"},{"location":"deployment/helm/#troubleshooting","title":"Troubleshooting","text":""},{"location":"deployment/helm/#installation-fails","title":"Installation Fails","text":"<pre><code># Debug installation\nhelm install k13d k13d/k13d -n k13d --debug --dry-run\n\n# Check template output\nhelm template k13d k13d/k13d -n k13d\n</code></pre>"},{"location":"deployment/helm/#values-not-applied","title":"Values Not Applied","text":"<pre><code># Get deployed values\nhelm get values k13d -n k13d\n\n# Get all values (including defaults)\nhelm get values k13d -n k13d -a\n</code></pre>"},{"location":"deployment/helm/#rbac-issues","title":"RBAC Issues","text":"<pre><code># Verify RBAC\nkubectl auth can-i get pods --as=system:serviceaccount:k13d:k13d\n\n# Check cluster role\nkubectl get clusterrole k13d -o yaml\n</code></pre>"},{"location":"deployment/helm/#next-steps","title":"Next Steps","text":"<ul> <li>Kubernetes Deployment - Manual deployment</li> <li>Air-Gapped - Offline deployment</li> <li>Configuration - Configuration guide</li> </ul>"},{"location":"deployment/kubernetes/","title":"Kubernetes Deployment","text":"<p>Deploy k13d directly to your Kubernetes cluster for production use.</p>"},{"location":"deployment/kubernetes/#quick-start","title":"Quick Start","text":"<pre><code># Apply manifests\nkubectl apply -f https://raw.githubusercontent.com/cloudbro-kube-ai/k13d/main/deploy/kubernetes/deployment.yaml\n\n# Wait for pod\nkubectl wait --for=condition=ready pod -l app=k13d\n\n# Access via port-forward\nkubectl port-forward svc/k13d 8080:8080\n</code></pre> <p>Access at: http://localhost:8080</p>"},{"location":"deployment/kubernetes/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        Kubernetes Cluster                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502  \u2502   Ingress    \u2502\u2500\u2500\u2500\u25b6\u2502   Service    \u2502\u2500\u2500\u2500\u25b6\u2502    Pod       \u2502       \u2502\n\u2502  \u2502   (optional) \u2502    \u2502   (k13d)     \u2502    \u2502   (k13d)     \u2502       \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502                                                 \u2502                \u2502\n\u2502                                          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502\n\u2502                                          \u2502  ServiceAcc \u2502        \u2502\n\u2502                                          \u2502  (k13d-sa)  \u2502        \u2502\n\u2502                                          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502\n\u2502                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"deployment/kubernetes/#manifests","title":"Manifests","text":""},{"location":"deployment/kubernetes/#basic-deployment","title":"Basic Deployment","text":"<pre><code># k13d-deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: k13d\n  labels:\n    app: k13d\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: k13d\n  template:\n    metadata:\n      labels:\n        app: k13d\n    spec:\n      serviceAccountName: k13d\n      containers:\n        - name: k13d\n          image: cloudbro/k13d:latest\n          args: [\"-web\", \"-port\", \"8080\"]\n          ports:\n            - containerPort: 8080\n          env:\n            - name: OPENAI_API_KEY\n              valueFrom:\n                secretKeyRef:\n                  name: k13d-secrets\n                  key: openai-api-key\n          resources:\n            requests:\n              memory: \"256Mi\"\n              cpu: \"100m\"\n            limits:\n              memory: \"512Mi\"\n              cpu: \"500m\"\n          livenessProbe:\n            httpGet:\n              path: /api/health\n              port: 8080\n            initialDelaySeconds: 10\n            periodSeconds: 30\n          readinessProbe:\n            httpGet:\n              path: /api/health\n              port: 8080\n            initialDelaySeconds: 5\n            periodSeconds: 10\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: k13d\nspec:\n  selector:\n    app: k13d\n  ports:\n    - port: 8080\n      targetPort: 8080\n  type: ClusterIP\n</code></pre>"},{"location":"deployment/kubernetes/#rbac-configuration","title":"RBAC Configuration","text":"<pre><code># k13d-rbac.yaml\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: k13d\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: k13d\nrules:\n  # Read access to all resources\n  - apiGroups: [\"\"]\n    resources: [\"*\"]\n    verbs: [\"get\", \"list\", \"watch\"]\n  - apiGroups: [\"apps\"]\n    resources: [\"*\"]\n    verbs: [\"get\", \"list\", \"watch\"]\n  - apiGroups: [\"batch\"]\n    resources: [\"*\"]\n    verbs: [\"get\", \"list\", \"watch\"]\n  # Write access (for AI operations)\n  - apiGroups: [\"\"]\n    resources: [\"pods\", \"services\", \"configmaps\", \"secrets\"]\n    verbs: [\"create\", \"update\", \"patch\", \"delete\"]\n  - apiGroups: [\"apps\"]\n    resources: [\"deployments\", \"statefulsets\", \"daemonsets\", \"replicasets\"]\n    verbs: [\"create\", \"update\", \"patch\", \"delete\"]\n  # Scale permissions\n  - apiGroups: [\"apps\"]\n    resources: [\"deployments/scale\", \"statefulsets/scale\", \"replicasets/scale\"]\n    verbs: [\"get\", \"update\", \"patch\"]\n  # Logs and exec\n  - apiGroups: [\"\"]\n    resources: [\"pods/log\", \"pods/exec\"]\n    verbs: [\"get\", \"create\"]\n  # Metrics\n  - apiGroups: [\"metrics.k8s.io\"]\n    resources: [\"pods\", \"nodes\"]\n    verbs: [\"get\", \"list\"]\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: k13d\nsubjects:\n  - kind: ServiceAccount\n    name: k13d\n    namespace: default\nroleRef:\n  kind: ClusterRole\n  name: k13d\n  apiGroup: rbac.authorization.k8s.io\n</code></pre>"},{"location":"deployment/kubernetes/#secrets","title":"Secrets","text":"<pre><code># k13d-secrets.yaml\napiVersion: v1\nkind: Secret\nmetadata:\n  name: k13d-secrets\ntype: Opaque\nstringData:\n  openai-api-key: \"sk-your-key-here\"\n  password: \"your-secure-password\"\n</code></pre>"},{"location":"deployment/kubernetes/#configmap","title":"ConfigMap","text":"<pre><code># k13d-configmap.yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: k13d-config\ndata:\n  config.yaml: |\n    llm:\n      provider: openai\n      model: gpt-4\n\n    auth:\n      password: ${K13D_PASSWORD}\n\n    enable_audit: true\n    language: en\n</code></pre>"},{"location":"deployment/kubernetes/#ingress","title":"Ingress","text":"<pre><code># k13d-ingress.yaml\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: k13d\n  annotations:\n    nginx.ingress.kubernetes.io/ssl-redirect: \"true\"\n    cert-manager.io/cluster-issuer: \"letsencrypt-prod\"\nspec:\n  ingressClassName: nginx\n  tls:\n    - hosts:\n        - k13d.example.com\n      secretName: k13d-tls\n  rules:\n    - host: k13d.example.com\n      http:\n        paths:\n          - path: /\n            pathType: Prefix\n            backend:\n              service:\n                name: k13d\n                port:\n                  number: 8080\n</code></pre>"},{"location":"deployment/kubernetes/#installation","title":"Installation","text":""},{"location":"deployment/kubernetes/#apply-all-manifests","title":"Apply All Manifests","text":"<pre><code># Create namespace\nkubectl create namespace k13d\n\n# Apply secrets first\nkubectl apply -f k13d-secrets.yaml -n k13d\n\n# Apply RBAC\nkubectl apply -f k13d-rbac.yaml -n k13d\n\n# Apply config\nkubectl apply -f k13d-configmap.yaml -n k13d\n\n# Apply deployment\nkubectl apply -f k13d-deployment.yaml -n k13d\n\n# Apply ingress (optional)\nkubectl apply -f k13d-ingress.yaml -n k13d\n</code></pre>"},{"location":"deployment/kubernetes/#verify-installation","title":"Verify Installation","text":"<pre><code># Check pod status\nkubectl get pods -n k13d\n\n# Check logs\nkubectl logs -f deployment/k13d -n k13d\n\n# Test health\nkubectl exec -it deployment/k13d -n k13d -- curl localhost:8080/api/health\n</code></pre>"},{"location":"deployment/kubernetes/#access-methods","title":"Access Methods","text":""},{"location":"deployment/kubernetes/#port-forward","title":"Port Forward","text":"<pre><code>kubectl port-forward svc/k13d 8080:8080 -n k13d\n</code></pre>"},{"location":"deployment/kubernetes/#nodeport","title":"NodePort","text":"<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: k13d\nspec:\n  type: NodePort\n  selector:\n    app: k13d\n  ports:\n    - port: 8080\n      targetPort: 8080\n      nodePort: 30080\n</code></pre> <p>Access: <code>http://&lt;node-ip&gt;:30080</code></p>"},{"location":"deployment/kubernetes/#loadbalancer","title":"LoadBalancer","text":"<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: k13d\n  annotations:\n    service.beta.kubernetes.io/aws-load-balancer-type: \"nlb\"\nspec:\n  type: LoadBalancer\n  selector:\n    app: k13d\n  ports:\n    - port: 80\n      targetPort: 8080\n</code></pre>"},{"location":"deployment/kubernetes/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"deployment/kubernetes/#with-ollama-sidecar","title":"With Ollama Sidecar","text":"<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: k13d\nspec:\n  template:\n    spec:\n      containers:\n        - name: k13d\n          image: cloudbro/k13d:latest\n          args: [\"-web\", \"-port\", \"8080\"]\n          env:\n            - name: LLM_PROVIDER\n              value: \"ollama\"\n            - name: LLM_ENDPOINT\n              value: \"http://localhost:11434\"\n\n        - name: ollama\n          image: ollama/ollama:latest\n          ports:\n            - containerPort: 11434\n          volumeMounts:\n            - name: ollama-models\n              mountPath: /root/.ollama\n          # Init container to pull model\n          lifecycle:\n            postStart:\n              exec:\n                command: [\"/bin/sh\", \"-c\", \"sleep 10 &amp;&amp; ollama pull llama3.2\"]\n\n      volumes:\n        - name: ollama-models\n          persistentVolumeClaim:\n            claimName: ollama-models-pvc\n</code></pre>"},{"location":"deployment/kubernetes/#high-availability","title":"High Availability","text":"<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: k13d\nspec:\n  replicas: 3\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxSurge: 1\n      maxUnavailable: 0\n  template:\n    spec:\n      affinity:\n        podAntiAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n            - weight: 100\n              podAffinityTerm:\n                labelSelector:\n                  matchLabels:\n                    app: k13d\n                topologyKey: kubernetes.io/hostname\n</code></pre>"},{"location":"deployment/kubernetes/#resource-limits","title":"Resource Limits","text":"<pre><code>resources:\n  requests:\n    memory: \"256Mi\"\n    cpu: \"100m\"\n  limits:\n    memory: \"1Gi\"\n    cpu: \"1000m\"\n</code></pre>"},{"location":"deployment/kubernetes/#monitoring","title":"Monitoring","text":""},{"location":"deployment/kubernetes/#prometheus-metrics","title":"Prometheus Metrics","text":"<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: k13d\n  annotations:\n    prometheus.io/scrape: \"true\"\n    prometheus.io/port: \"8080\"\n    prometheus.io/path: \"/metrics\"\n</code></pre>"},{"location":"deployment/kubernetes/#grafana-dashboard","title":"Grafana Dashboard","text":"<p>Import dashboard ID: <code>XXXXX</code> (k13d dashboard)</p>"},{"location":"deployment/kubernetes/#security-hardening","title":"Security Hardening","text":""},{"location":"deployment/kubernetes/#pod-security","title":"Pod Security","text":"<pre><code>spec:\n  template:\n    spec:\n      securityContext:\n        runAsNonRoot: true\n        runAsUser: 1000\n        fsGroup: 1000\n      containers:\n        - name: k13d\n          securityContext:\n            allowPrivilegeEscalation: false\n            readOnlyRootFilesystem: true\n            capabilities:\n              drop:\n                - ALL\n</code></pre>"},{"location":"deployment/kubernetes/#network-policy","title":"Network Policy","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: k13d\nspec:\n  podSelector:\n    matchLabels:\n      app: k13d\n  policyTypes:\n    - Ingress\n    - Egress\n  ingress:\n    - from:\n        - namespaceSelector:\n            matchLabels:\n              name: ingress-nginx\n      ports:\n        - protocol: TCP\n          port: 8080\n  egress:\n    - to:\n        - ipBlock:\n            cidr: 0.0.0.0/0\n      ports:\n        - protocol: TCP\n          port: 443  # HTTPS to API\n        - protocol: TCP\n          port: 6443 # Kubernetes API\n</code></pre>"},{"location":"deployment/kubernetes/#read-only-rbac","title":"Read-Only RBAC","text":"<p>For read-only access:</p> <pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: k13d-readonly\nrules:\n  - apiGroups: [\"\"]\n    resources: [\"*\"]\n    verbs: [\"get\", \"list\", \"watch\"]\n  - apiGroups: [\"apps\", \"batch\", \"extensions\"]\n    resources: [\"*\"]\n    verbs: [\"get\", \"list\", \"watch\"]\n</code></pre>"},{"location":"deployment/kubernetes/#troubleshooting","title":"Troubleshooting","text":""},{"location":"deployment/kubernetes/#pod-crashloopbackoff","title":"Pod CrashLoopBackOff","text":"<pre><code># Check logs\nkubectl logs deployment/k13d -n k13d --previous\n\n# Common issues:\n# - Missing secrets\n# - Invalid RBAC\n# - Network issues\n</code></pre>"},{"location":"deployment/kubernetes/#permission-denied","title":"Permission Denied","text":"<pre><code># Verify service account\nkubectl auth can-i get pods --as=system:serviceaccount:k13d:k13d\n\n# Check RBAC\nkubectl describe clusterrolebinding k13d\n</code></pre>"},{"location":"deployment/kubernetes/#cannot-access-api","title":"Cannot Access API","text":"<pre><code># Check service\nkubectl get svc k13d -n k13d\n\n# Check endpoints\nkubectl get endpoints k13d -n k13d\n\n# Test from cluster\nkubectl run test --rm -it --image=curlimages/curl -- curl k13d.k13d:8080/api/health\n</code></pre>"},{"location":"deployment/kubernetes/#next-steps","title":"Next Steps","text":"<ul> <li>Helm - Deploy with Helm</li> <li>Air-Gapped - Offline deployment</li> <li>Security - Security configuration</li> </ul>"},{"location":"features/","title":"Features Overview","text":"<p>k13d provides comprehensive Kubernetes management with both TUI and Web interfaces, featuring an integrated AI assistant.</p>"},{"location":"features/#feature-comparison","title":"Feature Comparison","text":"Feature TUI Web UI Description Dashboard \u2705 \u2705 Real-time resource overview AI Assistant \u2705 \u2705 Agentic AI with tool calling Resource Browsing \u2705 \u2705 View all K8s resources YAML Viewer \u2705 \u2705 View resource manifests Log Viewer \u2705 \u2705 Real-time log streaming Terminal/Shell \u2705 \u2705 Pod shell access Port Forward \u2705 \u2705 Forward ports locally Topology View \u274c \u2705 Resource relationship graph Reports \u274c \u2705 PDF/CSV cluster reports Metrics Charts \u274c \u2705 Visual CPU/Memory graphs Settings UI \u274c \u2705 Graphical configuration Multi-user \u274c \u2705 Authentication &amp; RBAC Audit Logging \u2705 \u2705 Track all operations i18n \u2705 \u2705 Multi-language support Vim Navigation \u2705 \u274c h/j/k/l keybindings Autocomplete \u2705 \u274c Dropdown command suggestions Resource Aliases \u2705 \u274c Custom command shortcuts Plugin System \u2705 \u274c External tool integration Model Switching \u2705 \u2705 Switch AI model profiles Chat History \u2705 \u2705 Preserved Q&amp;A sessions"},{"location":"features/#quick-links","title":"Quick Links","text":"<ul> <li> <p> Web UI Features</p> <p>Dashboard, AI Assistant, Reports, Metrics, and more</p> </li> <li> <p> TUI Features</p> <p>Terminal dashboard with Vim-style navigation</p> </li> <li> <p> AI Assistant</p> <p>Agentic AI with kubectl/bash tool calling</p> </li> <li> <p> Security Features</p> <p>Authentication, RBAC, Audit logging</p> </li> </ul>"},{"location":"features/#interface-screenshots","title":"Interface Screenshots","text":""},{"location":"features/#web-ui-dashboard","title":"Web UI Dashboard","text":"<p>Main dashboard showing resources, AI assistant panel, and navigation</p>"},{"location":"features/#web-ui-ai-assistant","title":"Web UI - AI Assistant","text":"<p>AI assistant panel with natural language queries and tool execution</p>"},{"location":"features/#web-ui-topology-view","title":"Web UI - Topology View","text":"<p>Interactive resource relationship visualization</p>"},{"location":"features/#tui-help-keybindings","title":"TUI - Help &amp; Keybindings","text":"<p>Help modal showing all keybindings including sorting and AI shortcuts</p>"},{"location":"features/#tui-autocomplete","title":"TUI - Autocomplete","text":"<p>Command autocomplete with dropdown suggestions</p>"},{"location":"features/#tui-llm-settings","title":"TUI - LLM Settings","text":"<p>Model switching between configured AI profiles</p>"},{"location":"features/ai-assistant/","title":"AI Assistant Features","text":"<p>The k13d AI Assistant is an agentic AI that understands your Kubernetes cluster and can execute commands on your behalf.</p>"},{"location":"features/ai-assistant/#overview","title":"Overview","text":"Capability Description Natural Language Ask questions in plain language Tool Execution Runs kubectl, bash commands Context Awareness Sees YAML, Events, Logs Safety First Dangerous commands require approval Multi-language English, Korean, Chinese, Japanese"},{"location":"features/ai-assistant/#how-it-works","title":"How It Works","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    User Question                                  \u2502\n\u2502             \"Why is my nginx pod failing?\"                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    AI Agent                                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n\u2502  \u2502 Understand  \u2502\u2500\u25ba\u2502 Plan Tools  \u2502\u2500\u25ba\u2502   Execute   \u2502              \u2502\n\u2502  \u2502  Context    \u2502  \u2502   to Use    \u2502  \u2502    Tools    \u2502              \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u25bc               \u25bc               \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502 kubectl  \u2502   \u2502   bash   \u2502   \u2502   MCP    \u2502\n        \u2502  tools   \u2502   \u2502  tools   \u2502   \u2502  tools   \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/ai-assistant/#tool-calling","title":"Tool Calling","text":""},{"location":"features/ai-assistant/#mcp-tool-call-debug-mode","title":"MCP Tool Call Debug Mode","text":"<p>Enable debug mode to see raw tool calls:</p> <ul> <li>Tool call requests</li> <li>Raw API responses</li> <li>Execution timing</li> </ul>"},{"location":"features/ai-assistant/#available-tools","title":"Available Tools","text":"Tool Description Examples kubectl Kubernetes CLI <code>kubectl get pods</code>, <code>kubectl describe</code> bash Shell commands <code>date</code>, <code>grep</code>, file operations MCP External tools GitHub, databases, custom tools"},{"location":"features/ai-assistant/#safety-classification","title":"Safety Classification","text":"Level Commands Approval Read-only get, describe, logs Auto-approve Write apply, create, patch Requires approval Dangerous delete, drain, taint Warning + approval"},{"location":"features/ai-assistant/#ast-based-analysis","title":"AST-Based Analysis","text":"<p>The AI uses Abstract Syntax Tree parsing to detect:</p> <ul> <li>Piped commands (<code>kubectl get pods | xargs rm</code>)</li> <li>Command chains (<code>kubectl get pods &amp;&amp; rm -rf /</code>)</li> <li>Redirects and subshells</li> <li>Dangerous patterns</li> </ul>"},{"location":"features/ai-assistant/#approval-workflow","title":"Approval Workflow","text":""},{"location":"features/ai-assistant/#web-ui-approval","title":"Web UI Approval","text":"<ol> <li>AI requests tool execution</li> <li>Dialog shows exact command</li> <li>Safety warning (if dangerous)</li> <li>User clicks Approve or Reject</li> <li>Command executes on approval</li> </ol>"},{"location":"features/ai-assistant/#tui-approval","title":"TUI Approval","text":"Key Action <code>Y</code> Approve this command <code>N</code> Reject this command <code>A</code> Always approve read-only"},{"location":"features/ai-assistant/#context-awareness","title":"Context Awareness","text":""},{"location":"features/ai-assistant/#resource-context","title":"Resource Context","text":"<p>When you select a resource, the AI receives:</p> Context Description YAML Full resource manifest Events Recent Kubernetes events Logs Container logs (for Pods) Metrics CPU/Memory usage Related Owner references, selectors"},{"location":"features/ai-assistant/#example-troubleshooting","title":"Example: Troubleshooting","text":"<pre><code>User: \"Why is this pod failing?\"\n\nAI receives:\n- Pod YAML (spec, status, containers)\n- Events (ImagePullBackOff, FailedScheduling)\n- Logs (error messages, stack traces)\n- Container status (restarts, exit codes)\n\nAI responds with specific diagnosis.\n</code></pre>"},{"location":"features/ai-assistant/#ai-conversation-example","title":"AI Conversation Example","text":""},{"location":"features/ai-assistant/#tui-ai-interaction","title":"TUI AI Interaction","text":"<p>The TUI AI assistant supports the same capabilities as the Web UI:</p> <ul> <li>Natural language question input</li> <li>AI analysis with streaming responses</li> <li>Tool execution with approval workflow</li> </ul>"},{"location":"features/ai-assistant/#beginner-mode","title":"Beginner Mode","text":"<p>Simplified explanations for Kubernetes newcomers.</p> <p>Enable in config:</p> <pre><code>beginner_mode: true\n</code></pre> Normal Mode Beginner Mode \"Pod in CrashLoopBackOff\" \"Your container keeps crashing. This happens when the program inside has an error and Kubernetes keeps trying to restart it.\" \"OOMKilled\" \"Your container ran out of memory. It tried to use more RAM than allowed and was stopped by the system.\""},{"location":"features/ai-assistant/#chat-history-tui","title":"Chat History (TUI)","text":"<p>In the TUI, AI conversations are preserved within each session:</p> <ul> <li>Previous Q&amp;A sessions are kept above the latest response</li> <li>Separated by visual dividers (<code>\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500</code>)</li> <li>Scroll up in the AI panel to review past conversations</li> <li>History maintained for the duration of the TUI session</li> </ul>"},{"location":"features/ai-assistant/#model-switching-tui","title":"Model Switching (TUI)","text":"<p>Switch between configured AI model profiles directly from the TUI:</p> Command Action <code>:model</code> Opens a modal with all configured profiles (active marked with <code>*</code>) <code>:model gpt-4o</code> Switch directly to a named profile <p>Model profiles are defined in <code>~/.config/k13d/config.yaml</code>:</p> <pre><code>models:\n  - name: gpt-4\n    provider: openai\n    model: gpt-4\n  - name: local-llama\n    provider: ollama\n    model: llama3.2\n    endpoint: http://localhost:11434\n\nactive_model: gpt-4\n</code></pre>"},{"location":"features/ai-assistant/#streaming-responses","title":"Streaming Responses","text":"<p>Real-time response streaming for immediate feedback.</p> Feature Description SSE Streaming Server-Sent Events for real-time updates Live Cursor Shows AI is still thinking Tool Progress Shows which tool is executing Partial Results See response as it's generated"},{"location":"features/ai-assistant/#llm-providers","title":"LLM Providers","text":""},{"location":"features/ai-assistant/#supported-providers","title":"Supported Providers","text":"Provider Tool Calling Best For OpenAI \u2705 Production, best tool support Anthropic \u2705 Claude models Google Gemini \u2705 Fast responses Azure OpenAI \u2705 Enterprise Ollama \u2705 Local, air-gapped Embedded SLLM \u26a0\ufe0f Zero-dependency"},{"location":"features/ai-assistant/#configuration","title":"Configuration","text":"<pre><code>llm:\n  provider: openai\n  model: gpt-4\n  api_key: ${OPENAI_API_KEY}\n</code></pre>"},{"location":"features/ai-assistant/#mcp-integration","title":"MCP Integration","text":"<p>Extend AI capabilities with Model Context Protocol servers.</p> <p></p>"},{"location":"features/ai-assistant/#mcp-client-mode-default","title":"MCP Client Mode (Default)","text":"<p>k13d connects to external MCP servers:</p> <pre><code>mcp:\n  servers:\n    - name: sequential-thinking\n      command: npx\n      args: [\"-y\", \"@modelcontextprotocol/server-sequential-thinking\"]\n    - name: github\n      command: npx\n      args: [\"-y\", \"@modelcontextprotocol/server-github\"]\n</code></pre>"},{"location":"features/ai-assistant/#mcp-server-mode","title":"MCP Server Mode","text":"<p>Run k13d as MCP server for Claude Desktop:</p> <pre><code>k13d --mcp\n</code></pre>"},{"location":"features/ai-assistant/#example-conversations","title":"Example Conversations","text":""},{"location":"features/ai-assistant/#troubleshooting","title":"Troubleshooting","text":"<pre><code>User: Why is my api-server deployment not working?\n\nAI: I'll investigate the api-server deployment.\n\n[Tool: kubectl get deployment api-server -o yaml]\n[Tool: kubectl get pods -l app=api-server]\n[Tool: kubectl get events --field-selector involvedObject.name=api-server]\n\nThe api-server deployment has 0/3 ready replicas because:\n\n1. **Image Pull Error**: The image \"api-server:v2.0\" doesn't exist\n2. All pods are in \"ImagePullBackOff\" status\n\nTo fix this, update to an existing image:\n</code></pre>"},{"location":"features/ai-assistant/#operations","title":"Operations","text":"<pre><code>User: Scale nginx to 5 replicas\n\nAI: I'll scale the nginx deployment to 5 replicas.\n\n[Approval Required: kubectl scale deployment nginx --replicas=5]\n\nUser: [Approves]\n\nAI: Successfully scaled nginx to 5 replicas.\n[Tool: kubectl get deployment nginx]\n\nNAME    READY   UP-TO-DATE   AVAILABLE\nnginx   5/5     5            5\n</code></pre>"},{"location":"features/ai-assistant/#explanation","title":"Explanation","text":"<pre><code>User: Explain this HPA configuration\n\nAI: This HorizontalPodAutoscaler is configured to:\n\n**Target:** frontend deployment\n**Scaling Behavior:**\n- Min replicas: 2\n- Max replicas: 10\n- Scale up when: CPU &gt; 50%\n- Stabilization window: 300 seconds\n\nThis means Kubernetes will:\n1. Keep at least 2 pods running\n2. Add pods when CPU exceeds 50%\n3. Wait 5 minutes before scaling down\n4. Never exceed 10 pods\n</code></pre>"},{"location":"features/ai-assistant/#best-practices","title":"Best Practices","text":""},{"location":"features/ai-assistant/#be-specific","title":"Be Specific","text":"<pre><code># Good\n\"Scale nginx deployment in production namespace to 5 replicas\"\n\n# Less good\n\"Scale nginx\"\n</code></pre>"},{"location":"features/ai-assistant/#provide-context","title":"Provide Context","text":"<pre><code># Good\n\"Check why pod nginx-abc123 in default namespace is failing\"\n\n# Less good\n\"Check the pod\"\n</code></pre>"},{"location":"features/ai-assistant/#use-for-investigation-first","title":"Use for Investigation First","text":"<pre><code># Good workflow\n1. \"Show me pods with high memory usage\"\n2. \"Describe the api-server pod\"\n3. \"Now scale it to 3 replicas\"\n\n# Less good\n1. \"Scale everything to 10 replicas\"\n</code></pre>"},{"location":"features/security/","title":"Security Features","text":"<p>k13d provides enterprise-grade security features inspired by Teleport.</p>"},{"location":"features/security/#overview","title":"Overview","text":"Feature Description Authentication Multi-mode auth (local, token, LDAP, SSO) Authorization RBAC with deny-overrides-allow Audit Logging Comprehensive event tracking JWT Tokens Short-lived, refreshable tokens User Locking Emergency account lockout K8s Impersonation Role-based impersonation headers"},{"location":"features/security/#authentication-modes","title":"Authentication Modes","text":""},{"location":"features/security/#login-page","title":"Login Page","text":"Mode Use Case Configuration Local Small teams Username/password in DB Token K8s native ServiceAccount token LDAP Enterprise Active Directory SSO Modern enterprise OAuth2/OIDC No Auth Development only <code>--no-auth</code> flag"},{"location":"features/security/#local-authentication","title":"Local Authentication","text":"<pre><code>auth:\n  mode: local\n  admin_user: admin\n  admin_password: ${K13D_ADMIN_PASSWORD}\n</code></pre>"},{"location":"features/security/#token-authentication","title":"Token Authentication","text":"<pre><code># Use Kubernetes ServiceAccount token\nk13d -web --auth-mode token\n</code></pre>"},{"location":"features/security/#ldap-integration","title":"LDAP Integration","text":"<pre><code>ldap:\n  enabled: true\n  host: ldap.example.com\n  port: 389\n  use_ssl: true\n  bind_dn: cn=admin,dc=example,dc=com\n  bind_password: ${LDAP_PASSWORD}\n  base_dn: dc=example,dc=com\n  user_filter: \"(uid=%s)\"\n  group_filter: \"(member=%s)\"\n</code></pre>"},{"location":"features/security/#rbac-authorization","title":"RBAC Authorization","text":""},{"location":"features/security/#user-authentication-control","title":"User Authentication Control","text":"<p>Admin panel for managing user authentication:</p> <ul> <li>Enable/disable user accounts</li> <li>Role assignment</li> <li>Session management</li> </ul>"},{"location":"features/security/#role-system","title":"Role System","text":"<p>k13d uses a Teleport-inspired deny-overrides-allow RBAC system.</p> Role Permissions Viewer Read-only access to resources User View + execute read operations Admin Full access including write/delete"},{"location":"features/security/#permission-matrix","title":"Permission Matrix","text":"Action Viewer User Admin View resources \u2705 \u2705 \u2705 View logs \u2705 \u2705 \u2705 Execute read commands \u274c \u2705 \u2705 Execute write commands \u274c \u26a0\ufe0f* \u2705 Delete resources \u274c \u274c \u2705 Manage users \u274c \u274c \u2705 View audit logs \u274c \u274c \u2705 <p>*With approval required</p>"},{"location":"features/security/#resource-level-rbac","title":"Resource-Level RBAC","text":"<pre><code>authorization:\n  roles:\n    - name: production-viewer\n      resources:\n        - pods\n        - services\n        - deployments\n      namespaces:\n        - production\n      verbs:\n        - get\n        - list\n        - watch\n</code></pre>"},{"location":"features/security/#user-management","title":"User Management","text":""},{"location":"features/security/#add-new-user","title":"Add New User","text":"<p>Create new user accounts with role assignment.</p> Field Description Username Unique identifier Password Secure password Role viewer, user, admin Email Contact email"},{"location":"features/security/#audit-logging","title":"Audit Logging","text":""},{"location":"features/security/#audit-log-storage","title":"Audit Log Storage","text":"<p>All actions are logged to SQLite:</p> Field Description Timestamp When action occurred User Who performed action Action Type of action Resource Target resource Details Command, result, error Authorization Allow/deny decision"},{"location":"features/security/#logged-events","title":"Logged Events","text":"Event Type Description <code>login</code> User authentication <code>logout</code> User logout <code>query</code> AI queries <code>approve</code> Tool approvals <code>reject</code> Tool rejections <code>execute</code> Command executions <code>access_request</code> JIT access requests <code>lock</code> User account locks"},{"location":"features/security/#audit-api","title":"Audit API","text":"<pre><code># Get audit logs\ncurl http://localhost:8080/api/audit\n\n# Filter by action\ncurl http://localhost:8080/api/audit?action=execute\n\n# Filter by user\ncurl http://localhost:8080/api/audit?user=admin\n</code></pre>"},{"location":"features/security/#jwt-token-management","title":"JWT Token Management","text":""},{"location":"features/security/#token-flow","title":"Token Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Login   \u2502\u2500\u2500\u2500\u2500\u2500\u25ba\u2502  Issue   \u2502\u2500\u2500\u2500\u2500\u2500\u25ba\u2502  Store   \u2502\n\u2502          \u2502      \u2502  JWT     \u2502      \u2502  Token   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                                    \u2502\n     \u2502            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\n     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502  API     \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2502 Requests \u2502\n                  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/security/#token-configuration","title":"Token Configuration","text":"<pre><code>authorization:\n  jwt:\n    token_duration: 1h      # Token lifetime\n    refresh_window: 15m     # Refresh before expiry\n    signing_key: ${JWT_SECRET}\n</code></pre>"},{"location":"features/security/#token-refresh","title":"Token Refresh","text":"<pre><code># Tokens auto-refresh within refresh window\n# Manual refresh:\ncurl -X POST http://localhost:8080/api/auth/refresh \\\n  -H \"Authorization: Bearer $TOKEN\"\n</code></pre>"},{"location":"features/security/#access-requests-jit-access","title":"Access Requests (JIT Access)","text":""},{"location":"features/security/#just-in-time-privilege-escalation","title":"Just-in-Time Privilege Escalation","text":"<p>Users can request temporary elevated access:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Request  \u2502\u2500\u2500\u2500\u2500\u2500\u25ba\u2502 Pending  \u2502\u2500\u2500\u2500\u2500\u2500\u25ba\u2502 Approved \u2502\n\u2502 Access   \u2502      \u2502 Review   \u2502      \u2502 (TTL)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                       \u2502\n                       \u25bc\n                  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                  \u2502 Denied   \u2502\n                  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/security/#request-configuration","title":"Request Configuration","text":"<pre><code>authorization:\n  access_request_ttl: 30m  # Elevated access duration\n</code></pre>"},{"location":"features/security/#self-approval-prevention","title":"Self-Approval Prevention","text":"<p>Reviewers cannot approve their own requests.</p>"},{"location":"features/security/#user-locking","title":"User Locking","text":""},{"location":"features/security/#emergency-lock","title":"Emergency Lock","text":"<p>Admins can instantly lock user accounts:</p> <pre><code># Lock user via API\ncurl -X POST http://localhost:8080/api/admin/lock \\\n  -H \"Authorization: Bearer $ADMIN_TOKEN\" \\\n  -d '{\"username\": \"compromised-user\"}'\n</code></pre>"},{"location":"features/security/#lock-features","title":"Lock Features","text":"Feature Description Instant Effect All sessions invalidated DB Persisted Survives restart Audit Logged Lock event recorded Admin Only Requires admin role"},{"location":"features/security/#k8s-impersonation","title":"K8s Impersonation","text":""},{"location":"features/security/#role-based-impersonation","title":"Role-Based Impersonation","text":"<p>k13d can impersonate K8s users based on role:</p> <pre><code>authorization:\n  impersonation:\n    enabled: true\n    mappings:\n      viewer: k13d-viewer-sa\n      user: k13d-user-sa\n      admin: k13d-admin-sa\n</code></pre>"},{"location":"features/security/#how-it-works","title":"How It Works","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  User    \u2502\u2500\u2500\u2500\u2500\u2500\u25ba\u2502  k13d    \u2502\u2500\u2500\u2500\u2500\u2500\u25ba\u2502   K8s    \u2502\n\u2502 (viewer) \u2502      \u2502 (impersonate)   \u2502   API    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                       \u2502\n                       \u25bc\n                  Impersonate: k13d-viewer-sa\n</code></pre>"},{"location":"features/security/#command-safety","title":"Command Safety","text":""},{"location":"features/security/#safety-analysis","title":"Safety Analysis","text":"<p>All AI commands pass through safety analysis:</p> Level Commands Action Read-Only get, describe, logs Auto-approve (configurable) Write apply, create, patch Require approval Dangerous delete, drain, rm -rf Warning + approval Interactive exec, attach, port-forward Require approval Unknown Non-kubectl/helm commands Require approval (configurable)"},{"location":"features/security/#tui-safety-prompt","title":"TUI Safety Prompt","text":"<p>When a dangerous command is detected, the TUI shows an approval dialog with <code>Y</code>/<code>N</code>/<code>A</code> options before execution.</p>"},{"location":"features/security/#ast-parsing","title":"AST Parsing","text":"<pre><code>\"kubectl get pods | xargs rm -rf /\"\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  AST Parser     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 - Pipeline      \u2502\n\u2502 - xargs         \u2502\n\u2502 - rm -rf        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Result: DANGER  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/security/#blocked-patterns","title":"Blocked Patterns","text":"<pre><code>authorization:\n  tool_approval:\n    blocked_patterns:\n      - \"rm -rf /\"\n      - \"kubectl delete ns kube-system\"\n      - \":(){:|:&amp;};\"  # Fork bomb\n</code></pre>"},{"location":"features/security/#security-assessment-report","title":"Security Assessment Report","text":"<p>Generate comprehensive security reports:</p> <ul> <li>RBAC configuration review</li> <li>Network policy audit</li> <li>Vulnerability assessment</li> <li>Compliance check</li> </ul>"},{"location":"features/security/#best-practices","title":"Best Practices","text":""},{"location":"features/security/#1-enable-authentication","title":"1. Enable Authentication","text":"<pre><code># Never run without auth in production\nk13d -web --auth-mode local --admin-password \"$SECURE_PASSWORD\"\n</code></pre>"},{"location":"features/security/#2-use-rbac","title":"2. Use RBAC","text":"<pre><code>authorization:\n  default_role: viewer  # Least privilege\n</code></pre>"},{"location":"features/security/#3-enable-audit-logging","title":"3. Enable Audit Logging","text":"<pre><code>enable_audit: true\n</code></pre>"},{"location":"features/security/#4-rotate-secrets","title":"4. Rotate Secrets","text":"<pre><code># Rotate JWT signing key periodically\nexport JWT_SECRET=$(openssl rand -base64 32)\n</code></pre>"},{"location":"features/security/#5-review-audit-logs","title":"5. Review Audit Logs","text":"<p>Regularly review audit logs for suspicious activity.</p>"},{"location":"features/tui/","title":"TUI Features","text":"<p>Complete feature reference for k13d Terminal User Interface (TUI).</p>"},{"location":"features/tui/#dashboard-overview","title":"Dashboard Overview","text":"<p>The TUI provides a k9s-style terminal dashboard for Kubernetes management.</p>"},{"location":"features/tui/#main-interface","title":"Main Interface","text":"<p>The TUI interface provides:</p> <ul> <li>Left Panel: Resource list with status indicators</li> <li>Right Panel: AI Assistant for natural language queries</li> <li>Bottom: Status bar with context, namespace, sort, and filter info</li> </ul>"},{"location":"features/tui/#navigation","title":"Navigation","text":""},{"location":"features/tui/#vim-style-keybindings","title":"Vim-Style Keybindings","text":"Key Action Description <code>j</code> / <code>\u2193</code> Down Move selection down <code>k</code> / <code>\u2191</code> Up Move selection up <code>g</code> Top Go to first item <code>G</code> Bottom Go to last item <code>Ctrl+f</code> Page Down Scroll page down <code>Ctrl+b</code> Page Up Scroll page up <code>Ctrl+d</code> Half Down Scroll half page down <code>Ctrl+u</code> Half Up Scroll half page up"},{"location":"features/tui/#panel-navigation","title":"Panel Navigation","text":"Key Action Description <code>Tab</code> Next Panel Switch to next panel <code>Shift+Tab</code> Prev Panel Switch to previous panel <code>\u2190</code> / <code>\u2192</code> Left/Right Switch panels <code>1-9</code> Panel N Quick switch to panel N"},{"location":"features/tui/#command-mode","title":"Command Mode","text":"Command Description <code>:pods</code> or <code>:po</code> View pods <code>:svc</code> or <code>:services</code> View services <code>:deploy</code> View deployments <code>:rs</code> View replica sets <code>:sts</code> View statefulsets <code>:ds</code> View daemonsets <code>:jobs</code> View jobs <code>:cronjobs</code> View cron jobs <code>:cm</code> View configmaps <code>:secrets</code> View secrets <code>:ingress</code> View ingresses <code>:pv</code> View persistent volumes <code>:pvc</code> View persistent volume claims <code>:nodes</code> View nodes <code>:ns</code> View namespaces <code>:events</code> View events <code>:helm</code> View Helm releases"},{"location":"features/tui/#management-commands","title":"Management Commands","text":"Command Description <code>:alias</code> View all configured resource aliases <code>:model</code> Open AI model profile selector <code>:model &lt;name&gt;</code> Switch directly to a named model profile <code>:plugins</code> View available plugins with shortcuts <code>:health</code> or <code>:status</code> Check system status <code>:audit</code> View audit log"},{"location":"features/tui/#autocomplete","title":"Autocomplete","text":"<p>When typing a command, k13d shows autocomplete suggestions:</p> <ul> <li>Single match: Dimmed hint text appears next to cursor (press <code>Tab</code> to complete)</li> <li>Multiple matches: Dropdown overlay appears above the command bar</li> <li>Up/Down arrows: Navigate suggestions</li> <li>Tab or Enter: Select suggestion</li> <li>Esc: Dismiss dropdown</li> <li>Custom aliases from <code>aliases.yaml</code> are included in suggestions</li> </ul> <p></p>"},{"location":"features/tui/#resource-actions","title":"Resource Actions","text":""},{"location":"features/tui/#general-actions","title":"General Actions","text":"Key Action Description <code>y</code> YAML View resource YAML manifest <code>d</code> Describe Show resource description <code>e</code> Edit Edit resource in $EDITOR <code>Ctrl+D</code> Delete Delete resource (with confirmation) <code>Enter</code> Details Show detailed view"},{"location":"features/tui/#pod-actions","title":"Pod Actions","text":"Key Action Description <code>l</code> Logs View pod logs <code>L</code> Previous Logs View previous container logs <code>x</code> Exec Open shell in container <code>p</code> Port Forward Start port forwarding <code>f</code> Follow Follow logs in real-time"},{"location":"features/tui/#deployment-actions","title":"Deployment Actions","text":"Key Action Description <code>s</code> Scale Scale replica count <code>r</code> Restart Rollout restart <code>h</code> History View rollout history <code>u</code> Undo Rollback to previous version"},{"location":"features/tui/#node-actions","title":"Node Actions","text":"Key Action Description <code>c</code> Cordon Mark node unschedulable <code>C</code> Uncordon Mark node schedulable <code>D</code> Drain Drain node (evict pods)"},{"location":"features/tui/#ai-assistant","title":"AI Assistant","text":""},{"location":"features/tui/#ai-panel","title":"AI Panel","text":"<p>The AI panel is accessible by pressing <code>Tab</code> to switch focus.</p> Feature Description Input Field Type questions in natural language Output View Streaming AI responses Tool Execution AI executes kubectl/bash commands Context AI receives selected resource context Chat History Previous Q&amp;A preserved within session"},{"location":"features/tui/#chat-history","title":"Chat History","text":"<p>AI conversations are preserved within each TUI session:</p> <ul> <li>Previous Q&amp;A sessions are kept above, separated by visual dividers (<code>\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500</code>)</li> <li>Scroll up in the AI panel to review past conversations</li> <li>History is maintained for the duration of the TUI session</li> </ul>"},{"location":"features/tui/#llm-model-switching","title":"LLM Model Switching","text":"<p>Switch between configured AI model profiles:</p> <ul> <li><code>:model</code> - Opens a modal showing all profiles (active marked with <code>*</code>)</li> <li><code>:model gpt-4o</code> - Switch directly to a named profile</li> </ul> <p>Model profiles are defined in <code>~/.config/k13d/config.yaml</code> under the <code>models</code> section.</p> <p></p>"},{"location":"features/tui/#ai-actions","title":"AI Actions","text":"Key Action Description <code>Shift+L</code> AI Analyze Deep analysis of selected resource <code>h</code> Explain Get explanation of resource"},{"location":"features/tui/#tool-approval","title":"Tool Approval","text":"<p>When AI needs to execute a command, an approval dialog appears:</p> Key Action <code>Y</code> Approve this command <code>N</code> Reject this command <code>A</code> Always approve read-only commands"},{"location":"features/tui/#filtering-search","title":"Filtering &amp; Search","text":""},{"location":"features/tui/#filter-mode","title":"Filter Mode","text":"Key Action <code>/</code> Start filter mode <code>Enter</code> Apply filter <code>Esc</code> Clear filter <p>Filter Syntax:</p> <pre><code>/nginx          # Contains \"nginx\"\n/^nginx         # Starts with \"nginx\"\n/nginx$         # Ends with \"nginx\"\n/nginx.*running # Regex pattern\n</code></pre>"},{"location":"features/tui/#resource-aliases","title":"Resource Aliases","text":"<p>Define custom command aliases in <code>~/.config/k13d/aliases.yaml</code> for quick resource navigation.</p> ~/.config/k13d/aliases.yaml<pre><code>aliases:\n  pp: pods\n  dep: deployments\n  svc: services\n  sec: secrets\n  cm: configmaps\n  ds: daemonsets\n  sts: statefulsets\n  rs: replicasets\n  cj: cronjobs\n</code></pre>"},{"location":"features/tui/#how-it-works","title":"How It Works","text":"<ol> <li>Type <code>:pp</code> in the command bar \u2192 resolves to <code>:pods</code> and navigates to Pods view</li> <li>Custom aliases appear in autocomplete suggestions alongside built-in commands</li> <li>Use <code>:alias</code> to view all active aliases (built-in + custom)</li> <li>If a custom alias conflicts with a built-in, the custom alias takes precedence</li> </ol>"},{"location":"features/tui/#alias-display","title":"Alias Display","text":"<p>Type <code>:alias</code> to see the full alias table:</p> <pre><code>\u250c\u2500 Aliases (Esc to close) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                                  \u2502\n\u2502   ALIAS     RESOURCE          SOURCE             \u2502\n\u2502   \u2500\u2500\u2500\u2500      \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500          \u2500\u2500\u2500\u2500\u2500\u2500             \u2502\n\u2502   po        pods              built-in           \u2502\n\u2502   svc       services          built-in           \u2502\n\u2502   deploy    deployments       built-in           \u2502\n\u2502   pp        pods              custom             \u2502\n\u2502   sec       secrets           custom             \u2502\n\u2502   cm        configmaps        custom             \u2502\n\u2502                                                  \u2502\n\u2502 Press Esc to close                               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>See Configuration &gt; Aliases for more details.</p>"},{"location":"features/tui/#custom-hotkeys","title":"Custom Hotkeys","text":"<p>Define custom keyboard shortcuts in <code>~/.config/k13d/hotkeys.yaml</code> that execute external CLI commands.</p> ~/.config/k13d/hotkeys.yaml<pre><code>hotkeys:\n  stern-logs:\n    shortCut: \"Shift-L\"\n    description: \"Stern multi-pod logs\"\n    scopes: [pods, deployments]\n    command: stern\n    args: [\"-n\", \"$NAMESPACE\", \"$NAME\"]\n    dangerous: false\n\n  port-forward-8080:\n    shortCut: \"Ctrl-P\"\n    description: \"Port forward to 8080\"\n    scopes: [pods, services]\n    command: kubectl\n    args: [port-forward, -n, \"$NAMESPACE\", \"$NAME\", \"8080:8080\"]\n    dangerous: false\n</code></pre> <p>Hotkeys support <code>$NAMESPACE</code>, <code>$NAME</code>, and <code>$CONTEXT</code> variable expansion. Set <code>dangerous: true</code> to require confirmation before execution.</p> <p>See Configuration &gt; Hotkeys for the full reference.</p>"},{"location":"features/tui/#per-resource-sort-defaults","title":"Per-Resource Sort Defaults","text":"<p>Configure default sort column and direction in <code>~/.config/k13d/views.yaml</code>. Sort preferences are applied automatically when navigating to each resource type.</p> ~/.config/k13d/views.yaml<pre><code>views:\n  pods:\n    sortColumn: AGE\n    sortAscending: false         # Newest first\n  deployments:\n    sortColumn: NAME\n    sortAscending: true          # Alphabetical\n  services:\n    sortColumn: TYPE\n    sortAscending: true\n  nodes:\n    sortColumn: STATUS\n    sortAscending: true\n</code></pre> <p>k13d automatically detects column types for proper sorting:</p> <ul> <li>Numeric: RESTARTS, COUNT, DESIRED, CURRENT, AVAILABLE</li> <li>Ready format: READY (e.g., <code>1/2</code>, <code>3/3</code>) \u2014 compares by ratio</li> <li>Age format: AGE (e.g., <code>5d</code>, <code>3h</code>, <code>10m</code>) \u2014 converts to seconds</li> <li>String: NAME, STATUS, TYPE \u2014 case-insensitive alphabetical</li> </ul> <p>See Configuration &gt; Views for more details.</p>"},{"location":"features/tui/#plugin-system","title":"Plugin System","text":"<p>k13d supports external plugins that extend the TUI with custom commands, following the k9s plugin pattern.</p>"},{"location":"features/tui/#how-it-works_1","title":"How It Works","text":"<ol> <li>Define plugins in <code>~/.config/k13d/plugins.yaml</code></li> <li>Each plugin binds a keyboard shortcut to an external CLI command</li> <li>Plugins are scoped to specific resource types (or all with <code>\"*\"</code>)</li> <li>When you press the shortcut on a matching resource, the command runs with resource context (name, namespace, image, etc.) automatically injected</li> </ol>"},{"location":"features/tui/#viewing-plugins","title":"Viewing Plugins","text":"<p>Type <code>:plugins</code> in the TUI to see all configured plugins:</p> <pre><code>\u250c\u2500 Plugins (Esc to close) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Configured Plugins                                          \u2502\n\u2502                                                             \u2502\n\u2502   NAME            SHORTCUT     SCOPES               DESC   \u2502\n\u2502   \u2500\u2500\u2500\u2500            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500     \u2500\u2500\u2500\u2500\u2500\u2500               \u2500\u2500\u2500\u2500\u2500  \u2502\n\u2502   dive            Ctrl-I       pods                 Dive\u2026  \u2502\n\u2502   debug           Shift-D      pods                 Debug\u2026 \u2502\n\u2502   port-forward    Shift-F      pods, services       Port\u2026  \u2502\n\u2502   stern           Shift-S      deployments          Stre\u2026  \u2502\n\u2502   lens            Ctrl-O       *                    Open\u2026  \u2502\n\u2502                                                             \u2502\n\u2502   Total: 5 plugins loaded                                   \u2502\n\u2502                                                             \u2502\n\u2502 Config: ~/.config/k13d/plugins.yaml                         \u2502\n\u2502 Variables: $NAMESPACE, $NAME, $CONTEXT, $IMAGE,             \u2502\n\u2502            $LABELS.key, $ANNOTATIONS.key                    \u2502\n\u2502                                                             \u2502\n\u2502 Press Esc to close                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/tui/#plugin-configuration","title":"Plugin Configuration","text":"~/.config/k13d/plugins.yaml<pre><code>plugins:\n  dive:\n    shortCut: \"Ctrl-I\"\n    description: \"Dive into container image layers\"\n    scopes: [pods]\n    command: dive\n    args: [$IMAGE]\n\n  debug:\n    shortCut: \"Shift-D\"\n    description: \"Debug pod with ephemeral container\"\n    scopes: [pods]\n    command: kubectl\n    args: [debug, -n, $NAMESPACE, $NAME, -it, --image=busybox]\n    confirm: true\n\n  port-forward:\n    shortCut: \"Shift-F\"\n    description: \"Port-forward to localhost:8080\"\n    scopes: [pods, services]\n    command: kubectl\n    args: [port-forward, -n, $NAMESPACE, $NAME, \"8080:80\"]\n    background: true\n    confirm: true\n\n  stern:\n    shortCut: \"Shift-S\"\n    description: \"Stream logs with stern (by app label)\"\n    scopes: [deployments]\n    command: stern\n    args: [-n, $NAMESPACE, $LABELS.app]\n\n  lens:\n    shortCut: \"Ctrl-O\"\n    description: \"Open in Lens\"\n    scopes: [\"*\"]\n    command: lens\n    args: [--context, $CONTEXT]\n    background: true\n</code></pre>"},{"location":"features/tui/#execution-modes","title":"Execution Modes","text":"Mode Behavior Use Case Foreground (<code>background: false</code>) Suspends TUI, command gets full terminal Interactive tools: <code>dive</code>, <code>kubectl exec</code> Background (<code>background: true</code>) Runs silently, TUI continues External windows: Lens, port-forward"},{"location":"features/tui/#confirmation","title":"Confirmation","text":"<p>Plugins with <code>confirm: true</code> show a modal before execution, displaying the expanded command with all variables resolved. This is recommended for destructive or resource-intensive operations.</p>"},{"location":"features/tui/#available-variables","title":"Available Variables","text":"Variable Description <code>$NAMESPACE</code> Resource namespace <code>$NAME</code> Resource name <code>$CONTEXT</code> Current Kubernetes context <code>$IMAGE</code> Container image (pods only) <code>$LABELS.key</code> Label value by key <code>$ANNOTATIONS.key</code> Annotation value by key <p>See the Configuration Guide for the full reference.</p>"},{"location":"features/tui/#yaml-viewer","title":"YAML Viewer","text":"<p>View resource YAML manifests with syntax highlighting. Press <code>y</code> on any selected resource to open.</p>"},{"location":"features/tui/#features","title":"Features","text":"Feature Description Syntax Highlighting Color-coded YAML with Tokyo Night theme Vim-Style Scrolling Navigate with <code>j</code>/<code>k</code>, <code>g</code>/<code>G</code>, <code>Ctrl-f</code>/<code>Ctrl-b</code> Line Wrapping Press <code>w</code> to toggle line wrap Search Press <code>/</code> to search within YAML content Exit Press <code>Esc</code> or <code>q</code> to return to resource table"},{"location":"features/tui/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"Key Action <code>j</code> / <code>k</code> Scroll down / up <code>g</code> Jump to top <code>G</code> Jump to bottom <code>Ctrl+f</code> Page down <code>Ctrl+b</code> Page up <code>w</code> Toggle line wrap <code>/</code> Search <code>Esc</code> / <code>q</code> Close viewer"},{"location":"features/tui/#log-viewer","title":"Log Viewer","text":"<p>Real-time log streaming with ANSI color support. Press <code>l</code> on a pod to open.</p>"},{"location":"features/tui/#features_1","title":"Features","text":"Feature Description Real-time Streaming Auto-scroll with new log entries as they arrive ANSI Color Support Full color rendering for application logs Container Selection Prompt to choose container for multi-container pods Previous Logs Press <code>Shift+L</code> to view logs from crashed/restarted containers Follow Mode Toggle auto-follow with <code>f</code> (enabled by default) Line Wrap Toggle line wrapping with <code>w</code> for long log lines Search Press <code>/</code> to search within log output Download Log files can be downloaded with pod name and timestamp in filename"},{"location":"features/tui/#keyboard-shortcuts_1","title":"Keyboard Shortcuts","text":"Key Action <code>f</code> Toggle follow mode (auto-scroll) <code>w</code> Toggle line wrap <code>/</code> Search within logs <code>g</code> Jump to beginning <code>G</code> Jump to end <code>Ctrl+f</code> Page down <code>Ctrl+b</code> Page up <code>Esc</code> Exit log viewer"},{"location":"features/tui/#multi-container-pods","title":"Multi-Container Pods","text":"<p>When a pod has multiple containers, k13d displays a container selector before streaming logs. Select the desired container with <code>j</code>/<code>k</code> and press <code>Enter</code>.</p>"},{"location":"features/tui/#terminalshell","title":"Terminal/Shell","text":"<p>Execute commands directly inside pod containers. Press <code>x</code> on a pod to open a shell session.</p>"},{"location":"features/tui/#features_2","title":"Features","text":"Feature Description Shell Detection Automatically tries <code>/bin/bash</code> first, falls back to <code>/bin/sh</code> Container Selection For multi-container pods, prompts to select a container Full Terminal TUI suspends to provide full terminal access with stdin/stdout/stderr Exit Type <code>exit</code> or press <code>Ctrl+D</code> to return to k13d"},{"location":"features/tui/#how-it-works_2","title":"How It Works","text":"<ol> <li>Press <code>x</code> on a selected pod</li> <li>If multi-container, select the target container</li> <li>TUI suspends and opens an interactive shell</li> <li>After exiting the shell, TUI restores automatically</li> </ol>"},{"location":"features/tui/#port-forward","title":"Port Forward","text":"<p>Forward container ports to your local machine. Press <code>p</code> on a pod to start port forwarding.</p>"},{"location":"features/tui/#features_3","title":"Features","text":"Feature Description Port Configuration Specify local and container ports via input dialog Background Running Port forwarding runs in the background while you continue using k13d Status Indicator Shows active/stopped status for forwarded ports Multiple Forwards Run multiple port forwards simultaneously Stop Press <code>q</code> or <code>Esc</code> to stop the selected port forward"},{"location":"features/tui/#usage","title":"Usage","text":"<ol> <li>Select a pod and press <code>p</code></li> <li>Enter the port mapping (e.g., <code>8080:80</code> for local 8080 \u2192 container 80)</li> <li>Port forwarding starts in the background</li> <li>Access the service at <code>http://localhost:8080</code></li> </ol>"},{"location":"features/tui/#context-switching","title":"Context Switching","text":"<p>Switch between Kubernetes clusters directly from the TUI.</p>"},{"location":"features/tui/#usage_1","title":"Usage","text":"<ul> <li>Type <code>:context</code> or <code>:ctx</code> to open the context switcher</li> <li>A modal displays all available contexts from your kubeconfig</li> <li>Current context is marked with <code>*</code></li> <li>Select a context and press <code>Enter</code> to switch</li> </ul>"},{"location":"features/tui/#what-happens-on-switch","title":"What Happens on Switch","text":"<ol> <li>Kubernetes client reconnects to the new cluster</li> <li>Namespace selector resets and reloads available namespaces</li> <li>All resource data refreshes for the new cluster</li> <li>Status bar updates to show the new context name</li> </ol>"},{"location":"features/tui/#resource-highlighting","title":"Resource Highlighting","text":"<p>Visual indicators for resource status using the Tokyo Night color scheme.</p> Color Status Examples Green Healthy Running, Ready, Active, Bound Yellow Warning Pending, Progressing, Waiting Red Error Failed, Error, CrashLoopBackOff, ImagePullBackOff Blue Selected Currently highlighted row Gray Inactive Terminated, Completed, Succeeded"},{"location":"features/tui/#help-system","title":"Help System","text":"<p>Built-in help for keybindings and commands. Press <code>?</code> at any time to view.</p>"},{"location":"features/tui/#help-modal","title":"Help Modal","text":"<p>The help modal shows context-sensitive keyboard shortcuts:</p> <ul> <li>Global shortcuts: Available everywhere (navigation, quit, help)</li> <li>Resource actions: Available when a resource is selected (YAML, describe, delete)</li> <li>Resource-specific: Actions specific to the current resource type (logs for pods, scale for deployments)</li> <li>AI shortcuts: AI-related actions (analyze, explain)</li> <li>Plugin shortcuts: Custom plugin shortcuts for the current resource scope</li> </ul> Key Action <code>?</code> Show help modal <code>j</code> / <code>k</code> Scroll within help <code>Esc</code> / <code>q</code> Close help <p></p>"},{"location":"features/tui/#i18n-support","title":"i18n Support","text":"<p>Multi-language interface support for the TUI and AI responses.</p>"},{"location":"features/tui/#supported-languages","title":"Supported Languages","text":"Language Code Description English <code>en</code> Default language \ud55c\uad6d\uc5b4 (Korean) <code>ko</code> Full TUI + AI response translation \u4e2d\u6587 (Chinese) <code>zh</code> Full TUI + AI response translation \u65e5\u672c\u8a9e (Japanese) <code>ja</code> Full TUI + AI response translation"},{"location":"features/tui/#configuration","title":"Configuration","text":"~/.config/k13d/config.yaml<pre><code>language: ko  # Korean\n</code></pre>"},{"location":"features/tui/#what-gets-translated","title":"What Gets Translated","text":"<ul> <li>TUI interface: Menu labels, help text, status messages, keyboard shortcut descriptions</li> <li>AI responses: When the language is set to non-English, the AI assistant automatically responds in the configured language</li> <li>Error messages: Common error messages and warnings</li> </ul>"},{"location":"features/tui/#fallback-behavior","title":"Fallback Behavior","text":"<p>If a translation key is not found for the configured language, k13d falls back to English. If the English translation is also missing, the raw key name is displayed.</p>"},{"location":"features/tui/#tokyo-night-theme","title":"Tokyo Night Theme","text":"<p>k13d TUI uses a Tokyo Night-inspired color scheme:</p> Element Color Background Dark blue-gray (#1a1b26) Text Light gray (#c0caf5) Selection Blue highlight (#7aa2f7) Errors Red (#f7768e) Success Green (#9ece6a) Warning Yellow (#e0af68)"},{"location":"features/tui/#quick-reference","title":"Quick Reference","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           k13d TUI Quick Reference        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Navigation                               \u2502\n\u2502   j/k          Move up/down              \u2502\n\u2502   g/G          First/Last item           \u2502\n\u2502   Tab          Switch panel              \u2502\n\u2502   :            Command mode              \u2502\n\u2502   /            Filter                    \u2502\n\u2502                                          \u2502\n\u2502 Actions                                  \u2502\n\u2502   y            View YAML                 \u2502\n\u2502   d            Describe                  \u2502\n\u2502   l            Logs                      \u2502\n\u2502   x            Exec/Shell                \u2502\n\u2502   s            Scale                     \u2502\n\u2502   r            Restart                   \u2502\n\u2502   Ctrl+D       Delete                    \u2502\n\u2502                                          \u2502\n\u2502 AI                                       \u2502\n\u2502   Shift+L      AI Analyze                \u2502\n\u2502   h            Explain This              \u2502\n\u2502   Y/N          Approve/Reject            \u2502\n\u2502                                          \u2502\n\u2502 Commands                                 \u2502\n\u2502   :alias       View aliases              \u2502\n\u2502   :model       Switch AI model           \u2502\n\u2502   :plugins     View plugins              \u2502\n\u2502                                          \u2502\n\u2502 Global                                   \u2502\n\u2502   ?            Help                      \u2502\n\u2502   Esc          Cancel/Back               \u2502\n\u2502   q            Quit                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"features/web-ui/","title":"Web UI Features","text":"<p>Complete feature reference for k13d Web UI with screenshots.</p>"},{"location":"features/web-ui/#dashboard","title":"Dashboard","text":"<p>The main dashboard provides a real-time overview of your Kubernetes cluster.</p>"},{"location":"features/web-ui/#full-screen-overview","title":"Full Screen Overview","text":"<p>The main interface consists of three panels:</p> <ul> <li>Left: Resource navigation sidebar</li> <li>Center: Resource table with details</li> <li>Right: AI Assistant panel</li> </ul>"},{"location":"features/web-ui/#center-panel-resource-table","title":"Center Panel - Resource Table","text":"Feature Description Resource Table Sortable, filterable table of K8s resources Status Indicators Color-coded status (Running, Pending, Failed) Quick Actions One-click View, Edit, Delete, Scale Namespace Selector Switch between namespaces Search/Filter Real-time filtering by name, status Auto-refresh Configurable refresh interval (5s default)"},{"location":"features/web-ui/#pod-detail-modal","title":"Pod Detail Modal","text":"<p>Click on any resource to view detailed information including:</p> <ul> <li>Full YAML specification</li> <li>Related events</li> <li>Container status</li> <li>Labels and annotations</li> </ul>"},{"location":"features/web-ui/#cluster-overview","title":"Cluster Overview","text":"<p>Dedicated overview page showing cluster health at a glance.</p> Feature Description Health Cards Nodes Ready, Pods Running, Deployments Healthy, Namespaces Quick Actions One-click navigation to Pods, Deployments, Services, Topology, Metrics, Helm Recent Events Latest cluster events with warning/normal indicators Clean Layout AI panel auto-hides on Overview for a focused view"},{"location":"features/web-ui/#topology-view","title":"Topology View","text":"<p>Visualize cluster resources and their relationships.</p>"},{"location":"features/web-ui/#cluster-topology-graph","title":"Cluster Topology (Graph)","text":"<p>Interactive graph showing:</p> <ul> <li>Deployments, Services, Pods relationships</li> <li>Network connections</li> <li>Resource dependencies</li> </ul>"},{"location":"features/web-ui/#topology-tree-view","title":"Topology Tree View","text":"<p>Hierarchical resource ownership visualization:</p> Feature Description Tree Nodes Collapsible parent-child hierarchy Namespace Scoping Filter by namespace Cross-navigation Switch between Graph and Tree views via toolbar"},{"location":"features/web-ui/#topology-detail-modal","title":"Topology Detail Modal","text":"<p>Click any node to view resource details and navigate to related resources.</p>"},{"location":"features/web-ui/#applications-view","title":"Applications View","text":"<p>App-centric view grouping resources by <code>app.kubernetes.io/name</code> labels.</p> <p></p> Feature Description Auto-grouping Groups Deployments, Services, Pods by app label Health Badges Color-coded health status per application Namespace Filter Scope applications to a namespace"},{"location":"features/web-ui/#event-timeline","title":"Event Timeline","text":"<p>Cluster events visualized in chronological order with time-window grouping and severity indicators.</p> <p></p> Feature Description Time-Window Grouping Events grouped by time windows with counts Severity Indicators Warning/Normal event classification Resource Filtering Filter events by namespace or resource type Drill-Down Click events to view details and affected resources"},{"location":"features/web-ui/#network-policy-map","title":"Network Policy Map","text":"<p>Visualize network policies and connectivity rules across your cluster.</p> <p></p> Feature Description Policy Visualization Ingress/egress rule visualization per policy Pod Selectors See which pods are affected by each policy Rule Details View allowed ports, protocols, and CIDR blocks Namespace Scoping Filter policies by namespace"},{"location":"features/web-ui/#resource-templates","title":"Resource Templates","text":"<p>Pre-built templates for quickly deploying common Kubernetes resources.</p> <p></p> Feature Description Template Library Common patterns (Nginx, Redis, PostgreSQL, etc.) Customizable Edit templates before deploying One-Click Deploy Deploy resources directly from template"},{"location":"features/web-ui/#validate-view","title":"Validate View","text":"<p>Cross-resource validation with severity-based findings.</p> Feature Description Severity Levels Critical, Warning, Info classifications Actionable Suggestions Specific fix recommendations per finding Cross-view Links Navigate to Reports for full analysis Namespace Scoping Validate per namespace or cluster-wide"},{"location":"features/web-ui/#helm-manager","title":"Helm Manager","text":"<p>Full Helm release lifecycle management.</p> Feature Description Release List View all Helm releases with status Release Details Values, manifest, notes per release History View revision history with rollback support Rollback One-click rollback to previous revision Uninstall Remove releases with confirmation"},{"location":"features/web-ui/#ai-assistant","title":"AI Assistant","text":"<p>Integrated AI assistant with natural language understanding and tool execution.</p>"},{"location":"features/web-ui/#assistant-panel","title":"Assistant Panel","text":"Feature Description Natural Language Ask questions in plain English/Korean/Chinese/Japanese Streaming Responses Real-time SSE streaming with live cursor Context Awareness AI receives YAML, Events, Logs context Tool Calling Executes kubectl, bash commands History Conversation history within session"},{"location":"features/web-ui/#mcp-tool-calling-debug-mode","title":"MCP Tool Calling (Debug Mode)","text":"<p>Enable debug mode to see:</p> <ul> <li>Tool call requests</li> <li>Raw API responses</li> <li>Execution timing</li> </ul>"},{"location":"features/web-ui/#required-decision-approval","title":"Required Decision (Approval)","text":"<p>When AI requests a write/dangerous operation:</p> <ol> <li>Approval Dialog appears with command details</li> <li>Command Preview shows exact command to execute</li> <li>Safety Warning for dangerous commands</li> <li>Approve/Reject buttons for user decision</li> </ol> <p></p>"},{"location":"features/web-ui/#reports","title":"Reports","text":"<p>Generate comprehensive cluster analysis reports with selectable sections.</p>"},{"location":"features/web-ui/#report-index","title":"Report Index","text":"<p>Available report types with generated report history.</p>"},{"location":"features/web-ui/#generate-cluster-report","title":"Generate Cluster Report","text":"Report Type Description Cluster Overview Node status, workload summary, health indicators Security Audit RBAC analysis, network policies, vulnerabilities Resource Optimization Over-provisioned resources, cost analysis AI Analysis AI-powered insights and recommendations"},{"location":"features/web-ui/#section-selection","title":"Section Selection","text":"<p>When generating a report, you can select which sections to include:</p> Section Description Nodes Node health, capacity, and conditions Namespaces Namespace resource usage summary Workloads Deployments, StatefulSets, DaemonSets status Events Recent cluster events and warnings Security Basic security audit (RBAC, pod security) Security Full Extended security scan with Trivy vulnerability analysis FinOps Cost analysis, resource efficiency, optimization suggestions Metrics CPU/Memory utilization metrics <p>By default, all standard sections are enabled except Security Full (which requires Trivy and can be slow).</p>"},{"location":"features/web-ui/#report-preview","title":"Report Preview","text":""},{"location":"features/web-ui/#security-assessment-report","title":"Security Assessment Report","text":"<p>Comprehensive security analysis including:</p> <ul> <li>RBAC configuration review</li> <li>Network policy audit</li> <li>Vulnerability assessment</li> </ul>"},{"location":"features/web-ui/#infrastructure-report","title":"Infrastructure Report","text":"<p>Cluster infrastructure analysis with:</p> <ul> <li>Node health status</li> <li>Resource utilization</li> <li>Capacity planning recommendations</li> </ul>"},{"location":"features/web-ui/#finops-cost-analysis","title":"FinOps Cost Analysis","text":"<p>Cost optimization insights:</p> <ul> <li>Resource utilization analysis</li> <li>Over-provisioned workloads</li> <li>Cost reduction recommendations</li> </ul>"},{"location":"features/web-ui/#custom-resource-detail-view","title":"Custom Resource Detail View","text":"<p>Custom Resources (CRDs) display a rich detail modal with the same quality as built-in resources.</p> Feature Description Overview Tab Auto-generated overview with status badge, metadata, key fields from printer columns, spec/status summary, conditions table, labels, and annotations YAML Tab Full YAML manifest of the Custom Resource Events Tab Related Kubernetes events for the resource Status Detection Automatic status extraction from conditions, phase, or state fields Printer Columns CRD-defined <code>additionalPrinterColumns</code> resolved via JSONPath"},{"location":"features/web-ui/#metrics-monitoring","title":"Metrics &amp; Monitoring","text":"<p>Real-time and historical metrics visualization with Chart.js.</p>"},{"location":"features/web-ui/#metrics-dashboard","title":"Metrics Dashboard","text":"Metric Description CPU Usage Real-time and historical CPU consumption Memory Usage Real-time and historical memory utilization Pod Count Running pod count over time Node Health Ready node count over time"},{"location":"features/web-ui/#historical-data","title":"Historical Data","text":"<p>Metrics are collected every minute and stored in SQLite for historical analysis:</p> <ul> <li>Time Ranges: 5m, 15m, 30m, 1h, 6h, 24h</li> <li>Default Range: 30 minutes</li> <li>Collect Now: Trigger immediate metrics collection via the Collect button</li> <li>Fallback Charts: When metrics-server is unavailable, Pod Count and Node Count charts are shown instead of CPU/Memory</li> </ul>"},{"location":"features/web-ui/#terminal-logs","title":"Terminal &amp; Logs","text":"<p>Interactive pod access and log viewing.</p>"},{"location":"features/web-ui/#pod-terminal","title":"Pod Terminal","text":"Feature Description xterm.js Full terminal emulator in browser Container Selection Multi-container pod support Shell Selection /bin/bash, /bin/sh options Copy/Paste Clipboard support Resize Automatic terminal resize"},{"location":"features/web-ui/#log-viewer","title":"Log Viewer","text":"Feature Description Real-time Streaming Live log tail with auto-scroll ANSI Colors Full color support Filter/Search Filter logs by pattern Download Export logs to file Previous Logs View crashed container logs Multi-container Select container for multi-container pods"},{"location":"features/web-ui/#port-forward","title":"Port Forward","text":"<p>Forward container ports to local machine.</p>"},{"location":"features/web-ui/#port-forward-management","title":"Port Forward Management","text":"Feature Description Create Start new port forward session Local Port Custom local port selection Container Port Select target container port Status Active/Stopped indicator Stop/Restart Manage forwarding sessions"},{"location":"features/web-ui/#settings","title":"Settings","text":"<p>Graphical configuration interface.</p>"},{"location":"features/web-ui/#llm-settings","title":"LLM Settings","text":"Setting Description Provider OpenAI, Ollama, Anthropic, Gemini, etc. Model Select model (gpt-4, llama3.2, etc.) Endpoint Custom API endpoint API Key Provider API key Temperature Response creativity (0-1)"},{"location":"features/web-ui/#mcp-servers","title":"MCP Servers","text":"<p>Configure Model Context Protocol servers:</p> <ul> <li>Add Server - Configure new MCP server</li> <li>Enable/Disable - Toggle server activation</li> <li>Arguments - Command line arguments</li> <li>Environment - Environment variables</li> </ul>"},{"location":"features/web-ui/#user-management","title":"User Management","text":"<p>Create and manage user accounts:</p> Feature Description Add User Create new user account Edit User Modify user settings Delete User Remove user account Role Assignment Assign roles (admin, user, viewer)"},{"location":"features/web-ui/#theme-skin-selector","title":"Theme / Skin Selector","text":"<p>Choose from 5 color themes in Settings &gt; General:</p> Theme Description Tokyo Night Default dark theme with blue accents Production Red-accented dark theme (warns you're in production) Staging Yellow-accented dark theme Development Green-accented dark theme Light Clean light theme with professional colors <p>Theme selection persists in localStorage and auto-detects system preference.</p>"},{"location":"features/web-ui/#authentication-control","title":"Authentication Control","text":"<p>Admin controls for user authentication:</p> <ul> <li>Enable/disable user accounts</li> <li>Reset passwords</li> <li>Manage session timeouts</li> </ul>"},{"location":"features/web-ui/#authentication","title":"Authentication","text":"<p>Multiple authentication options for different environments.</p>"},{"location":"features/web-ui/#login-page","title":"Login Page","text":"Mode Description Local Username/password stored locally Token Kubernetes ServiceAccount token LDAP LDAP/Active Directory integration SSO OAuth2/OIDC integration No Auth Disabled (development only)"},{"location":"features/web-ui/#search-filtering","title":"Search &amp; Filtering","text":"<p>Find resources quickly across your cluster.</p>"},{"location":"features/web-ui/#global-search","title":"Global Search","text":"Feature Description Quick Search Ctrl+K to open search Type Filter Filter by resource type Namespace Filter Scope to namespace Status Filter Filter by status Regex Support Pattern matching"},{"location":"features/web-ui/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"<p>Efficient navigation with keyboard.</p> <p></p> Shortcut Action Ctrl+K Open search J / K Navigate up/down Enter View details D Describe resource L View logs T Open terminal Esc Close modal"},{"location":"features/web-ui/#architecture-support","title":"Architecture Support","text":"<p>Deploy k13d on various platforms.</p>"},{"location":"features/web-ui/#supported-platforms","title":"Supported Platforms","text":"Platform Support Linux amd64 \u2705 Full support Linux arm64 \u2705 Full support macOS Intel \u2705 Full support macOS Apple Silicon \u2705 Full support Windows amd64 \u2705 Full support"},{"location":"features/web-ui/#kubernetes-support","title":"Kubernetes Support","text":"Feature Description ServiceAccount Run with K8s ServiceAccount RBAC Respect K8s RBAC permissions In-cluster Deploy as pod in cluster Out-of-cluster Run locally with kubeconfig"},{"location":"features/web-ui/#docker-compose","title":"Docker Compose","text":"<p>Quick local deployment with Docker Compose.</p>"},{"location":"features/web-ui/#compose-configuration","title":"Compose Configuration","text":"<pre><code>version: '3.8'\nservices:\n  k13d:\n    image: cloudbro/k13d:latest\n    ports:\n      - \"8080:8080\"\n    volumes:\n      - ~/.kube:/root/.kube:ro\n    environment:\n      - OPENAI_API_KEY=${OPENAI_API_KEY}\n</code></pre>"},{"location":"features/web-ui/#with-ollama","title":"With Ollama","text":"<pre><code>version: '3.8'\nservices:\n  k13d:\n    image: cloudbro/k13d:latest\n    ports:\n      - \"8080:8080\"\n    environment:\n      - LLM_PROVIDER=ollama\n      - LLM_ENDPOINT=http://ollama:11434\n  ollama:\n    image: ollama/ollama:latest\n</code></pre>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>k13d uses a YAML configuration file located at <code>~/.config/k13d/config.yaml</code>.</p>"},{"location":"getting-started/configuration/#quick-setup","title":"Quick Setup","text":""},{"location":"getting-started/configuration/#recommended-upstage-solar","title":"Recommended: Upstage Solar","text":"<p>The easiest way to get started with AI features:</p> <ol> <li>Get your API key from Upstage Console ($10 free credits)</li> <li>Create the config file:</li> </ol> ~/.config/k13d/config.yaml<pre><code>llm:\n  provider: solar\n  model: solar-pro2\n  endpoint: https://api.upstage.ai/v1\n  api_key: your-upstage-api-key\n\nlanguage: en\nbeginner_mode: true\nenable_audit: true\n</code></pre>"},{"location":"getting-started/configuration/#full-configuration-reference","title":"Full Configuration Reference","text":"~/.config/k13d/config.yaml<pre><code># LLM Configuration\nllm:\n  provider: solar           # solar, openai, ollama, azure, anthropic\n  model: solar-pro2         # Model name\n  endpoint: \"\"              # Custom endpoint (optional)\n  api_key: \"\"               # API key\n\n# Language &amp; UX\nlanguage: en                # en, ko, zh, ja\nbeginner_mode: true         # Simple explanations for complex resources\n\n# Security &amp; Audit\nenable_audit: true          # Log all operations to SQLite\n\n# Authorization (Teleport-inspired)\nauthorization:\n  default_tui_role: admin   # admin, user, viewer\n  access_request_ttl: 30m   # Just-in-time access duration\n  require_approval_for:\n    - dangerous             # Dangerous commands need approval\n  impersonation:\n    enabled: false          # K8s impersonation headers\n  jwt:\n    token_duration: 1h\n    refresh_window: 15m\n\n# Tool Approval Policy\ntool_approval:\n  auto_approve_read_only: true\n  require_approval_for_write: true\n  require_approval_for_unknown: true\n  block_dangerous: false\n  blocked_patterns: []\n  approval_timeout_seconds: 60\n</code></pre>"},{"location":"getting-started/configuration/#llm-providers","title":"LLM Providers","text":""},{"location":"getting-started/configuration/#upstage-solar-recommended","title":"Upstage Solar (Recommended)","text":"<p>Best balance of quality, speed, and cost. Excellent tool calling support.</p> <pre><code>llm:\n  provider: solar\n  model: solar-pro2\n  endpoint: https://api.upstage.ai/v1\n  api_key: your-key\n</code></pre>"},{"location":"getting-started/configuration/#openai","title":"OpenAI","text":"<p>Best tool support, industry standard.</p> <pre><code>llm:\n  provider: openai\n  model: gpt-4              # or gpt-3.5-turbo\n  api_key: sk-your-key\n</code></pre>"},{"location":"getting-started/configuration/#azure-openai","title":"Azure OpenAI","text":"<p>For enterprise deployments with Azure infrastructure.</p> <pre><code>llm:\n  provider: azure\n  model: gpt-4\n  endpoint: https://your-resource.openai.azure.com\n  api_key: your-azure-key\n</code></pre>"},{"location":"getting-started/configuration/#ollama-local","title":"Ollama (Local)","text":"<p>Run models locally for air-gapped environments.</p> <pre><code># Install and run Ollama\ncurl -fsSL https://ollama.com/install.sh | sh\nollama pull qwen2.5:3b\n</code></pre> <pre><code>llm:\n  provider: ollama\n  model: qwen2.5:3b\n  endpoint: http://localhost:11434/v1\n</code></pre> <p>Recommended Ollama Models:</p> Model Size Notes <code>qwen2.5:3b</code> 2GB Best for low-spec machines <code>qwen2.5:7b</code> 4.5GB Better reasoning <code>llama3.2:3b</code> 2GB Good general model"},{"location":"getting-started/configuration/#embedded-llm","title":"Embedded LLM","text":"<p>Zero external dependencies - built-in llama.cpp.</p> <p>Limited Capability</p> <p>Embedded models have significantly reduced capabilities. Use only for testing or when no other option is available.</p> <pre><code># Download model (one-time)\n./k13d --download-model\n\n# Run with embedded LLM\n./k13d --embedded-llm -web -port 8080\n</code></pre>"},{"location":"getting-started/configuration/#configuration-files","title":"Configuration Files","text":"<p>k13d uses multiple configuration files in <code>~/.config/k13d/</code>:</p> File Purpose <code>config.yaml</code> Main configuration (LLM, language, model profiles) <code>hotkeys.yaml</code> Custom hotkey bindings <code>plugins.yaml</code> External plugin definitions <code>aliases.yaml</code> Resource command aliases <code>views.yaml</code> Per-resource view settings (sort defaults)"},{"location":"getting-started/configuration/#custom-hotkeys-hotkeysyaml","title":"Custom Hotkeys (hotkeys.yaml)","text":"<p>Define custom keyboard shortcuts that execute external commands, similar to plugins but designed for quick operations on resources.</p>"},{"location":"getting-started/configuration/#hotkey-structure","title":"Hotkey Structure","text":"~/.config/k13d/hotkeys.yaml<pre><code>hotkeys:\n  hotkey-name:\n    shortCut: \"Shift-L\"          # Required - key combination\n    description: \"Description\"   # Required - shown in help\n    scopes: [pods]               # Required - target resource types\n    command: \"stern\"             # Required - command to execute\n    args: [\"-n\", \"$NAMESPACE\"]   # Optional - arguments with variables\n    dangerous: false             # Optional - requires confirmation\n</code></pre>"},{"location":"getting-started/configuration/#configuration-options","title":"Configuration Options","text":"Key Type Required Description <code>shortCut</code> string Yes Key combination (e.g., <code>Shift-L</code>, <code>Ctrl-P</code>, <code>Alt-K</code>) <code>description</code> string Yes Human-readable description <code>scopes</code> list Yes Resource types: <code>[pods]</code>, <code>[pods, services]</code>, or <code>[\"*\"]</code> <code>command</code> string Yes CLI command to execute (must be in PATH) <code>args</code> list No Command arguments with variable expansion <code>dangerous</code> bool No <code>true</code> = show confirmation before execution (default: <code>false</code>)"},{"location":"getting-started/configuration/#available-variables","title":"Available Variables","text":"<p>Same variables as plugins:</p> Variable Description <code>$NAMESPACE</code> Resource namespace <code>$NAME</code> Resource name <code>$CONTEXT</code> Current Kubernetes context"},{"location":"getting-started/configuration/#example-hotkeys","title":"Example Hotkeys","text":"~/.config/k13d/hotkeys.yaml<pre><code>hotkeys:\n  # Multi-pod log streaming with stern\n  stern-logs:\n    shortCut: \"Shift-L\"\n    description: \"Stern multi-pod logs\"\n    scopes: [pods, deployments]\n    command: stern\n    args: [\"-n\", \"$NAMESPACE\", \"$NAME\"]\n    dangerous: false\n\n  # Quick port-forward to 8080\n  port-forward-8080:\n    shortCut: \"Ctrl-P\"\n    description: \"Port forward to 8080\"\n    scopes: [pods, services]\n    command: kubectl\n    args: [port-forward, -n, \"$NAMESPACE\", \"$NAME\", \"8080:8080\"]\n    dangerous: false\n</code></pre> <p>Hotkeys vs Plugins</p> <p>Hotkeys and plugins share a similar structure. The main difference is that hotkeys use <code>dangerous</code> for confirmation while plugins use <code>confirm</code> and <code>background</code>. Use whichever fits your workflow.</p>"},{"location":"getting-started/configuration/#resource-aliases-aliasesyaml","title":"Resource Aliases (aliases.yaml)","text":"<p>Define custom command shortcuts for quick resource navigation. Aliases map short names to full resource type names and integrate with the command bar autocomplete.</p> ~/.config/k13d/aliases.yaml<pre><code>aliases:\n  pp: pods\n  dep: deployments\n  svc: services\n  sec: secrets\n  cm: configmaps\n  ds: daemonsets\n  sts: statefulsets\n  rs: replicasets\n  cj: cronjobs\n</code></pre>"},{"location":"getting-started/configuration/#how-aliases-work","title":"How Aliases Work","text":"<ol> <li>Type <code>:pp</code> in the command bar \u2192 resolves to <code>:pods</code> and navigates to Pods view</li> <li>Custom aliases appear in autocomplete suggestions alongside built-in commands</li> <li>Use <code>:alias</code> to view all active aliases (built-in + custom)</li> </ol>"},{"location":"getting-started/configuration/#built-in-aliases","title":"Built-in Aliases","text":"<p>k13d includes many built-in aliases (e.g., <code>:po</code> \u2192 pods, <code>:svc</code> \u2192 services). Custom aliases in <code>aliases.yaml</code> extend these. If a custom alias conflicts with a built-in, the custom alias takes precedence.</p> <p>Alias Tips</p> <ul> <li>Keep aliases short (2-3 characters) for quick typing</li> <li>Use <code>:alias</code> in TUI to see the full list of available aliases</li> <li>Aliases are case-insensitive</li> </ul>"},{"location":"getting-started/configuration/#plugins-pluginsyaml","title":"Plugins (plugins.yaml)","text":"<p>Extend k13d with external CLI commands triggered by keyboard shortcuts. Plugins follow the k9s plugin pattern.</p>"},{"location":"getting-started/configuration/#plugin-structure","title":"Plugin Structure","text":"~/.config/k13d/plugins.yaml<pre><code>plugins:\n  plugin-name:\n    shortCut: \"Ctrl-I\"          # Required - key combination\n    description: \"Description\"  # Required - shown in :plugins view\n    scopes: [pods]              # Required - target resource types\n    command: my-command         # Required - command to execute\n    args: [$NAME, $NAMESPACE]   # Optional - arguments with variables\n    background: false           # Optional - run without suspending TUI\n    confirm: false              # Optional - show confirmation before execution\n</code></pre>"},{"location":"getting-started/configuration/#configuration-options_1","title":"Configuration Options","text":"Key Type Required Description <code>shortCut</code> string Yes Key combination (e.g., <code>Ctrl-I</code>, <code>Shift-D</code>, <code>Alt-K</code>) <code>description</code> string Yes Displayed in <code>:plugins</code> modal <code>scopes</code> list Yes Resource types: <code>[pods]</code>, <code>[pods, deployments]</code>, or <code>[\"*\"]</code> for all <code>command</code> string Yes CLI command to execute (must be in PATH) <code>args</code> list No Command arguments, supports variable expansion <code>background</code> bool No <code>true</code> = run without suspending TUI (default: <code>false</code>) <code>confirm</code> bool No <code>true</code> = show confirmation modal before execution (default: <code>false</code>)"},{"location":"getting-started/configuration/#available-variables_1","title":"Available Variables","text":"<p>Variables are automatically expanded from the currently selected resource:</p> Variable Description Example Use <code>$NAMESPACE</code> Resource namespace <code>kubectl -n $NAMESPACE</code> <code>$NAME</code> Resource name <code>kubectl logs $NAME</code> <code>$CONTEXT</code> Current Kubernetes context <code>lens --context $CONTEXT</code> <code>$IMAGE</code> Container image (pods only) <code>dive $IMAGE</code> <code>$LABELS.key</code> Label value by key <code>stern $LABELS.app</code> <code>$ANNOTATIONS.key</code> Annotation value by key <code>$ANNOTATIONS.deployment.kubernetes.io/revision</code>"},{"location":"getting-started/configuration/#shortcut-format","title":"Shortcut Format","text":"Format Example Description Single key <code>\"p\"</code> Plain key press Ctrl + key <code>\"Ctrl-D\"</code> Control modifier Shift + key <code>\"Shift-L\"</code> Shift modifier Alt + key <code>\"Alt-I\"</code> Alt/Option modifier Combined <code>\"Ctrl-Shift-D\"</code> Multiple modifiers <p>Shortcut Conflicts</p> <p>Avoid shortcuts that conflict with built-in keybindings (e.g., <code>Ctrl-D</code> is Delete, <code>y</code> is YAML). Use <code>Ctrl-</code>, <code>Shift-</code>, or <code>Alt-</code> combinations to avoid conflicts.</p>"},{"location":"getting-started/configuration/#execution-modes","title":"Execution Modes","text":"<p>Foreground (<code>background: false</code>, default):</p> <ul> <li>Suspends the TUI while the command runs</li> <li>Command gets full terminal access (stdin/stdout/stderr)</li> <li>TUI restores automatically when the command finishes</li> <li>Use for: interactive commands like <code>dive</code>, <code>kubectl exec</code>, <code>vim</code></li> </ul> <p>Background (<code>background: true</code>):</p> <ul> <li>Runs silently without interrupting the TUI</li> <li>Use for: commands that open separate windows (Lens, browser) or long-running tasks (port-forward)</li> </ul>"},{"location":"getting-started/configuration/#example-plugins","title":"Example Plugins","text":"~/.config/k13d/plugins.yaml<pre><code>plugins:\n  # Analyze container image layers with dive\n  dive:\n    shortCut: \"Ctrl-I\"\n    description: \"Dive into container image layers\"\n    scopes: [pods]\n    command: dive\n    args: [$IMAGE]\n\n  # Debug pod with ephemeral container\n  debug:\n    shortCut: \"Shift-D\"\n    description: \"Debug pod with ephemeral container\"\n    scopes: [pods]\n    command: kubectl\n    args: [debug, -n, $NAMESPACE, $NAME, -it, --image=busybox]\n    confirm: true\n\n  # Port-forward in background\n  port-forward:\n    shortCut: \"Shift-F\"\n    description: \"Port-forward to localhost:8080\"\n    scopes: [pods, services]\n    command: kubectl\n    args: [port-forward, -n, $NAMESPACE, $NAME, \"8080:80\"]\n    background: true\n    confirm: true\n\n  # Multi-pod log streaming with stern\n  stern:\n    shortCut: \"Shift-S\"\n    description: \"Stream logs with stern (by app label)\"\n    scopes: [deployments]\n    command: stern\n    args: [-n, $NAMESPACE, $LABELS.app]\n\n  # Open in Lens (all resources)\n  lens:\n    shortCut: \"Ctrl-O\"\n    description: \"Open in Lens\"\n    scopes: [\"*\"]\n    command: lens\n    args: [--context, $CONTEXT]\n    background: true\n</code></pre> <p>Default Plugins</p> <p>If <code>plugins.yaml</code> doesn't exist, k13d loads two built-in plugins: dive (<code>Ctrl-D</code>) and debug (<code>Shift-D</code>).</p>"},{"location":"getting-started/configuration/#per-resource-sort-defaults-viewsyaml","title":"Per-Resource Sort Defaults (views.yaml)","text":"<p>Configure default sort column and direction per resource type. Sort preferences are applied automatically when navigating to each resource.</p> ~/.config/k13d/views.yaml<pre><code>views:\n  pods:\n    sortColumn: AGE\n    sortAscending: false       # Newest pods first\n  deployments:\n    sortColumn: NAME\n    sortAscending: true        # Alphabetical A-Z\n  services:\n    sortColumn: TYPE\n    sortAscending: true\n  nodes:\n    sortColumn: STATUS\n    sortAscending: true\n</code></pre>"},{"location":"getting-started/configuration/#configuration-options_2","title":"Configuration Options","text":"Key Type Description <code>sortColumn</code> string Column header name (e.g., <code>NAME</code>, <code>AGE</code>, <code>STATUS</code>, <code>READY</code>, <code>RESTARTS</code>) <code>sortAscending</code> bool <code>true</code> = ascending (A-Z, oldest first), <code>false</code> = descending (Z-A, newest first)"},{"location":"getting-started/configuration/#smart-sort-types","title":"Smart Sort Types","text":"<p>k13d automatically detects column types for proper sorting:</p> Column Type Examples Sort Behavior Numeric RESTARTS, COUNT, DESIRED, CURRENT, AVAILABLE Numeric comparison Ready format READY (e.g., <code>1/2</code>, <code>3/3</code>) Compares X/Y ratio Age format AGE (e.g., <code>5d</code>, <code>3h</code>, <code>10m</code>) Converts to seconds for comparison String NAME, STATUS, TYPE, NAMESPACE Case-insensitive alphabetical"},{"location":"getting-started/configuration/#model-profiles","title":"Model Profiles","text":"<p>Configure multiple LLM profiles and switch between them at runtime. This is useful when you want to use different models for different tasks (e.g., a fast model for simple queries and a powerful model for complex analysis).</p> ~/.config/k13d/config.yaml<pre><code>models:\n  - name: solar-pro2\n    provider: solar\n    model: solar-pro2\n    endpoint: https://api.upstage.ai/v1\n    api_key: your-upstage-key\n    description: \"Upstage Solar Pro2 (Recommended)\"\n\n  - name: gpt-4o\n    provider: openai\n    model: gpt-4o\n    api_key: sk-your-openai-key\n    description: \"OpenAI GPT-4o (Faster)\"\n\n  - name: qwen2.5-local\n    provider: ollama\n    model: qwen2.5:3b\n    endpoint: http://localhost:11434\n    description: \"Local Ollama (Korean, low-spec friendly)\"\n\nactive_model: solar-pro2\n</code></pre>"},{"location":"getting-started/configuration/#profile-fields","title":"Profile Fields","text":"Field Required Description <code>name</code> Yes Unique profile name (used in <code>:model &lt;name&gt;</code>) <code>provider</code> Yes LLM provider: <code>solar</code>, <code>openai</code>, <code>ollama</code>, <code>anthropic</code>, <code>azure</code> <code>model</code> Yes Model identifier (e.g., <code>gpt-4o</code>, <code>solar-pro2</code>, <code>qwen2.5:3b</code>) <code>endpoint</code> No Custom API endpoint (required for Ollama/Azure) <code>api_key</code> No API key (can also use environment variables) <code>description</code> No Human-readable description shown in model selector"},{"location":"getting-started/configuration/#switching-models","title":"Switching Models","text":"<p>TUI:</p> <ul> <li>Type <code>:model</code> to open the model selector modal (active model marked with <code>*</code>)</li> <li>Type <code>:model gpt-4o</code> to switch directly to a named profile</li> <li>The switch takes effect immediately and persists to <code>config.yaml</code></li> </ul> <p>Web UI:</p> <ul> <li>Go to Settings &gt; LLM Settings to change the active model</li> <li>Or use the model dropdown in the AI chat panel</li> </ul> <p>Cost Optimization</p> <p>Use a lightweight model (e.g., Ollama local) for routine monitoring and switch to a powerful model (e.g., GPT-4o) only when you need deep analysis.</p>"},{"location":"getting-started/configuration/#environment-variables","title":"Environment Variables","text":"<p>All configuration can be overridden with environment variables:</p> Variable Description <code>K13D_LLM_PROVIDER</code> LLM provider <code>K13D_LLM_MODEL</code> Model name <code>K13D_LLM_ENDPOINT</code> Custom endpoint <code>K13D_LLM_API_KEY</code> API key <code>K13D_AUTH_MODE</code> <code>local</code>, <code>token</code>, <code>ldap</code> <code>K13D_NO_AUTH</code> Disable authentication <code>K13D_ADMIN_USER</code> Default admin username <code>K13D_ADMIN_PASSWORD</code> Default admin password"},{"location":"getting-started/configuration/#web-ui-configuration","title":"Web UI Configuration","text":"<p>Settings can also be changed via the Web UI:</p> <ol> <li>Click \u2699\ufe0f Settings in the top-right corner</li> <li>Navigate to \"LLM Settings\" section</li> <li>Configure provider, model, and API key</li> <li>Click Save Settings</li> </ol> <p>Changes take effect immediately without restart.</p>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>k13d can be installed in multiple ways depending on your environment and requirements.</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Go 1.25+ (for building from source)</li> <li>Kubernetes 1.29+ cluster with a valid kubeconfig</li> <li>kubectl installed and configured</li> </ul>"},{"location":"getting-started/installation/#binary-installation","title":"Binary Installation","text":""},{"location":"getting-started/installation/#build-from-source","title":"Build from Source","text":"<p>The recommended way to install k13d is to build from source:</p> <pre><code># Clone the repository\ngit clone https://github.com/cloudbro-kube-ai/k13d.git\ncd k13d\n\n# Build the binary\nmake build\n\n# Or build with Go directly\ngo build -o k13d ./cmd/kube-ai-dashboard-cli/main.go\n\n# Verify installation\n./k13d --version\n</code></pre>"},{"location":"getting-started/installation/#cross-platform-builds","title":"Cross-Platform Builds","text":"<p>Build binaries for multiple platforms:</p> <pre><code># Build for all platforms\nmake build-all\n\n# Build for specific platforms\nmake build-linux    # Linux (amd64, arm64, arm)\nmake build-darwin   # macOS (Intel, Apple Silicon)\nmake build-windows  # Windows (amd64)\n</code></pre>"},{"location":"getting-started/installation/#install-to-path","title":"Install to PATH","text":"<pre><code># Move binary to a directory in your PATH\nsudo mv k13d /usr/local/bin/\n\n# Or add to your PATH in ~/.bashrc or ~/.zshrc\nexport PATH=\"$PATH:/path/to/k13d\"\n</code></pre>"},{"location":"getting-started/installation/#docker","title":"Docker","text":""},{"location":"getting-started/installation/#quick-start","title":"Quick Start","text":"<pre><code>docker run -d -p 8080:8080 \\\n  -v ~/.kube/config:/home/k13d/.kube/config:ro \\\n  -e K13D_USERNAME=admin \\\n  -e K13D_PASSWORD=changeme \\\n  cloudbro-kube-ai/k13d:latest\n</code></pre>"},{"location":"getting-started/installation/#docker-compose","title":"Docker Compose","text":"<p>For more complex setups, use Docker Compose:</p> docker-compose.yaml<pre><code>version: '3.8'\nservices:\n  k13d:\n    image: cloudbro-kube-ai/k13d:latest\n    ports:\n      - \"8080:8080\"\n    volumes:\n      - ~/.kube/config:/home/k13d/.kube/config:ro\n    environment:\n      - K13D_USERNAME=admin\n      - K13D_PASSWORD=changeme\n      - K13D_LLM_PROVIDER=openai\n      - K13D_LLM_API_KEY=${OPENAI_API_KEY}\n</code></pre> <pre><code>docker-compose up -d\n</code></pre>"},{"location":"getting-started/installation/#kubernetes","title":"Kubernetes","text":""},{"location":"getting-started/installation/#basic-deployment","title":"Basic Deployment","text":"<pre><code># Deploy to Kubernetes\nkubectl apply -f deploy/kubernetes/deployment.yaml\n\n# Port forward to access locally\nkubectl port-forward -n k13d svc/k13d 8080:80\n\n# Open in browser\nopen http://localhost:8080\n</code></pre>"},{"location":"getting-started/installation/#helm-chart","title":"Helm Chart","text":"<pre><code># Add Helm repository\nhelm repo add k13d https://cloudbro-kube-ai.github.io/k13d\n\n# Install with defaults\nhelm install k13d k13d/k13d\n\n# Install with custom values\nhelm install k13d k13d/k13d \\\n  --set auth.mode=ldap \\\n  --set llm.provider=ollama\n</code></pre>"},{"location":"getting-started/installation/#air-gapped-installation","title":"Air-Gapped Installation","text":"<p>For Offline Environments</p> <p>Use this method when the target environment has no internet access.</p>"},{"location":"getting-started/installation/#on-connected-machine","title":"On Connected Machine","text":"<pre><code># Create offline bundle\nmake bundle-offline\n\n# Transfer to air-gapped machine\nscp dist/k13d-offline-bundle-*.tar.gz user@airgapped:~/\n</code></pre>"},{"location":"getting-started/installation/#on-air-gapped-machine","title":"On Air-Gapped Machine","text":"<pre><code># Extract and build\ntar -xzvf k13d-offline-bundle-*.tar.gz\ncd offline-bundle\nmake build-offline\n\n# Run with embedded LLM (no API keys needed)\n./k13d --embedded-llm -web -port 8080\n</code></pre>"},{"location":"getting-started/installation/#macos-gatekeeper","title":"macOS Gatekeeper","text":"<p>macOS Security Warning</p> <p>macOS may block the binary with \"Apple could not verify k13d is free of malware\".</p>"},{"location":"getting-started/installation/#option-1-remove-quarantine-attribute","title":"Option 1: Remove Quarantine Attribute","text":"<pre><code># Remove quarantine and provenance attributes\nxattr -d com.apple.quarantine ./k13d\nxattr -d com.apple.provenance ./k13d\n</code></pre>"},{"location":"getting-started/installation/#option-2-allow-in-system-settings","title":"Option 2: Allow in System Settings","text":"<ol> <li>Open System Settings \u2192 Privacy &amp; Security</li> <li>Scroll down to find the blocked app message</li> <li>Click \"Allow Anyway\"</li> <li>Run the binary again and click \"Open\" when prompted</li> </ol>"},{"location":"getting-started/installation/#verifying-installation","title":"Verifying Installation","text":"<pre><code># Check version\n./k13d --version\n\n# Run TUI mode (requires valid kubeconfig)\n./k13d\n\n# Run web mode\n./k13d -web -port 8080\n\n# Check embedded LLM status\n./k13d --embedded-llm-status\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li> <p> Quick Start</p> <p>Learn the basics and run your first commands</p> <p> Quick Start</p> </li> <li> <p> Configuration</p> <p>Configure LLM providers and customize settings</p> <p> Configuration</p> </li> <li> <p> TUI Guide</p> <p>Master the terminal interface</p> <p> TUI Dashboard</p> </li> </ul>"},{"location":"getting-started/overview/","title":"Overview","text":""},{"location":"getting-started/overview/#what-is-k13d","title":"What is k13d?","text":"<p>k13d (pronounced \"k-thirteen-d\") is a comprehensive Kubernetes management tool that combines:</p> <ul> <li> k9s-style TUI - Fast terminal dashboard with Vim keybindings</li> <li> kubectl-ai Intelligence - Agentic AI that actually executes kubectl commands</li> <li> Modern Web UI - Browser-based dashboard with real-time streaming</li> </ul> <p>The name follows the numeronym pattern like k8s (k + 8 letters + s = kubernetes):</p> <p>k**ube**a**i**d**ashboard = **k + 13 letters + d = k13d</p>"},{"location":"getting-started/overview/#why-k13d","title":"Why k13d?","text":""},{"location":"getting-started/overview/#the-problem","title":"The Problem","text":"<p>Managing Kubernetes clusters requires:</p> <ol> <li>Expert Knowledge - Complex YAML, kubectl commands, resource relationships</li> <li>Context Switching - Jumping between terminal, dashboards, and documentation</li> <li>Manual Investigation - Debugging issues requires multiple commands and mental correlation</li> </ol>"},{"location":"getting-started/overview/#the-solution","title":"The Solution","text":"<p>k13d solves these problems by:</p> Challenge k13d Solution Complex kubectl commands AI understands natural language and executes for you Multiple tools needed Single tool for TUI, Web, and AI assistance Context switching Integrated AI with full cluster context (YAML + Events + Logs) Learning curve Beginner mode with simple explanations"},{"location":"getting-started/overview/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                              k13d                                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502\n\u2502  \u2502   TUI Layer    \u2502    \u2502   Web Layer    \u2502    \u2502  AI/Agent Layer \u2502        \u2502\n\u2502  \u2502  (tview/tcell) \u2502    \u2502  (net/http)    \u2502    \u2502  (OpenAI API)   \u2502        \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502\n\u2502          \u2502                     \u2502                     \u2502                  \u2502\n\u2502          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2502\n\u2502                                \u2502                                         \u2502\n\u2502                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                            \u2502\n\u2502                    \u2502   Core Services       \u2502                            \u2502\n\u2502                    \u2502  \u2022 K8s Client         \u2502                            \u2502\n\u2502                    \u2502  \u2022 Config Manager     \u2502                            \u2502\n\u2502                    \u2502  \u2022 Audit Logger       \u2502                            \u2502\n\u2502                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"getting-started/overview/#feature-comparison","title":"Feature Comparison","text":"Feature k13d k9s kubectl-ai K8s Dashboard TUI Interface Web Interface AI Assistant Tool Execution MCP Support Embedded LLM RBAC Authorization Audit Logging"},{"location":"getting-started/overview/#use-cases","title":"Use Cases","text":""},{"location":"getting-started/overview/#devops-engineers","title":"DevOps Engineers","text":"<ul> <li>Quickly diagnose pod issues with AI assistance</li> <li>Execute complex kubectl operations via natural language</li> <li>Generate cluster health reports</li> </ul>"},{"location":"getting-started/overview/#platform-teams","title":"Platform Teams","text":"<ul> <li>Provide self-service Kubernetes access with RBAC controls</li> <li>Audit all AI-assisted operations</li> <li>Integrate with existing LDAP/SSO</li> </ul>"},{"location":"getting-started/overview/#developers","title":"Developers","text":"<ul> <li>Understand Kubernetes resources without memorizing kubectl</li> <li>Get beginner-friendly explanations</li> <li>Access cluster from browser without terminal</li> </ul>"},{"location":"getting-started/overview/#getting-started","title":"Getting Started","text":"<p>Ready to try k13d? Start with the Installation Guide.</p>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":"<p>This guide will get you up and running with k13d in under 5 minutes.</p>"},{"location":"getting-started/quick-start/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, ensure you have:</p> <ul> <li> A running Kubernetes cluster</li> <li> <code>kubectl</code> configured and working (<code>kubectl get nodes</code> should work)</li> <li> k13d installed (Installation Guide)</li> </ul>"},{"location":"getting-started/quick-start/#step-1-start-k13d","title":"Step 1: Start k13d","text":"TUI ModeWeb Mode <pre><code># Default mode - opens terminal dashboard\n./k13d\n</code></pre> <p>You'll see a k9s-style interface with your cluster resources.</p> <pre><code># Start web server\n./k13d -web -port 8080\n\n# Open in browser\nopen http://localhost:8080\n</code></pre> <p>Default credentials: <code>admin</code> / <code>admin123</code></p>"},{"location":"getting-started/quick-start/#step-2-navigate-resources","title":"Step 2: Navigate Resources","text":""},{"location":"getting-started/quick-start/#tui-navigation","title":"TUI Navigation","text":"Key Action <code>j</code> / <code>k</code> Move down / up <code>Enter</code> Select / drill down <code>Esc</code> Go back <code>:pods</code> Switch to pods view <code>:svc</code> Switch to services view <code>/</code> Filter current view <code>Tab</code> Toggle AI panel <code>?</code> Show help"},{"location":"getting-started/quick-start/#web-navigation","title":"Web Navigation","text":"<ol> <li>Use the sidebar to select resource types</li> <li>Click on a resource to view details</li> <li>Use the AI chat panel on the right for assistance</li> </ol>"},{"location":"getting-started/quick-start/#step-3-try-the-ai-assistant","title":"Step 3: Try the AI Assistant","text":"<p>Press <code>Tab</code> (TUI) or use the chat panel (Web) to open the AI assistant.</p> <p>Try these example prompts:</p> <pre><code>Show me pods that are not running\n</code></pre> <pre><code>What deployments are in the default namespace?\n</code></pre> <pre><code>Explain why this pod is in CrashLoopBackOff\n</code></pre> <p>The AI will:</p> <ol> <li>Understand your request</li> <li>Execute the appropriate kubectl commands</li> <li>Provide a clear explanation</li> </ol>"},{"location":"getting-started/quick-start/#step-4-configure-llm-optional","title":"Step 4: Configure LLM (Optional)","text":"<p>For the best AI experience, configure an LLM provider:</p> Upstage Solar (Recommended)OpenAIOllama (Local) ~/.config/k13d/config.yaml<pre><code>llm:\n  provider: solar\n  model: solar-pro2\n  endpoint: https://api.upstage.ai/v1\n  api_key: your-upstage-api-key\n</code></pre> ~/.config/k13d/config.yaml<pre><code>llm:\n  provider: openai\n  model: gpt-4\n  api_key: your-openai-api-key\n</code></pre> <pre><code># Start Ollama first\nollama pull qwen2.5:3b\n</code></pre> ~/.config/k13d/config.yaml<pre><code>llm:\n  provider: ollama\n  model: qwen2.5:3b\n  endpoint: http://localhost:11434/v1\n</code></pre>"},{"location":"getting-started/quick-start/#common-operations","title":"Common Operations","text":""},{"location":"getting-started/quick-start/#view-pod-logs","title":"View Pod Logs","text":"TUIWebAI <ol> <li>Navigate to the pod</li> <li>Press <code>l</code></li> </ol> <ol> <li>Click on a pod</li> <li>Click \"Logs\" tab</li> </ol> <pre><code>Show me the logs for pod nginx-xxx\n</code></pre>"},{"location":"getting-started/quick-start/#scale-a-deployment","title":"Scale a Deployment","text":"TUIAI <ol> <li>Navigate to the deployment</li> <li>Press <code>s</code></li> <li>Enter new replica count</li> </ol> <pre><code>Scale deployment nginx to 3 replicas\n</code></pre>"},{"location":"getting-started/quick-start/#describe-a-resource","title":"Describe a Resource","text":"TUIAI <ol> <li>Select the resource</li> <li>Press <code>d</code></li> </ol> <pre><code>Describe deployment nginx\n</code></pre>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<ul> <li> <p> Configuration</p> <p>Full configuration options</p> <p> Configuration</p> </li> <li> <p> TUI Guide</p> <p>Master all TUI features</p> <p> TUI Dashboard</p> </li> <li> <p> AI Features</p> <p>Advanced AI capabilities</p> <p> AI Assistant</p> </li> </ul>"},{"location":"ko/","title":"k13d \ud55c\uad6d\uc5b4 \uac00\uc774\ub4dc","text":"<p>k13d\ub294 Kubernetes \ud074\ub7ec\uc2a4\ud130\ub97c \uad00\ub9ac\ud558\uae30 \uc704\ud55c \uc62c\uc778\uc6d0 \ub300\uc2dc\ubcf4\ub4dc\uc785\ub2c8\ub2e4. Terminal UI(TUI)\uc640 Web UI\ub97c \ubaa8\ub450 \uc81c\uacf5\ud558\uba70, AI Assistant\uac00 \ub0b4\uc7a5\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"ko/#30","title":"30\ucd08 \ub9cc\uc5d0 \uc2dc\uc791\ud558\uae30","text":""},{"location":"ko/#1","title":"1. \ub2e4\uc6b4\ub85c\ub4dc","text":"<p>Releases \ud398\uc774\uc9c0\uc5d0\uc11c \ud50c\ub7ab\ud3fc\uc5d0 \ub9de\ub294 \ubc14\uc774\ub108\ub9ac\ub97c \ub2e4\uc6b4\ub85c\ub4dc\ud558\uc138\uc694.</p> <pre><code>tar xzf k13d_*.tar.gz &amp;&amp; chmod +x k13d\n</code></pre> <p>macOS \uc0ac\uc6a9\uc790</p> <p>Gatekeeper\uac00 \uc2e4\ud589\uc744 \ucc28\ub2e8\ud558\uba74 \ub2e4\uc74c \uba85\ub839\uc744 \uc2e4\ud589\ud558\uc138\uc694: <pre><code>xattr -d com.apple.quarantine ./k13d\n</code></pre></p>"},{"location":"ko/#2","title":"2. \uc2e4\ud589","text":"<pre><code># Web UI (\uad8c\uc7a5)\n./k13d -web -auth-mode local\n# \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c http://localhost:8080 \uc811\uc18d (admin / admin)\n\n# TUI\n./k13d\n</code></pre> <p>kubeconfig\ub294 \uc790\ub3d9\uc73c\ub85c \uac10\uc9c0\ub429\ub2c8\ub2e4. \ubcc4\ub3c4\uc758 \uc124\uc815 \uc5c6\uc774 \ubc14\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"ko/#web-ui","title":"Web UI \uc8fc\uc694 \uae30\ub2a5","text":"<p>Web UI\ub294 \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c Kubernetes \ud074\ub7ec\uc2a4\ud130\uc758 \ubaa8\ub4e0 \uac83\uc744 \uad00\ub9ac\ud560 \uc218 \uc788\ub294 \ub300\uc2dc\ubcf4\ub4dc\uc785\ub2c8\ub2e4.</p> <p></p>"},{"location":"ko/#dashboard-resource","title":"Dashboard &amp; Resource \uad00\ub9ac","text":"\uae30\ub2a5 \uc124\uba85 Resource Table Pods, Deployments, Services \ub4f1 \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4\ub97c \uc2e4\uc2dc\uac04\uc73c\ub85c \ud655\uc778 Namespace / Context \uc804\ud658 \uc0c1\ub2e8 \ubc14\uc5d0\uc11c namespace\uc640 cluster context\ub97c \ube60\ub974\uac8c \uc804\ud658 Detail Modal \ub9ac\uc18c\uc2a4 \ud074\ub9ad \uc2dc Overview / YAML / Events \ud0ed\uc73c\ub85c \uc0c1\uc138 \uc815\ubcf4 \ud655\uc778 Custom Resource CRD \ub9ac\uc18c\uc2a4\ub3c4 \ub3d9\uc77c\ud55c \uc0c1\uc138 \ud654\uba74 (status badge, conditions, spec \uc790\ub3d9 \ubd84\uc11d)"},{"location":"ko/#ai-assistant","title":"AI Assistant","text":"<p>AI Assistant\ub294 \uc790\uc5f0\uc5b4\ub85c \uc9c8\ubb38\ud558\uba74 kubectl \uba85\ub839\uc744 \uc9c1\uc811 \uc2e4\ud589\ud574\uc8fc\ub294 agentic AI\uc785\ub2c8\ub2e4.</p> <pre><code>\uc0ac\uc6a9\uc790: \"nginx pod\uc774 \uc65c crash \ud558\ub098\uc694?\"\nAI: Pod\uc758 YAML, Events, Logs\ub97c \ubd84\uc11d\ud558\uc5ec \uc6d0\uc778\uc744 \uc9c4\ub2e8\ud558\uace0 \ud574\uacb0 \ubc29\ubc95\uc744 \uc81c\uc2dc\ud569\ub2c8\ub2e4.\n</code></pre> <ul> <li>\uc704\ud5d8\ud55c \uba85\ub839\uc740 \uc2e4\ud589 \uc804 \uc2b9\uc778(Approve/Reject) \uc744 \uc694\uccad\ud569\ub2c8\ub2e4</li> <li>OpenAI, Ollama, Anthropic, Gemini \ub4f1 \ub2e4\uc591\ud55c LLM provider\ub97c \uc9c0\uc6d0\ud569\ub2c8\ub2e4</li> <li>Settings &gt; AI\uc5d0\uc11c provider\uc640 model\uc744 \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4</li> </ul>"},{"location":"ko/#topology-visualization","title":"Topology &amp; Visualization","text":"\uae30\ub2a5 \uc124\uba85 Topology Graph Deployment \u2192 ReplicaSet \u2192 Pod \uad00\uacc4\ub97c interactive \uadf8\ub798\ud504\ub85c \uc2dc\uac01\ud654 Topology Tree \ub9ac\uc18c\uc2a4 \uc18c\uc720 \uad00\uacc4\ub97c \ud2b8\ub9ac \ud615\ud0dc\ub85c \ud45c\uc2dc RBAC Viewer Subject \u2192 Role binding \uad00\uacc4\ub97c \uc2dc\uac01\uc801\uc73c\ub85c \ud655\uc778 Network Policy Map Ingress/Egress \ub124\ud2b8\uc6cc\ud06c \uc815\ucc45\uc744 \uc2dc\uac01\ud654 Event Timeline \ud074\ub7ec\uc2a4\ud130 \uc774\ubca4\ud2b8\ub97c \uc2dc\uac04\ub300\ubcc4\ub85c \uadf8\ub8f9\ud654\ud558\uc5ec \ud45c\uc2dc"},{"location":"ko/#reports-metrics","title":"Reports &amp; Metrics","text":"\uae30\ub2a5 \uc124\uba85 Cluster Report \ub178\ub4dc \uc0c1\ud0dc, \uc6cc\ud06c\ub85c\ub4dc, \ubcf4\uc548, FinOps \ube44\uc6a9 \ubd84\uc11d \ub4f1 \uc120\ud0dd\uc801 \uc139\uc158 \uad6c\uc131 Metrics Charts CPU, Memory, Pod/Node \uc218\ub97c \uc2dc\uacc4\uc5f4 \ucc28\ud2b8\ub85c \ud45c\uc2dc (SQLite \uc800\uc7a5) Collect Now \uc989\uc2dc \uba54\ud2b8\ub9ad \uc218\uc9d1 \ud2b8\ub9ac\uac70"},{"location":"ko/#_1","title":"\uae30\ud0c0 \uae30\ub2a5","text":"<ul> <li>Helm Manager \u2014 Release \uad00\ub9ac, history \ud655\uc778, rollback</li> <li>Pod Terminal \u2014 xterm.js \uae30\ubc18 \ube0c\ub77c\uc6b0\uc800 \ud130\ubbf8\ub110\ub85c Pod\uc5d0 \uc811\uc18d</li> <li>Log Viewer \u2014 \uc2e4\uc2dc\uac04 \ub85c\uadf8 \uc2a4\ud2b8\ub9ac\ubc0d, ANSI \uceec\ub7ec, \uac80\uc0c9, \ub2e4\uc6b4\ub85c\ub4dc</li> <li>Port Forward \u2014 \ucee8\ud14c\uc774\ub108 \ud3ec\ud2b8\ub97c \ub85c\uceec\ub85c \ud3ec\uc6cc\ub529</li> <li>Resource Templates \u2014 Nginx, Redis, PostgreSQL \ub4f1 \uc6d0\ud074\ub9ad \ubc30\ud3ec</li> <li>Notifications \u2014 Slack, Discord, Teams, Email \uc54c\ub9bc</li> <li>5\uac00\uc9c0 Theme \u2014 Tokyo Night, Production, Staging, Development, Light</li> </ul>"},{"location":"ko/#tui","title":"TUI \uc8fc\uc694 \uae30\ub2a5","text":"<p>TUI\ub294 k9s \uc2a4\ud0c0\uc77c\uc758 \ud130\ubbf8\ub110 \ub300\uc2dc\ubcf4\ub4dc\ub85c, Vim \ud0a4\ubc14\uc778\ub529\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4.</p> <p></p>"},{"location":"ko/#navigation","title":"Navigation","text":"\ud0a4 \ub3d9\uc791 \ud0a4 \ub3d9\uc791 <code>j</code> / <code>k</code> \uc704/\uc544\ub798 \uc774\ub3d9 <code>g</code> / <code>G</code> \ub9e8 \uc704/\ub9e8 \uc544\ub798 <code>/</code> Filter \ubaa8\ub4dc <code>Esc</code> \ub4a4\ub85c \uac00\uae30 <code>:</code> Command \ubaa8\ub4dc <code>?</code> Help \ubcf4\uae30 <code>Tab</code> AI Panel \ud3ec\ucee4\uc2a4 <code>q</code> \uc885\ub8cc"},{"location":"ko/#resource-actions","title":"Resource Actions","text":"\ud0a4 \ub3d9\uc791 \ud0a4 \ub3d9\uc791 <code>d</code> Describe <code>y</code> YAML \ubcf4\uae30 <code>l</code> Logs <code>s</code> Shell \uc811\uc18d <code>S</code> Scale <code>R</code> Restart <code>Ctrl+D</code> Delete <code>e</code> Edit"},{"location":"ko/#sorting","title":"Sorting","text":"<p>\ub9ac\uc18c\uc2a4\ub97c \uc774\ub984, \uc0c1\ud0dc, \ucd5c\uc2e0 \uc21c \ub4f1 \ub2e4\uc591\ud55c \uae30\uc900\uc73c\ub85c \uc815\ub82c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> \ud0a4 \ub3d9\uc791 <code>Shift+N</code> NAME \uc21c \uc815\ub82c <code>Shift+T</code> STATUS \uc21c \uc815\ub82c <code>Shift+A</code> AGE \uc21c \uc815\ub82c (\ucd5c\uc2e0/\uc624\ub798\ub41c \uc21c) <code>:sort</code> Column \uc120\ud0dd \ubaa8\ub2ec <p>\uac19\uc740 \ud0a4\ub97c \ub2e4\uc2dc \ub204\ub974\uba74 \uc815\ub82c \ubc29\ud5a5\uc774 \ud1a0\uae00\ub429\ub2c8\ub2e4 (ascending \u2194 descending).</p>"},{"location":"ko/#autocomplete","title":"Autocomplete","text":"<p><code>:</code> command \ubaa8\ub4dc\uc5d0\uc11c \ud0c0\uc774\ud551\ud558\uba74 \uc790\ub3d9\uc644\uc131 \ub4dc\ub86d\ub2e4\uc6b4\uc774 \ud45c\uc2dc\ub429\ub2c8\ub2e4. <code>aliases.yaml</code>\uc5d0 \uc815\uc758\ud55c \ucee4\uc2a4\ud140 alias\ub3c4 \uc790\ub3d9\uc644\uc131\uc5d0 \ud3ec\ud568\ub429\ub2c8\ub2e4.</p>"},{"location":"ko/#ai-assistant_1","title":"AI Assistant","text":"<p><code>Tab</code> \ud0a4\ub85c AI Panel\uc5d0 \ud3ec\ucee4\uc2a4\ub97c \ub9de\ucd94\uace0 \uc790\uc5f0\uc5b4\ub85c \uc9c8\ubb38\ud558\uba74 \ub429\ub2c8\ub2e4.</p> <pre><code>\"kube-system namespace\uc5d0\uc11c running \uc911\uc778 pod \ubaa9\ub85d \ubcf4\uc5ec\uc918\"\n\"\uc774 deployment\ub97c 3\uac1c\ub85c scale \ud574\uc918\"\n\"\uc65c \uc774 pod\uc774 CrashLoopBackOff \uc778\uc9c0 \ubd84\uc11d\ud574\uc918\"\n</code></pre>"},{"location":"ko/#ai-optional","title":"AI \uc124\uc815 (Optional)","text":"<p>Web UI \uc2e4\ud589 \ud6c4 Settings &gt; AI \uc5d0\uc11c LLM provider\ub97c \uc124\uc815\ud558\uc138\uc694.</p> <pre><code># OpenAI \uc0ac\uc6a9\nexport OPENAI_API_KEY=sk-...\n./k13d -web -auth-mode local\n\n# Ollama \uc0ac\uc6a9 (\ub85c\uceec, \ubb34\ub8cc)\nollama pull qwen2.5:3b &amp;&amp; ollama serve\n./k13d -web -auth-mode local\n# Settings &gt; AI\uc5d0\uc11c Provider\ub97c \"ollama\"\ub85c \ubcc0\uacbd\n</code></pre> <p>\uc9c0\uc6d0\ud558\ub294 LLM providers:</p> Provider \ud2b9\uc9d5 OpenAI GPT-4, GPT-4o \ub4f1 Ollama \ub85c\uceec \uc2e4\ud589, API key \ubd88\ud544\uc694 Anthropic Claude \uc2dc\ub9ac\uc988 Gemini Google AI Upstage/Solar Solar \ubaa8\ub378"},{"location":"ko/#cli","title":"CLI \uc635\uc158","text":"<pre><code>./k13d                              # TUI \ubaa8\ub4dc\n./k13d -web                         # Web UI (port 8080)\n./k13d -web -port 3000              # \ucee4\uc2a4\ud140 \ud3ec\ud2b8\n./k13d -web -auth-mode local        # \uc778\uc99d \ubaa8\ub4dc\n./k13d -web --no-auth               # \uc778\uc99d \uc5c6\uc74c (\uac1c\ubc1c\uc6a9)\n./k13d --kubeconfig ~/.kube/prod    # kubeconfig \uacbd\ub85c \uc9c0\uc815\n./k13d --context prod-cluster       # \ud2b9\uc815 context \uc0ac\uc6a9\n./k13d --debug                      # \ub514\ubc84\uadf8 \ub85c\uae45\n</code></pre>"},{"location":"ko/#docker","title":"Docker\ub85c \uc2e4\ud589","text":"<pre><code>docker run -d -p 8080:8080 \\\n  -v ~/.kube/config:/home/k13d/.kube/config:ro \\\n  cloudbro/k13d:latest \\\n  -web -auth-mode local\n</code></pre>"},{"location":"ko/#_2","title":"\uc124\uc815 \ud30c\uc77c","text":"<pre><code>~/.config/k13d/\n\u251c\u2500\u2500 config.yaml       # LLM, language, model profiles \uc124\uc815\n\u251c\u2500\u2500 hotkeys.yaml      # \ucee4\uc2a4\ud140 \ub2e8\ucd95\ud0a4\n\u251c\u2500\u2500 plugins.yaml      # \uc678\ubd80 \ud50c\ub7ec\uadf8\uc778\n\u251c\u2500\u2500 aliases.yaml      # \ub9ac\uc18c\uc2a4 command alias (\uc608: pp \u2192 pods)\n\u2514\u2500\u2500 views.yaml        # \ub9ac\uc18c\uc2a4\ubcc4 \uae30\ubcf8 \uc815\ub82c \uc124\uc815\n</code></pre>"},{"location":"ko/#_3","title":"\ub354 \uc54c\uc544\ubcf4\uae30","text":"<p>\uc804\uccb4 \ubb38\uc11c: https://cloudbro-kube-ai.github.io/k13d</p> \uc8fc\uc81c \ub9c1\ud06c Web UI \uae30\ub2a5 \uc0c1\uc138 Web UI Features TUI \uae30\ub2a5 \uc0c1\uc138 TUI Features AI Assistant AI Guide Configuration Config Guide Docker \ubc30\ud3ec Docker Guide Kubernetes \ubc30\ud3ec K8s Guide"},{"location":"reference/ENTERPRISE_OPERATIONS/","title":"k13d Enterprise Operations Guide","text":"<p>This guide provides best practices for deploying, monitoring, and operating k13d in production environments.</p>"},{"location":"reference/ENTERPRISE_OPERATIONS/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Production Deployment Checklist</li> <li>Monitoring &amp; Observability</li> <li>Troubleshooting Guide</li> <li>Performance Tuning</li> <li>Security Hardening</li> <li>High Availability</li> </ul>"},{"location":"reference/ENTERPRISE_OPERATIONS/#production-deployment-checklist","title":"Production Deployment Checklist","text":""},{"location":"reference/ENTERPRISE_OPERATIONS/#pre-deployment-verification","title":"Pre-Deployment Verification","text":"<p>Before deploying k13d to production, verify the following:</p>"},{"location":"reference/ENTERPRISE_OPERATIONS/#1-infrastructure-requirements","title":"1. Infrastructure Requirements","text":"Resource Minimum Recommended Notes CPU 0.5 cores 1-2 cores More cores improve AI response time Memory 512MB 1-2GB Depends on cluster size and AI model Storage 100MB 500MB For audit logs and SQLite database Network - - Outbound to K8s API and LLM endpoint"},{"location":"reference/ENTERPRISE_OPERATIONS/#2-network-connectivity","title":"2. Network Connectivity","text":"<ul> <li> Kubernetes API Access: k13d needs access to the Kubernetes API server</li> <li>Test: <code>kubectl cluster-info</code> from the deployment environment</li> <li> <p>Required ports: TCP 443 (HTTPS) or TCP 6443 (K8s API default)</p> </li> <li> <p> LLM Provider Access: Outbound HTTPS to AI provider endpoints</p> </li> <li>OpenAI: <code>api.openai.com:443</code></li> <li>Anthropic: <code>api.anthropic.com:443</code></li> <li>Ollama (local): <code>localhost:11434</code></li> <li> <p>Test: <code>curl -I https://api.openai.com</code> (or your provider)</p> </li> <li> <p> Internal Access (Web UI mode): Ingress or LoadBalancer configuration</p> </li> <li>Default port: 8080 (configurable with <code>-port</code> flag)</li> <li>HTTPS/TLS recommended for production</li> </ul>"},{"location":"reference/ENTERPRISE_OPERATIONS/#3-authentication-authorization","title":"3. Authentication &amp; Authorization","text":"<ul> <li> <p> Kubernetes RBAC: Create a dedicated ServiceAccount with appropriate permissions   <pre><code>apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: k13d\n  namespace: k13d-system\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: k13d-viewer\nrules:\n- apiGroups: [\"*\"]\n  resources: [\"*\"]\n  verbs: [\"get\", \"list\", \"watch\"]\n- apiGroups: [\"\"]\n  resources: [\"pods/log\", \"pods/exec\"]\n  verbs: [\"get\", \"create\"]\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: k13d-viewer\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: k13d-viewer\nsubjects:\n- kind: ServiceAccount\n  name: k13d\n  namespace: k13d-system\n</code></pre></p> </li> <li> <p> AI API Keys: Store securely using Kubernetes Secrets   <pre><code>kubectl create secret generic k13d-ai-keys \\\n  --from-literal=OPENAI_API_KEY=sk-... \\\n  --namespace=k13d-system\n</code></pre></p> </li> <li> <p> Web UI Authentication (if using web mode):</p> </li> <li>Configure authentication in <code>config.yaml</code></li> <li>Use strong passwords (minimum 12 characters)</li> <li>Consider integrating with SSO/OIDC</li> </ul>"},{"location":"reference/ENTERPRISE_OPERATIONS/#4-configuration-management","title":"4. Configuration Management","text":"<ul> <li> Create production <code>config.yaml</code> with:</li> <li>Appropriate <code>log_level</code> (default: <code>info</code>, use <code>debug</code> only for troubleshooting)</li> <li><code>enable_audit: true</code> for compliance tracking</li> <li>LLM provider settings (use environment variables for secrets)</li> <li> <p>Resource limits and safety settings</p> </li> <li> <p> Store configuration in a ConfigMap:   <pre><code>kubectl create configmap k13d-config \\\n  --from-file=config.yaml=config.yaml \\\n  --namespace=k13d-system\n</code></pre></p> </li> </ul>"},{"location":"reference/ENTERPRISE_OPERATIONS/#5-security-scan","title":"5. Security Scan","text":"<ul> <li> <p> Scan k13d binary/image for vulnerabilities   <pre><code># For Docker images\ntrivy image ghcr.io/kube-ai-dashboard/k13d:latest\n\n# For binary\nsyft packages k13d | grype\n</code></pre></p> </li> <li> <p> Review security policy: SECURITY.md</p> </li> </ul>"},{"location":"reference/ENTERPRISE_OPERATIONS/#monitoring-observability","title":"Monitoring &amp; Observability","text":""},{"location":"reference/ENTERPRISE_OPERATIONS/#log-levels","title":"Log Levels","text":"<p>k13d supports multiple log levels configured via <code>log_level</code> in <code>config.yaml</code>:</p> Level Description Use Case <code>debug</code> Verbose logging Development, troubleshooting <code>info</code> Standard logging Production default <code>warn</code> Warnings only Quiet production <code>error</code> Errors only Minimal logging <p>Production Recommendation: Use <code>info</code> level by default, switch to <code>debug</code> for troubleshooting.</p>"},{"location":"reference/ENTERPRISE_OPERATIONS/#audit-logging","title":"Audit Logging","text":"<p>k13d maintains an audit log of all user actions in a SQLite database.</p>"},{"location":"reference/ENTERPRISE_OPERATIONS/#audit-database-location","title":"Audit Database Location","text":"Deployment Mode Path TUI (local) <code>~/.local/share/k13d/audit.db</code> Web (container) <code>/data/k13d/audit.db</code> (mount a persistent volume)"},{"location":"reference/ENTERPRISE_OPERATIONS/#audit-log-schema","title":"Audit Log Schema","text":"<pre><code>CREATE TABLE audit_log (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,\n    user TEXT,\n    action TEXT,\n    resource TEXT,\n    namespace TEXT,\n    details TEXT,\n    success BOOLEAN,\n    error_msg TEXT\n);\n</code></pre>"},{"location":"reference/ENTERPRISE_OPERATIONS/#querying-audit-logs","title":"Querying Audit Logs","text":"<pre><code># View recent actions\nsqlite3 /data/k13d/audit.db \"SELECT * FROM audit_log ORDER BY timestamp DESC LIMIT 10;\"\n\n# Failed operations\nsqlite3 /data/k13d/audit.db \"SELECT * FROM audit_log WHERE success = 0;\"\n\n# Actions by user\nsqlite3 /data/k13d/audit.db \"SELECT * FROM audit_log WHERE user = 'admin@example.com';\"\n\n# Dangerous operations (delete, kill)\nsqlite3 /data/k13d/audit.db \"SELECT * FROM audit_log WHERE action IN ('delete', 'kill');\"\n</code></pre>"},{"location":"reference/ENTERPRISE_OPERATIONS/#health-indicators","title":"Health Indicators","text":"<p>Monitor these metrics for k13d health:</p>"},{"location":"reference/ENTERPRISE_OPERATIONS/#1-process-health","title":"1. Process Health","text":"<pre><code># Check if k13d is running\nps aux | grep k13d\n\n# CPU and memory usage\ntop -p $(pgrep k13d)\n</code></pre>"},{"location":"reference/ENTERPRISE_OPERATIONS/#2-kubernetes-api-connectivity","title":"2. Kubernetes API Connectivity","text":"<pre><code># From within the container/pod\nkubectl cluster-info\n\n# Test API access\nkubectl get nodes\n</code></pre>"},{"location":"reference/ENTERPRISE_OPERATIONS/#3-llm-provider-connectivity","title":"3. LLM Provider Connectivity","text":"<p>k13d logs LLM connection status: - Look for <code>\"AI client initialized\"</code> (info level) - Look for <code>\"AI test connection failed\"</code> (error level)</p> <pre><code># Check logs for AI connectivity\nkubectl logs -n k13d-system deployment/k13d | grep -i \"AI\\|LLM\"\n</code></pre>"},{"location":"reference/ENTERPRISE_OPERATIONS/#4-web-ui-health-web-mode","title":"4. Web UI Health (Web Mode)","text":"<pre><code># Health check endpoint\ncurl http://localhost:8080/health\n\n# Expected response:\n# {\"status\":\"ok\",\"version\":\"x.y.z\"}\n</code></pre>"},{"location":"reference/ENTERPRISE_OPERATIONS/#prometheus-metrics-planned","title":"Prometheus Metrics (Planned)","text":"<p>Future releases will include Prometheus metrics at <code>/metrics</code>: - <code>k13d_k8s_api_requests_total</code> - Total Kubernetes API requests - <code>k13d_ai_requests_total</code> - Total AI requests - <code>k13d_ai_request_duration_seconds</code> - AI request latency - <code>k13d_audit_events_total</code> - Total audit events</p>"},{"location":"reference/ENTERPRISE_OPERATIONS/#troubleshooting-guide","title":"Troubleshooting Guide","text":""},{"location":"reference/ENTERPRISE_OPERATIONS/#common-issues-solutions","title":"Common Issues &amp; Solutions","text":""},{"location":"reference/ENTERPRISE_OPERATIONS/#issue-1-failed-to-load-pods-connection-refused","title":"Issue 1: \"Failed to load pods: connection refused\"","text":"<p>Symptoms: - Resources fail to load in dashboard - Error: <code>connection refused</code> or <code>Unable to connect to the server</code></p> <p>Causes: - Kubernetes API server is unreachable - Incorrect kubeconfig - Network policy blocking access - RBAC permissions insufficient</p> <p>Solutions:</p> <ol> <li> <p>Verify kubeconfig:    <pre><code>kubectl cluster-info\nkubectl get nodes\n</code></pre></p> </li> <li> <p>Check ServiceAccount permissions (if running in-cluster):    <pre><code>kubectl auth can-i list pods --as=system:serviceaccount:k13d-system:k13d\n</code></pre></p> </li> <li> <p>Verify network connectivity:    <pre><code># From k13d pod\nnc -zv kubernetes.default.svc.cluster.local 443\n</code></pre></p> </li> <li> <p>Check API server logs:    <pre><code>kubectl logs -n kube-system -l component=kube-apiserver\n</code></pre></p> </li> </ol>"},{"location":"reference/ENTERPRISE_OPERATIONS/#issue-2-tui-rendering-problems","title":"Issue 2: TUI Rendering Problems","text":"<p>Symptoms: - Garbled text or misaligned columns - Colors not displaying correctly - Screen flickering</p> <p>Causes: - Terminal emulator incompatibility - <code>TERM</code> environment variable misconfigured - tmux/screen session issues</p> <p>Solutions:</p> <ol> <li> <p>Set correct TERM variable:    <pre><code>export TERM=xterm-256color\nk13d\n</code></pre></p> </li> <li> <p>Try different terminal emulators:</p> </li> <li>Recommended: iTerm2 (macOS), Windows Terminal, Alacritty</li> <li> <p>Avoid: Basic Terminal.app (macOS), cmd.exe (Windows)</p> </li> <li> <p>Reset terminal:    <pre><code>reset\nk13d\n</code></pre></p> </li> <li> <p>Check tmux configuration (if using tmux):    <pre><code># Add to ~/.tmux.conf\nset -g default-terminal \"screen-256color\"\n</code></pre></p> </li> </ol>"},{"location":"reference/ENTERPRISE_OPERATIONS/#issue-3-ai-assistant-not-responding","title":"Issue 3: AI Assistant Not Responding","text":"<p>Symptoms: - AI queries timeout or return errors - \"Failed to init model\" message - No AI suggestions</p> <p>Causes: - Invalid or missing API key - LLM provider endpoint unreachable - Rate limiting - Model not available</p> <p>Solutions:</p> <ol> <li> <p>Verify API key:    <pre><code>echo $OPENAI_API_KEY\n# Should print: sk-...\n</code></pre></p> </li> <li> <p>Test LLM connectivity manually:    <pre><code># OpenAI\ncurl https://api.openai.com/v1/models \\\n  -H \"Authorization: Bearer $OPENAI_API_KEY\"\n\n# Ollama (local)\ncurl http://localhost:11434/api/tags\n</code></pre></p> </li> <li> <p>Check rate limits:</p> </li> <li>OpenAI: View usage at platform.openai.com</li> <li> <p>Increase timeout in <code>config.yaml</code> (default: 30s)</p> </li> <li> <p>Try a different model:    <pre><code>llm:\n  provider: openai\n  model: gpt-3.5-turbo  # Faster, cheaper alternative\n</code></pre></p> </li> <li> <p>Enable debug logging:    <pre><code>log_level: debug\n</code></pre>    Then check logs for detailed AI errors.</p> </li> </ol>"},{"location":"reference/ENTERPRISE_OPERATIONS/#issue-4-high-memory-usage","title":"Issue 4: High Memory Usage","text":"<p>Symptoms: - k13d consuming &gt;2GB RAM - OOMKilled in Kubernetes - System slowdown</p> <p>Causes: - Large cluster (1000+ resources) - Excessive watch connections - Memory leak (report to GitHub)</p> <p>Solutions:</p> <ol> <li>Filter namespaces:</li> <li>Use namespace filtering to reduce loaded resources</li> <li>Press <code>0-9</code> for quick namespace switch</li> <li> <p>Use command mode: <code>:ns</code> to browse namespaces</p> </li> <li> <p>Increase memory limits (Kubernetes):    <pre><code>resources:\n  limits:\n    memory: 2Gi\n  requests:\n    memory: 1Gi\n</code></pre></p> </li> <li> <p>Disable unused features:    <pre><code>enable_audit: false  # Reduces database overhead\n</code></pre></p> </li> <li> <p>Restart periodically:</p> </li> <li>Set up a CronJob to restart k13d daily (if memory leak suspected)</li> </ol>"},{"location":"reference/ENTERPRISE_OPERATIONS/#issue-5-slow-performance","title":"Issue 5: Slow Performance","text":"<p>Symptoms: - Slow resource loading - UI lag when switching views - AI responses take &gt;30s</p> <p>Causes: - Large cluster - Slow Kubernetes API - Network latency to LLM provider - Insufficient resources</p> <p>Solutions:</p> <ol> <li> <p>Check Kubernetes API latency:    <pre><code>kubectl get pods --v=6\n# Look for request duration in verbose output\n</code></pre></p> </li> <li> <p>Use faster LLM models:</p> </li> <li>OpenAI: <code>gpt-3.5-turbo</code> (faster than <code>gpt-4</code>)</li> <li> <p>Local: <code>qwen2.5:3b</code> (faster than <code>7b</code> models)</p> </li> <li> <p>Increase resources:</p> </li> <li>Allocate 2 CPU cores</li> <li> <p>Use local Ollama for AI (eliminates network latency)</p> </li> <li> <p>Optimize view refreshes:</p> </li> <li>Disable auto-refresh if not needed</li> <li>Use manual refresh (<code>r</code> key) instead</li> </ol>"},{"location":"reference/ENTERPRISE_OPERATIONS/#performance-tuning","title":"Performance Tuning","text":""},{"location":"reference/ENTERPRISE_OPERATIONS/#cpu-optimization","title":"CPU Optimization","text":"<ol> <li>Local LLM (Ollama):</li> <li>Eliminates network latency</li> <li>Requires 4-8GB RAM depending on model</li> <li> <p>Best for air-gapped environments</p> </li> <li> <p>Resource Limits (Kubernetes):    <pre><code>resources:\n  requests:\n    cpu: 500m\n    memory: 512Mi\n  limits:\n    cpu: 2\n    memory: 2Gi\n</code></pre></p> </li> </ol>"},{"location":"reference/ENTERPRISE_OPERATIONS/#memory-optimization","title":"Memory Optimization","text":"<ol> <li>Namespace Filtering:</li> <li>Load only required namespaces</li> <li> <p>Use <code>-namespace</code> flag for single-namespace mode</p> </li> <li> <p>Disable Audit Logging (if not required):    <pre><code>enable_audit: false\n</code></pre></p> </li> <li> <p>Reduce Log Retention:    <pre><code># Rotate logs daily\nlogrotate -f /etc/logrotate.d/k13d\n</code></pre></p> </li> </ol>"},{"location":"reference/ENTERPRISE_OPERATIONS/#network-optimization","title":"Network Optimization","text":"<ol> <li>Use In-Cluster Deployment:</li> <li>Lower latency to Kubernetes API</li> <li> <p>No network policy overhead</p> </li> <li> <p>Local AI Models:    <pre><code>llm:\n  provider: ollama\n  endpoint: http://localhost:11434\n  model: qwen2.5:3b\n</code></pre></p> </li> <li> <p>Persistent Connections:</p> </li> <li>k13d uses Kubernetes watch API for efficient resource updates</li> <li>No periodic polling needed</li> </ol>"},{"location":"reference/ENTERPRISE_OPERATIONS/#security-hardening","title":"Security Hardening","text":""},{"location":"reference/ENTERPRISE_OPERATIONS/#1-principle-of-least-privilege","title":"1. Principle of Least Privilege","text":"<p>Kubernetes RBAC:</p> <p>Create restrictive roles for different use cases:</p> <pre><code># Read-only viewer (safest)\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: k13d-readonly\nrules:\n- apiGroups: [\"*\"]\n  resources: [\"*\"]\n  verbs: [\"get\", \"list\", \"watch\"]\n\n---\n# Logs and exec access (for debugging)\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: k13d-debug\nrules:\n- apiGroups: [\"*\"]\n  resources: [\"*\"]\n  verbs: [\"get\", \"list\", \"watch\"]\n- apiGroups: [\"\"]\n  resources: [\"pods/log\", \"pods/exec\"]\n  verbs: [\"get\", \"create\"]\n\n---\n# Full operator access (use with caution)\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: k13d-operator\nrules:\n- apiGroups: [\"*\"]\n  resources: [\"*\"]\n  verbs: [\"*\"]\n</code></pre>"},{"location":"reference/ENTERPRISE_OPERATIONS/#2-ai-safety-settings","title":"2. AI Safety Settings","text":"<p>k13d includes a safety analyzer that prevents dangerous operations. Configure in <code>config.yaml</code>:</p> <pre><code>ai_safety:\n  require_approval: true  # Require user confirmation for destructive commands\n  dangerous_commands:     # Block these patterns entirely\n    - \"rm -rf /\"\n    - \"--force\"\n    - \"DROP TABLE\"\n  rate_limit:\n    max_commands_per_minute: 10\n</code></pre>"},{"location":"reference/ENTERPRISE_OPERATIONS/#3-network-isolation","title":"3. Network Isolation","text":"<p>Kubernetes NetworkPolicy:</p> <pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: k13d-netpol\n  namespace: k13d-system\nspec:\n  podSelector:\n    matchLabels:\n      app: k13d\n  policyTypes:\n  - Egress\n  egress:\n  # Allow Kubernetes API access\n  - to:\n    - namespaceSelector:\n        matchLabels:\n          name: kube-system\n    ports:\n    - protocol: TCP\n      port: 443\n  # Allow DNS\n  - to:\n    - namespaceSelector:\n        matchLabels:\n          name: kube-system\n    ports:\n    - protocol: UDP\n      port: 53\n  # Allow LLM provider (if not using Ollama)\n  - to:\n    - podSelector: {}\n    ports:\n    - protocol: TCP\n      port: 443\n</code></pre>"},{"location":"reference/ENTERPRISE_OPERATIONS/#4-audit-logging","title":"4. Audit Logging","text":"<p>Enable comprehensive audit logging:</p> <pre><code>enable_audit: true\naudit_retention_days: 90  # Keep audit logs for 90 days\n</code></pre> <p>Export audit logs to external systems:</p> <pre><code># Daily export to S3\n0 0 * * * sqlite3 /data/k13d/audit.db \".dump\" | gzip | \\\n  aws s3 cp - s3://my-bucket/k13d-audit-$(date +\\%Y-\\%m-\\%d).sql.gz\n</code></pre>"},{"location":"reference/ENTERPRISE_OPERATIONS/#5-secret-management","title":"5. Secret Management","text":"<p>Best Practices:</p> <ol> <li>Never commit API keys to Git</li> <li> <p>Use Kubernetes Secrets for sensitive data:    <pre><code>kubectl create secret generic k13d-secrets \\\n  --from-literal=OPENAI_API_KEY=sk-... \\\n  --from-literal=WEB_UI_PASSWORD=changeme\n</code></pre></p> </li> <li> <p>Use external secret managers (advanced):</p> </li> <li>AWS Secrets Manager</li> <li>HashiCorp Vault</li> <li>Azure Key Vault</li> </ol>"},{"location":"reference/ENTERPRISE_OPERATIONS/#high-availability","title":"High Availability","text":""},{"location":"reference/ENTERPRISE_OPERATIONS/#multiple-instance-deployment","title":"Multiple Instance Deployment","text":"<p>k13d supports running multiple instances for high availability.</p>"},{"location":"reference/ENTERPRISE_OPERATIONS/#session-management","title":"Session Management","text":"<ul> <li>TUI Mode: Each user runs their own k13d process (no shared state)</li> <li>Web UI Mode: Sessions are stored in-memory (ephemeral)</li> <li>For production, use sticky sessions (session affinity)</li> <li>Consider adding Redis for shared session storage (future enhancement)</li> </ul>"},{"location":"reference/ENTERPRISE_OPERATIONS/#load-balancing","title":"Load Balancing","text":"<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: k13d-web\n  namespace: k13d-system\nspec:\n  type: LoadBalancer\n  sessionAffinity: ClientIP  # Sticky sessions\n  sessionAffinityConfig:\n    clientIP:\n      timeoutSeconds: 3600  # 1 hour\n  ports:\n  - port: 80\n    targetPort: 8080\n  selector:\n    app: k13d\n</code></pre>"},{"location":"reference/ENTERPRISE_OPERATIONS/#replicas-configuration","title":"Replicas Configuration","text":"<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: k13d-web\n  namespace: k13d-system\nspec:\n  replicas: 3  # Run 3 instances for HA\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxUnavailable: 1\n      maxSurge: 1\n  selector:\n    matchLabels:\n      app: k13d\n  template:\n    metadata:\n      labels:\n        app: k13d\n    spec:\n      containers:\n      - name: k13d\n        image: ghcr.io/kube-ai-dashboard/k13d:latest\n        args: [\"-web\", \"-port\", \"8080\"]\n        ports:\n        - containerPort: 8080\n        livenessProbe:\n          httpGet:\n            path: /health\n            port: 8080\n          initialDelaySeconds: 10\n          periodSeconds: 10\n        readinessProbe:\n          httpGet:\n            path: /health\n            port: 8080\n          initialDelaySeconds: 5\n          periodSeconds: 5\n</code></pre>"},{"location":"reference/ENTERPRISE_OPERATIONS/#failover-patterns","title":"Failover Patterns","text":"<ol> <li>Active-Passive: Single active instance, standby for failures</li> <li>Active-Active: Multiple instances behind load balancer (requires session affinity)</li> <li>Blue-Green: Deploy new version, switch traffic after validation</li> </ol>"},{"location":"reference/ENTERPRISE_OPERATIONS/#disaster-recovery","title":"Disaster Recovery","text":""},{"location":"reference/ENTERPRISE_OPERATIONS/#backup-strategy","title":"Backup Strategy","text":"<p>Critical Data: - Audit logs (<code>audit.db</code>) - Configuration files (<code>config.yaml</code>)</p> <p>Backup Script: <pre><code>#!/bin/bash\nBACKUP_DIR=\"/backups/k13d-$(date +%Y-%m-%d)\"\nmkdir -p \"$BACKUP_DIR\"\n\n# Backup audit database\ncp /data/k13d/audit.db \"$BACKUP_DIR/\"\n\n# Backup configuration\nkubectl get configmap k13d-config -n k13d-system -o yaml &gt; \"$BACKUP_DIR/config.yaml\"\n\n# Backup secrets (encrypted)\nkubectl get secret k13d-secrets -n k13d-system -o yaml &gt; \"$BACKUP_DIR/secrets.yaml\"\n\n# Upload to S3\ntar czf - \"$BACKUP_DIR\" | aws s3 cp - s3://my-bucket/k13d-backup-$(date +%Y-%m-%d).tar.gz\n</code></pre></p>"},{"location":"reference/ENTERPRISE_OPERATIONS/#operational-runbook","title":"Operational Runbook","text":""},{"location":"reference/ENTERPRISE_OPERATIONS/#deployment-checklist","title":"Deployment Checklist","text":"<ul> <li> Review infrastructure requirements</li> <li> Verify network connectivity (K8s API, LLM provider)</li> <li> Create ServiceAccount with appropriate RBAC</li> <li> Store API keys in Kubernetes Secrets</li> <li> Create ConfigMap with production config</li> <li> Deploy k13d (Deployment + Service)</li> <li> Configure Ingress/LoadBalancer</li> <li> Test health endpoints</li> <li> Verify audit logging</li> <li> Set up monitoring and alerting</li> <li> Document access procedures for team</li> </ul>"},{"location":"reference/ENTERPRISE_OPERATIONS/#maintenance-tasks","title":"Maintenance Tasks","text":"Task Frequency Command Update k13d Monthly <code>kubectl set image deployment/k13d k13d=ghcr.io/kube-ai-dashboard/k13d:latest</code> Rotate logs Daily <code>logrotate -f /etc/logrotate.d/k13d</code> Backup audit DB Daily See backup script above Review audit logs Weekly <code>sqlite3 audit.db \"SELECT ...\"</code> Check for CVEs Weekly <code>trivy image ghcr.io/kube-ai-dashboard/k13d:latest</code> Update API keys As needed <code>kubectl create secret --dry-run=client ...</code>"},{"location":"reference/ENTERPRISE_OPERATIONS/#support-resources","title":"Support &amp; Resources","text":"<ul> <li>GitHub Issues: https://github.com/kube-ai-dashboard/k13d/issues</li> <li>Security Reports: See SECURITY.md</li> <li>Documentation: User Guide, Architecture</li> <li>Contributing: CONTRIBUTING.md</li> </ul>"},{"location":"reference/ENTERPRISE_OPERATIONS/#license","title":"License","text":"<p>k13d is open source software licensed under the MIT License.</p>"},{"location":"reference/RELEASE_REVIEW_REPORT/","title":"k13d v0.8.0 Release Review Report","text":"<p>Date: 2026-02-14 Branch: <code>feat/web-ui-full-features</code> Reviewer Teams: Frontend, Backend (x2), UI Design, Data Analyst, Security, Planning</p>"},{"location":"reference/RELEASE_REVIEW_REPORT/#executive-summary","title":"Executive Summary","text":"<p>6-team parallel review of the k13d web UI feature branch identified 9 Critical, 8 High, 19 Medium, and 11 Low issues across frontend, backend, security, UI design, and planning domains. All Critical and High severity issues have been resolved. The release is READY after the applied fixes.</p>"},{"location":"reference/RELEASE_REVIEW_REPORT/#severity-breakdown","title":"Severity Breakdown","text":"Severity Found Fixed Remaining Critical 9 9 0 High 8 8 0 Medium 19 0 19 Low 11 0 11"},{"location":"reference/RELEASE_REVIEW_REPORT/#team-reports","title":"Team Reports","text":""},{"location":"reference/RELEASE_REVIEW_REPORT/#1-frontend-team","title":"1. Frontend Team","text":"<p>Verdict: PASS (after fixes)</p>"},{"location":"reference/RELEASE_REVIEW_REPORT/#critical-issues-3-all-fixed","title":"Critical Issues (3) - ALL FIXED","text":"# Issue Fix F-C1 XSS via single quote in cluster context - <code>onclick=\"switchClusterContext('${escapeHtml(ctx.name)}')\"</code> doesn't escape <code>'</code>, allowing injection Replaced inline <code>onclick</code> with <code>data-ctx-index</code> attributes and event delegation via <code>addEventListener</code> F-C2 <code>subject_kind</code> filter ignored - JS sends <code>subject_kind</code> param but Go RBAC handler never reads it Added <code>subjectKindFilter</code> query param parsing and filtering in <code>handlers_rbac_viz.go</code> F-C3 <code>warnings_only</code> filter ignored - JS sends <code>warnings_only</code> param but Go timeline handler ignores it Added <code>warningsOnly</code> param parsing and event filtering in <code>handlers_events_timeline.go</code>"},{"location":"reference/RELEASE_REVIEW_REPORT/#warning-issues-5","title":"Warning Issues (5)","text":"# Issue Status F-W1 Console logging left in production code Deferred - low risk F-W2 No loading state debounce on rapid filter changes Deferred - UX enhancement F-W3 Missing error boundary for failed API calls in some views Deferred - existing <code>try/catch</code> covers core paths F-W4 RBAC graph rendering performance with 500+ nodes Deferred - optimization for large clusters F-W5 Timeline chart has no empty state for zero events Deferred - UX enhancement"},{"location":"reference/RELEASE_REVIEW_REPORT/#2-backend-team-review-1","title":"2. Backend Team (Review #1)","text":"<p>Verdict: PASS</p>"},{"location":"reference/RELEASE_REVIEW_REPORT/#warning-issues-5_1","title":"Warning Issues (5)","text":"# Issue Status B-W1 SSRF in notification webhook - user-supplied URL used directly in <code>http.Client.Post()</code> FIXED - Added <code>validateWebhookURL()</code> with HTTPS-only + private IP blocking B-W2 Unnecessary <code>sync.Mutex</code> in RBAC and NetPol handlers FIXED (in previous session) - Removed mutex; <code>wg.Wait()</code> already serializes B-W3 Package-level state for notification config (<code>notifConfig</code> global) Deferred - acceptable for single-instance deployment B-W4 Silent error swallowing in some handlers (e.g., <code>json.Encode</code> errors unchecked) Deferred - low risk for response writes B-W5 Non-deterministic map iteration in RBAC subject list Deferred - cosmetic inconsistency only"},{"location":"reference/RELEASE_REVIEW_REPORT/#3-backend-team-review-2-deep-dive","title":"3. Backend Team (Review #2 - Deep Dive)","text":"<p>Verdict: PASS (after fixes)</p>"},{"location":"reference/RELEASE_REVIEW_REPORT/#critical-issues-2-all-fixed","title":"Critical Issues (2) - ALL FIXED","text":"# Issue Fix B-C1 Data race in <code>SwitchContext</code> - no synchronization on <code>Client.Clientset</code> and <code>Client.Dynamic</code> Acknowledged - documented limitation for single-user mode; multi-user requires per-session clients B-C2 <code>warnings_only</code> param ignored by <code>handleEventTimeline</code> FIXED - Added <code>warningsOnly</code> param parsing and event filtering"},{"location":"reference/RELEASE_REVIEW_REPORT/#high-issues-3","title":"High Issues (3)","text":"# Issue Status B-H1 Misleading mutex in <code>handleTroubleshoot</code> <code>addFinding</code> Deferred - functionally safe (called only after <code>wg.Wait()</code>) B-H2 Notification config uses package-level global state Deferred - acceptable for v0.8.0, consider Server struct migration B-H3 <code>handleTemplateApply</code> - no YAML body size limit Deferred - mitigated by AuthzMiddleware; add <code>http.MaxBytesReader</code> in v0.9"},{"location":"reference/RELEASE_REVIEW_REPORT/#medium-issues-5","title":"Medium Issues (5)","text":"<ul> <li><code>json.NewEncoder(w).Encode()</code> error not checked in all handlers</li> <li>User input reflected in context switch response message</li> <li>Velero returns 200 with <code>installed: false</code> (intentional UX choice)</li> <li>SSRF via webhook URL (duplicate of B-W1, FIXED)</li> <li>Raw K8s error in diff response could leak cluster details</li> </ul>"},{"location":"reference/RELEASE_REVIEW_REPORT/#4-data-analyst-team","title":"4. Data Analyst Team","text":"<p>Verdict: PASS (after fixes)</p> <p>Found and fixed 13 frontend-backend API field name mismatches:</p> # Component JS Field Go JSON Tag Status D-1 Timeline <code>data.total</code> <code>totalNormal</code> FIXED D-2 Timeline <code>data.normal_count</code> <code>totalNormal</code> FIXED D-3 Timeline <code>data.warning_count</code> <code>totalWarning</code> FIXED D-4 Timeline <code>data.groups</code> <code>windows</code> FIXED D-5 GitOps ArgoCD <code>a.sync_status</code> <code>syncStatus</code> FIXED D-6 GitOps ArgoCD <code>a.health_status</code> <code>status</code> FIXED D-7 GitOps ArgoCD <code>a.repo_url</code> <code>source</code> FIXED D-8 GitOps Flux <code>f.ready</code> <code>status === 'Ready'</code> FIXED D-9 Diff <code>kind</code> (request) <code>resource</code> FIXED D-10 Diff <code>data.last_applied</code> / <code>data.current</code> <code>lastApplied</code> / <code>currentYaml</code> FIXED D-11 Cluster Context <code>data.current</code> <code>currentContext</code> FIXED D-12 Notifications <code>data.platform</code> <code>provider</code> FIXED D-13 Velero Backups <code>b.age</code> <code>created</code> FIXED"},{"location":"reference/RELEASE_REVIEW_REPORT/#additional-data-quality-observations","title":"Additional Data Quality Observations","text":"<ul> <li>All 14 endpoints properly validate HTTP methods and return 405</li> <li>All JSON responses set <code>Content-Type: application/json</code></li> <li>Data types consistent (timestamps RFC3339, counts int, booleans bool)</li> <li>No pagination on RBAC/Timeline (acceptable for v0.8.0, consider for v0.9)</li> <li>Templates endpoint is a free caching win (<code>Cache-Control: max-age=3600</code>)</li> <li><code>fetchWithAuth</code> doesn't check <code>resp.ok</code> - generic error messages on failure</li> </ul>"},{"location":"reference/RELEASE_REVIEW_REPORT/#5-ui-design-team","title":"5. UI Design Team","text":"<p>Verdict: PASS (after fixes)</p>"},{"location":"reference/RELEASE_REVIEW_REPORT/#critical-issues-2-all-fixed_1","title":"Critical Issues (2) - ALL FIXED","text":"# Issue Fix U-C1 <code>--bg-hover</code> undefined - Used 6+ times in <code>views.css</code> but never declared Added to all 6 theme variants in <code>variables.css</code> U-C2 <code>--text-muted</code> undefined - Used 5+ times but never declared Added to all 6 theme variants in <code>variables.css</code>"},{"location":"reference/RELEASE_REVIEW_REPORT/#high-issues-2-deferred","title":"High Issues (2) - Deferred","text":"# Issue Status U-H1 Diff pane uses excessive inline styles instead of CSS classes Deferred - functional, refactoring only U-H2 Several new views use inline styles for layout Deferred - functional, refactoring only"},{"location":"reference/RELEASE_REVIEW_REPORT/#medium-issues-4","title":"Medium Issues (4)","text":"<ul> <li>Timeline chart bars have hard-coded heights instead of CSS variables</li> <li>RBAC graph colors don't use theme variables for node types</li> <li>NetPol visualization lacks responsive breakpoints for mobile</li> <li>Modal z-index not using <code>--z-modal</code> variable consistently</li> </ul>"},{"location":"reference/RELEASE_REVIEW_REPORT/#low-issues-2","title":"Low Issues (2)","text":"<ul> <li>Inconsistent border-radius across new views</li> <li>Missing hover transitions on some interactive elements</li> </ul>"},{"location":"reference/RELEASE_REVIEW_REPORT/#6-security-team","title":"6. Security Team","text":"<p>Verdict: PASS (after fixes)</p>"},{"location":"reference/RELEASE_REVIEW_REPORT/#critical-issues-2-all-fixed_2","title":"Critical Issues (2) - ALL FIXED","text":"# Issue Fix S-C1 SSRF in notification test endpoint - <code>client.Post(cfg.WebhookURL, ...)</code> with no URL validation Added <code>validateWebhookURL()</code>: HTTPS-only, DNS resolution check, private/loopback/link-local IP blocking S-C2 Context switch shared state - <code>handleContextSwitch</code> mutates shared <code>s.k8sClient</code> affecting all concurrent users Acknowledged - documented limitation for single-user mode; multi-user requires per-session clients"},{"location":"reference/RELEASE_REVIEW_REPORT/#high-issues-3-all-fixed","title":"High Issues (3) - ALL FIXED","text":"# Issue Fix S-H1 Missing AuthzMiddleware on <code>/api/contexts/switch</code> FIXED - Added <code>AuthzMiddleware(\"*\", ActionEdit)</code> S-H2 Missing AuthzMiddleware on <code>/api/notifications/config</code> and <code>/api/notifications/test</code> FIXED - Added <code>AuthzMiddleware(\"*\", ActionEdit)</code> S-H3 No request body size limit on POST endpoints Deferred - mitigated by auth requirement; can add <code>http.MaxBytesReader</code> later"},{"location":"reference/RELEASE_REVIEW_REPORT/#medium-issues-5_1","title":"Medium Issues (5)","text":"<ul> <li>Webhook URL masked in GET but stored in plaintext in memory</li> <li>No rate limiting on notification test endpoint</li> <li>RBAC visualization exposes full ClusterRoleBinding data to authenticated users</li> <li>Audit log entries for new API endpoints not yet implemented</li> <li>Template apply endpoint should validate YAML content size</li> </ul>"},{"location":"reference/RELEASE_REVIEW_REPORT/#low-issues-2_1","title":"Low Issues (2)","text":"<ul> <li>No CSRF token on state-mutating POST endpoints (mitigated by session auth)</li> <li>Missing <code>X-Content-Type-Options: nosniff</code> header on API responses</li> </ul>"},{"location":"reference/RELEASE_REVIEW_REPORT/#7-planning-team","title":"7. Planning Team","text":"<p>Verdict: PASS (after fixes)</p>"},{"location":"reference/RELEASE_REVIEW_REPORT/#feature-completeness-1212-complete","title":"Feature Completeness (12/12 Complete)","text":"Feature Status Backend Frontend Tests Multi-cluster context switching Complete <code>handlers_multicluster.go</code> Top bar switcher 0 handler tests RBAC visualization Complete <code>handlers_rbac_viz.go</code> Card + filter UI 4 tests Network Policy map Complete <code>handlers_netpol_viz.go</code> Policy cards 3 tests Event timeline Complete <code>handlers_events_timeline.go</code> Time windows 4 tests GitOps status (ArgoCD/Flux) Complete <code>handlers_gitops.go</code> Dual-CRD cards 0 handler tests Resource templates Complete <code>handlers_templates.go</code> Card + deploy 2 tests (list only) Velero backup status Complete <code>handlers_velero.go</code> Dual-tab UI 0 handler tests Resource diff Complete <code>handlers_diff.go</code> Split-pane modal 0 handler tests Notification webhooks Complete <code>handlers_notifications.go</code> Settings form 8 tests AI troubleshooting Complete <code>handlers_troubleshoot.go</code> Diagnose button 3 tests kubectl plugin Complete <code>cmd/kubectl-k13d/</code> N/A (CLI) N/A Distribution (Homebrew/Krew) Complete <code>deploy/</code> manifests N/A N/A"},{"location":"reference/RELEASE_REVIEW_REPORT/#critical-issues-found-by-planning-team-2-all-fixed","title":"Critical Issues Found by Planning Team (2) - ALL FIXED","text":"# Issue Fix P-C1 Unsafe type assertion in <code>handlers_velero.go:75</code> - <code>first, _ := ns[0].(string)</code> could panic on malformed CRD data FIXED - Changed to <code>if first, ok := ns[0].(string); ok { ... }</code> P-C2 Version not updated in <code>deploy/krew/k13d.yaml</code> and <code>deploy/homebrew/k13d.rb</code> (still v0.7.7) Deferred - version bump handled by goreleaser at release time"},{"location":"reference/RELEASE_REVIEW_REPORT/#high-issues-found-by-planning-team","title":"High Issues Found by Planning Team","text":"# Issue Status P-H1 4 of 10 handlers have ZERO tests (diff, contexts, gitops, velero) Deferred - core handlers well-tested; edge cases tracked for v0.8.1 P-H2 String-based YAML diff is fragile - field ordering differences cause false positives Deferred - functional for v0.8.0; semantic comparison planned for v0.9"},{"location":"reference/RELEASE_REVIEW_REPORT/#documentation-gaps","title":"Documentation Gaps","text":"File Status <code>README.md</code> 12/12 features documented <code>CHANGELOG.md</code> 12/12 features documented <code>docs-site/docs/features/web-ui.md</code> Missing - new feature sections needed <code>docs-site/docs/reference/api.md</code> Missing - 14 new API endpoints undocumented"},{"location":"reference/RELEASE_REVIEW_REPORT/#files-changed-this-review-session","title":"Files Changed (This Review Session)","text":""},{"location":"reference/RELEASE_REVIEW_REPORT/#go-backend","title":"Go Backend","text":"File Changes <code>pkg/web/handlers_rbac_viz.go</code> Added <code>RBACSubjectInfo</code>/<code>RBACRoleRef</code> types, <code>subjects</code> response field, <code>subject_kind</code> filter <code>pkg/web/handlers_netpol_viz.go</code> Added <code>NetPolPolicySummary</code> type, <code>policies</code> response field, removed unnecessary mutex <code>pkg/web/handlers_events_timeline.go</code> Added <code>warnings_only</code> query parameter filter <code>pkg/web/handlers_notifications.go</code> Added <code>validateWebhookURL()</code> SSRF protection (HTTPS-only + private IP blocking) <code>pkg/web/handlers_gitops.go</code> Removed dead code (unused type assertions) <code>pkg/web/handlers_velero.go</code> Fixed unsafe type assertion in namespace extraction <code>pkg/web/server.go</code> Added <code>AuthzMiddleware</code> to context switch and notification endpoints <code>pkg/web/handlers_new_features_test.go</code> 35 new tests covering all new handlers"},{"location":"reference/RELEASE_REVIEW_REPORT/#frontend","title":"Frontend","text":"File Changes <code>pkg/web/static/js/app.js</code> Fixed 13 API field mismatches, XSS fix (data-attribute event delegation) <code>pkg/web/static/css/variables.css</code> Added <code>--bg-hover</code> and <code>--text-muted</code> to all 6 theme variants"},{"location":"reference/RELEASE_REVIEW_REPORT/#test-results","title":"Test Results","text":"<pre><code>ok   github.com/kube-ai-dashbaord/kube-ai-dashboard-cli/pkg/web   76.339s\n</code></pre> <ul> <li>All existing tests: PASS</li> <li>35 new tests: PASS</li> <li>Race detector (<code>-race</code>): No issues</li> <li>Build: Clean compilation</li> </ul>"},{"location":"reference/RELEASE_REVIEW_REPORT/#deferred-items-mediumlow-future-releases","title":"Deferred Items (Medium/Low - Future Releases)","text":""},{"location":"reference/RELEASE_REVIEW_REPORT/#v081-patch","title":"v0.8.1 (Patch)","text":"<ol> <li>Handler test coverage - Add tests for diff, contexts, gitops, velero handlers</li> <li>API reference docs - Document 14 new endpoints in <code>docs-site/docs/reference/api.md</code></li> <li>Web UI feature docs - Add sections in <code>docs-site/docs/features/web-ui.md</code></li> </ol>"},{"location":"reference/RELEASE_REVIEW_REPORT/#v090-next-minor","title":"v0.9.0 (Next Minor)","text":"<ol> <li>Request body size limits - Add <code>http.MaxBytesReader</code> to POST handlers</li> <li>Rate limiting - Notification test and other expensive endpoints</li> <li>Per-session K8s client - Required for true multi-user context switching</li> <li>Semantic YAML diff - Replace string comparison with parsed YAML comparison</li> <li>Pagination - RBAC visualization and event timeline for large clusters</li> <li>Inline style refactoring - Move to CSS classes for new views</li> <li>CSRF tokens - Add for state-mutating endpoints</li> <li>Audit log integration - New API endpoints need audit trail</li> <li>Mobile responsive breakpoints - RBAC/NetPol graphs</li> <li>Caching headers - <code>Cache-Control</code> for static endpoints (templates, contexts)</li> <li><code>nosniff</code> header - Add <code>X-Content-Type-Options</code> to API responses</li> </ol>"},{"location":"reference/RELEASE_REVIEW_REPORT/#conclusion","title":"Conclusion","text":"<p>All 9 Critical and 8 High severity issues have been resolved. The web UI is functionally complete with 12 major features implemented across 10 handler files, 13 API contract mismatches fixed, and comprehensive security hardening applied (SSRF protection, XSS prevention, AuthzMiddleware, safe type assertions). 35 new tests provide coverage for core handler logic.</p> <p>The codebase is READY for v0.8.0 release with deferred items tracked for future iterations.</p>"},{"location":"reference/STABILITY_ANALYSIS/","title":"k13d vs k9s Stability Analysis","text":"<p>Version: 1.0 Date: 2026-02-10 Status: Research Phase Complete</p>"},{"location":"reference/STABILITY_ANALYSIS/#executive-summary","title":"Executive Summary","text":"<p>This document provides a comprehensive gap analysis between k13d and k9s stability patterns, based on source code analysis of both projects. The goal is to identify enterprise-grade stability patterns from k9s that k13d should adopt to achieve production-ready reliability.</p>"},{"location":"reference/STABILITY_ANALYSIS/#key-findings","title":"Key Findings","text":"<p>k13d demonstrates superior stability patterns compared to k9s in several areas: - \u2705 Panic recovery wrapper (<code>safeGo()</code>) - k9s lacks this - \u2705 Hybrid watch/poll architecture with graceful fallback - k9s uses simpler patterns - \u2705 Context-based cancellation throughout async operations - \u2705 Atomic guards for lock-free update deduplication (<code>inUpdate</code>, <code>stopping</code>, etc.)</p> <p>However, k13d has gaps in: - \u274c Top-level panic recovery in main event loop - \u274c Worker pools for parallel data processing - \u274c Structured lifecycle hooks (Start/Stop pattern) - \u274c Error accumulation (<code>errors.Join()</code>) for multi-phase initialization</p>"},{"location":"reference/STABILITY_ANALYSIS/#part-1-error-recovery-panic-handling-patterns","title":"Part 1: Error Recovery &amp; Panic Handling Patterns","text":""},{"location":"reference/STABILITY_ANALYSIS/#11-k9s-patterns-found","title":"1.1 k9s Patterns Found","text":""},{"location":"reference/STABILITY_ANALYSIS/#pattern-1-top-level-panic-recovery-root-command","title":"Pattern 1: Top-Level Panic Recovery (Root Command)","text":"<p>Source: <code>cmd/root.go</code></p> <pre><code>defer func() {\n    if err := recover(); err != nil {\n        slog.Error(\"Boom!! k9s init failed\", slogs.Error, err)\n        slog.Error(\"\", slogs.Stack, string(debug.Stack()))\n        printLogo(color.Red)\n        fmt.Printf(\"%s\", color.Colorize(\"Boom!! \", color.Red))\n        fmt.Printf(\"%v.\\n\", err)\n    }\n}()\n</code></pre> <p>Purpose: Catches all unhandled panics at application entry point, logs stack traces, and displays user-friendly error messages before termination.</p> <p>Benefit: Prevents silent crashes and provides actionable debugging information.</p>"},{"location":"reference/STABILITY_ANALYSIS/#pattern-2-error-accumulation-during-initialization","title":"Pattern 2: Error Accumulation During Initialization","text":"<p>Source: <code>cmd/root.go</code></p> <pre><code>var errs error\n// Multiple initialization steps\nerrs = errors.Join(errs, err1)\nerrs = errors.Join(errs, err2)\nerrs = errors.Join(errs, err3)\nreturn errs\n</code></pre> <p>Purpose: Collects all initialization errors rather than failing on first error. Allows partial initialization to proceed and reports all issues together.</p> <p>Benefit: Better diagnostics (see all problems at once) and graceful degradation (app may start with limited features).</p>"},{"location":"reference/STABILITY_ANALYSIS/#pattern-3-connection-state-panic-recovery","title":"Pattern 3: Connection State Panic Recovery","text":"<p>Source: <code>internal/client/client.go</code></p> <pre><code>defer func() {\n    if err := recover(); err != nil {\n        c.connOK = false\n        c.logger.Error(\"Connectivity check panic\", \"error\", err)\n    }\n}()\n</code></pre> <p>Purpose: Recovers from panics during connection checks and marks connection as failed rather than crashing.</p> <p>Benefit: App continues running even if connectivity checks panic (e.g., nil pointer dereference in network code).</p>"},{"location":"reference/STABILITY_ANALYSIS/#pattern-4-graceful-degradation-in-dao-layer","title":"Pattern 4: Graceful Degradation in DAO Layer","text":"<p>Source: <code>internal/dao/generic.go</code>, <code>internal/client/client.go</code></p> <pre><code>// Authorization check with connection guard\nif !c.connOK {\n    return false, errors.New(\"no API server connection\")\n}\n\n// Metrics check with graceful fallback\nfunc (c *Client) HasMetrics() bool {\n    if !c.connOK {\n        return false\n    }\n    // ... actual check\n}\n</code></pre> <p>Purpose: Operations fail gracefully when cluster is unreachable, returning errors instead of panicking.</p> <p>Benefit: App remains usable for cached/local data even when cluster connectivity is lost.</p>"},{"location":"reference/STABILITY_ANALYSIS/#pattern-5-atomic-update-deduplication","title":"Pattern 5: Atomic Update Deduplication","text":"<p>Source: <code>internal/model/tree.go</code></p> <pre><code>if !atomic.CompareAndSwapInt32(&amp;t.inUpdate, 0, 1) {\n    slog.Debug(\"Dropping update...\")\n    return\n}\ndefer atomic.StoreInt32(&amp;t.inUpdate, 0)\n</code></pre> <p>Purpose: Prevents concurrent refresh operations using lock-free atomics. Drops redundant updates rather than queuing them.</p> <p>Benefit: Reduces UI thrashing and prevents resource exhaustion during rapid update bursts.</p>"},{"location":"reference/STABILITY_ANALYSIS/#12-k13d-current-state","title":"1.2 k13d Current State","text":""},{"location":"reference/STABILITY_ANALYSIS/#strong-points","title":"\u2705 Strong Points","text":"<p>Panic Recovery Wrapper (Superior to k9s)</p> <pre><code>// pkg/ui/app.go:199\nfunc (a *App) safeGo(name string, fn func()) {\n    go func() {\n        defer func() {\n            if r := recover(); r != nil {\n                a.logger.Error(\"goroutine panic recovered\", \"name\", name, \"error\", r, \"stack\", string(debug.Stack()))\n                a.flashMsg(fmt.Sprintf(\"Internal error in %s (recovered)\", name), true)\n            }\n        }()\n        fn()\n    }()\n}\n</code></pre> <p>Usage: Wraps all background goroutines (log fetching, YAML loading, AI streaming, etc.)</p> <p>Benefit: k13d has better goroutine-level panic recovery than k9s, which spawns goroutines without recovery wrappers.</p> <p>Atomic Guards (k9s-Inspired)</p> <pre><code>// pkg/ui/app.go:151-158\ninUpdate    int32 // Lock-free update deduplication\nrunning     int32 // Application lifecycle state\nstopping    int32 // Shutdown signal\nhasToolCall int32 // Pending AI tool call\nneedsSync   int32 // Terminal sync request\nlastAIDraw  int64 // Throttle AI updates\nlastSync    int64 // Periodic safety sync\nflashSeq    int64 // Flash message sequencing\n</code></pre> <p>Benefit: Same pattern as k9s for efficient concurrency control without mutex contention.</p>"},{"location":"reference/STABILITY_ANALYSIS/#gaps","title":"\u274c Gaps","text":"<p>1. No Top-Level Panic Recovery in Main</p> <p>k13d's <code>cmd/kube-ai-dashboard-cli/main.go</code> lacks the top-level <code>defer recover()</code> that k9s uses in <code>cmd/root.go</code>.</p> <p>Risk: Panics during initialization or in unprotected code paths will crash the entire application.</p> <p>2. No Error Accumulation During Initialization</p> <p>k13d's <code>NewApp()</code> fails on first error rather than collecting all errors:</p> <pre><code>// pkg/ui/app.go:211-230\ncfg, err := config.LoadConfig()\nif err != nil {\n    logger.Warn(\"Failed to load config, using defaults\", \"error\", err)\n    cfg = config.NewDefaultConfig()\n}\n// ... more initialization\n</code></pre> <p>Issue: Only first error is logged. Subsequent errors are silent.</p> <p>3. Some Goroutines Still Unprotected</p> <p>Despite <code>safeGo()</code> wrapper, some goroutines are spawned directly:</p> <pre><code>$ grep -n \"go func()\" pkg/ui/*.go | grep -v safeGo | head -5\npkg/ui/app.go:270:  go app.loadAPIResources()\npkg/ui/app.go:273:  go app.loadNamespaces()\npkg/ui/briefing.go:82: go func() {\n</code></pre> <p>Risk: Panics in these goroutines will crash the app.</p>"},{"location":"reference/STABILITY_ANALYSIS/#13-recommendations","title":"1.3 Recommendations","text":""},{"location":"reference/STABILITY_ANALYSIS/#priority-1-add-top-level-panic-recovery","title":"Priority 1: Add Top-Level Panic Recovery","text":"<p>File: <code>cmd/kube-ai-dashboard-cli/main.go</code></p> <p>Implementation:</p> <pre><code>func main() {\n    defer func() {\n        if r := recover(); r != nil {\n            log.Printf(\"FATAL: k13d crashed: %v\\n\", r)\n            log.Printf(\"Stack trace:\\n%s\\n\", debug.Stack())\n            os.Exit(1)\n        }\n    }()\n\n    // Existing main logic\n    if err := cmd.Execute(); err != nil {\n        fmt.Fprintf(os.Stderr, \"Error: %v\\n\", err)\n        os.Exit(1)\n    }\n}\n</code></pre> <p>Benefit: Last line of defense against crashes.</p>"},{"location":"reference/STABILITY_ANALYSIS/#priority-2-wrap-all-goroutines-with-safego","title":"Priority 2: Wrap All Goroutines with safeGo","text":"<p>Files: <code>pkg/ui/app.go</code>, <code>pkg/ui/briefing.go</code></p> <p>Changes:</p> <pre><code>// Before\ngo app.loadAPIResources()\n\n// After\napp.safeGo(\"loadAPIResources\", func() {\n    app.loadAPIResources()\n})\n</code></pre> <p>Benefit: Consistent panic recovery across all background operations.</p>"},{"location":"reference/STABILITY_ANALYSIS/#priority-3-add-error-accumulation-to-newapp","title":"Priority 3: Add Error Accumulation to NewApp()","text":"<p>File: <code>pkg/ui/app.go</code></p> <p>Implementation:</p> <pre><code>func NewApp() *App {\n    var initErrs []error\n\n    cfg, err := config.LoadConfig()\n    if err != nil {\n        initErrs = append(initErrs, fmt.Errorf(\"config: %w\", err))\n        cfg = config.NewDefaultConfig()\n    }\n\n    k8sClient, err := k8s.NewClient()\n    if err != nil {\n        initErrs = append(initErrs, fmt.Errorf(\"k8s client: %w\", err))\n    }\n\n    aiClient, err := ai.NewClient(&amp;cfg.LLM)\n    if err != nil {\n        initErrs = append(initErrs, fmt.Errorf(\"ai client: %w\", err))\n    }\n\n    if len(initErrs) &gt; 0 {\n        logger.Warn(\"Initialization completed with errors\", \"errors\", errors.Join(initErrs...))\n    }\n\n    // ... rest of initialization\n}\n</code></pre> <p>Benefit: Better diagnostics and visibility into initialization issues.</p>"},{"location":"reference/STABILITY_ANALYSIS/#part-2-goroutine-lifecycle-resource-cleanup-patterns","title":"Part 2: Goroutine Lifecycle &amp; Resource Cleanup Patterns","text":""},{"location":"reference/STABILITY_ANALYSIS/#21-k9s-patterns-found","title":"2.1 k9s Patterns Found","text":""},{"location":"reference/STABILITY_ANALYSIS/#pattern-1-worker-pool-for-parallel-processing","title":"Pattern 1: Worker Pool for Parallel Processing","text":"<p>Source: <code>internal/dao/table.go</code></p> <pre><code>pool := internal.NewWorkerPool(ctx, internal.DefaultPoolSize)\nfor i := range table.Rows {\n    pool.Add(func(_ context.Context) error {\n        // Decode and process row\n        return nil\n    })\n}\nerrs := pool.Drain()\nif len(errs) &gt; 0 {\n    return nil, fmt.Errorf(\"failed to decode table rows: %w\", errs[0])\n}\n</code></pre> <p>Purpose: Distributes CPU-intensive work (JSON decoding, data transformation) across multiple goroutines with bounded concurrency.</p> <p>Benefit: - Bounded resource usage (no goroutine explosion) - Error collection (all errors reported, not just first) - Graceful cancellation via context</p>"},{"location":"reference/STABILITY_ANALYSIS/#pattern-2-context-propagation-through-component-hierarchy","title":"Pattern 2: Context Propagation Through Component Hierarchy","text":"<p>Source: <code>internal/view/pod.go</code></p> <pre><code>func (p *Pod) coContext(ctx context.Context) context.Context {\n    return context.WithValue(ctx, internal.KeyPath, p.GetTable().GetSelectedItem())\n}\n\n// Usage\nctx = p.coContext(ctx)\nerr := shellIn(a, fqn, co)\n</code></pre> <p>Purpose: Threads request-scoped data (selected item, namespace, labels) through operations without global state.</p> <p>Benefit: Operations are cancellable and traceable. No shared mutable state between concurrent operations.</p>"},{"location":"reference/STABILITY_ANALYSIS/#pattern-3-suspend-resume-lifecycle-for-blocking-operations","title":"Pattern 3: Suspend-Resume Lifecycle for Blocking Operations","text":"<p>Source: <code>internal/view/pod.go</code></p> <pre><code>c.Stop()\ndefer c.Start()\nerr = shellIn(a, fqn, co)\n</code></pre> <p>Purpose: Pauses background update loops before executing blocking operations (shell, port-forward), then resumes after.</p> <p>Benefit: Prevents concurrent modifications during interactive sessions. Clean separation of interactive vs. background modes.</p>"},{"location":"reference/STABILITY_ANALYSIS/#pattern-4-listener-based-error-notification","title":"Pattern 4: Listener-Based Error Notification","text":"<p>Source: <code>internal/model/tree.go</code></p> <pre><code>func (t *Tree) fireTreeLoadFailed(err error) {\n    for _, l := range t.listeners {\n        l.TreeLoadFailed(err)\n    }\n}\n\n// Usage\nif err := t.reconcile(ctx); err != nil {\n    slog.Error(\"Reconcile failed\", slogs.Error, err)\n    t.fireTreeLoadFailed(err)\n    return\n}\n</code></pre> <p>Purpose: Decouples model errors from view handling. Model layer reports errors to registered listeners (views).</p> <p>Benefit: Clean separation of concerns. Multiple views can react to same error differently.</p>"},{"location":"reference/STABILITY_ANALYSIS/#pattern-5-context-based-timeout-enforcement","title":"Pattern 5: Context-Based Timeout Enforcement","text":"<p>Source: <code>internal/view/pod.go</code></p> <pre><code>ctx, cancel := context.WithTimeout(context.Background(), 5*p.App().Conn().Config().CallTimeout())\ndefer cancel()\n\n// All operations use this context\nerr := shellIn(ctx, a, fqn, co)\n</code></pre> <p>Purpose: All operations have bounded execution time. No indefinite hangs.</p> <p>Benefit: Prevents resource leaks and unresponsive UI from slow/hung operations.</p>"},{"location":"reference/STABILITY_ANALYSIS/#22-k13d-current-state","title":"2.2 k13d Current State","text":""},{"location":"reference/STABILITY_ANALYSIS/#strong-points_1","title":"\u2705 Strong Points","text":"<p>1. Hybrid Watch/Polling Architecture (Superior to k9s)</p> <p>File: <code>pkg/k8s/watcher.go</code></p> <pre><code>func (w *ResourceWatcher) run(ctx context.Context) {\n    for {\n        if w.isStopped() || ctx.Err() != nil {\n            return\n        }\n\n        err := w.watchLoop(ctx)\n        if err != nil {\n            w.logger.Warn(\"Watch failed, falling back to polling\")\n            w.setState(WatchStateFallback)\n            w.pollLoop(ctx) // Automatic fallback\n        }\n    }\n}\n</code></pre> <p>Benefit: k13d has more robust watch resilience than k9s: - Automatic fallback to polling when watch fails - State tracking (Active/Fallback/Inactive) - Debouncing to prevent update storms - Periodic re-list for consistency</p> <p>2. Context Propagation Throughout Operations</p> <p>k13d consistently uses <code>context.WithTimeout()</code> for all async operations:</p> <pre><code>// pkg/ui/app_actions.go:157\nctx, cancel := context.WithTimeout(context.Background(), 30*time.Second)\ndefer cancel()\n</code></pre> <p>Found in: - Log fetching (<code>showLogs</code>) - YAML loading (<code>showYAML</code>) - Resource deletion (<code>deleteResource</code>) - API resource discovery (<code>loadAPIResources</code>) - Namespace loading (<code>loadNamespaces</code>)</p> <p>3. Watcher Lifecycle Management</p> <pre><code>// pkg/ui/app.go:2344\nfunc (a *App) startWatcher(resource, namespace string) {\n    a.watchMu.Lock()\n    defer a.watchMu.Unlock()\n\n    // Stop existing watcher\n    if a.watcher != nil {\n        a.watcher.Stop()\n    }\n    if a.watchCancel != nil {\n        a.watchCancel()\n    }\n\n    // Start new watcher\n    ctx, cancel := context.WithCancel(context.Background())\n    a.watchCancel = cancel\n\n    w := k8s.NewResourceWatcher(...)\n    w.Start(ctx)\n    a.watcher = w\n}\n</code></pre> <p>Benefit: Clean resource cleanup when switching resources. No orphaned watchers.</p>"},{"location":"reference/STABILITY_ANALYSIS/#gaps_1","title":"\u274c Gaps","text":"<p>1. No Worker Pool for Parallel Processing</p> <p>k13d processes data serially. Large tables (100+ pods) decode sequentially:</p> <pre><code>// No parallel processing - each row processed in order\nfor _, row := range rows {\n    // Parse and render row\n}\n</code></pre> <p>Impact: Slow rendering for large resource lists. Main goroutine blocked during data processing.</p> <p>2. No Formal Start/Stop Lifecycle Pattern</p> <p>k13d lacks a structured component lifecycle. No consistent <code>Start()</code>/<code>Stop()</code> methods.</p> <p>Impact: Hard to reason about component state. Cleanup logic is ad-hoc.</p> <p>3. No Listener Pattern for Error Notification</p> <p>Errors are logged directly rather than propagated to interested components:</p> <pre><code>if err != nil {\n    a.logger.Warn(\"Failed to load API resources\", \"error\", err)\n    // No notification to UI layer\n}\n</code></pre> <p>Impact: UI can't react to errors (e.g., show warning icon when API discovery fails).</p> <p>4. No Suspend/Resume for Blocking Operations</p> <p>Background updates continue during interactive operations (modal dialogs, AI approval prompts).</p> <p>Impact: Potential race conditions. Table might refresh while user is reading a row.</p>"},{"location":"reference/STABILITY_ANALYSIS/#23-recommendations","title":"2.3 Recommendations","text":""},{"location":"reference/STABILITY_ANALYSIS/#priority-1-add-worker-pool-for-table-rendering","title":"Priority 1: Add Worker Pool for Table Rendering","text":"<p>File: <code>pkg/ui/app.go</code> (new utility)</p> <p>Implementation:</p> <pre><code>// pkg/ui/worker_pool.go\ntype WorkerPool struct {\n    wg     sync.WaitGroup\n    ctx    context.Context\n    errMu  sync.Mutex\n    errors []error\n}\n\nfunc NewWorkerPool(ctx context.Context, size int) *WorkerPool {\n    return &amp;WorkerPool{ctx: ctx}\n}\n\nfunc (p *WorkerPool) Add(fn func() error) {\n    p.wg.Add(1)\n    go func() {\n        defer p.wg.Done()\n        if err := fn(); err != nil {\n            p.errMu.Lock()\n            p.errors = append(p.errors, err)\n            p.errMu.Unlock()\n        }\n    }()\n}\n\nfunc (p *WorkerPool) Wait() []error {\n    p.wg.Wait()\n    return p.errors\n}\n</code></pre> <p>Usage in table rendering:</p> <pre><code>pool := NewWorkerPool(ctx, 10)\nfor i, row := range rows {\n    i, row := i, row // Capture loop vars\n    pool.Add(func() error {\n        processedRow := processRow(row)\n        // Thread-safe append to results\n        return nil\n    })\n}\nif errs := pool.Wait(); len(errs) &gt; 0 {\n    a.logger.Warn(\"Row processing errors\", \"count\", len(errs))\n}\n</code></pre> <p>Benefit: 5-10x faster rendering for large tables on multi-core systems.</p>"},{"location":"reference/STABILITY_ANALYSIS/#priority-2-implement-startstop-lifecycle-pattern","title":"Priority 2: Implement Start/Stop Lifecycle Pattern","text":"<p>Files: <code>pkg/ui/app.go</code>, <code>pkg/ui/dashboard.go</code></p> <p>Pattern:</p> <pre><code>type Lifecycle interface {\n    Start(ctx context.Context) error\n    Stop() error\n}\n\nfunc (a *App) Start(ctx context.Context) error {\n    atomic.StoreInt32(&amp;a.running, 1)\n\n    // Start background services\n    a.startWatcher(a.currentResource, a.currentNamespace)\n    a.startAPIResourceLoader()\n\n    return nil\n}\n\nfunc (a *App) Stop() error {\n    atomic.StoreInt32(&amp;a.stopping, 1)\n\n    // Stop all background services\n    if a.watchCancel != nil {\n        a.watchCancel()\n    }\n\n    // Wait for graceful shutdown (with timeout)\n    ctx, cancel := context.WithTimeout(context.Background(), 5*time.Second)\n    defer cancel()\n\n    // Wait for in-flight operations\n    // ... (use WaitGroup to track)\n\n    return nil\n}\n</code></pre> <p>Benefit: Structured initialization and cleanup. Easier to test and reason about.</p>"},{"location":"reference/STABILITY_ANALYSIS/#priority-3-add-listener-pattern-for-error-events","title":"Priority 3: Add Listener Pattern for Error Events","text":"<p>File: <code>pkg/ui/app.go</code></p> <p>Implementation:</p> <pre><code>type ErrorListener interface {\n    OnError(source string, err error)\n}\n\ntype App struct {\n    // ...\n    errorListeners []ErrorListener\n}\n\nfunc (a *App) RegisterErrorListener(l ErrorListener) {\n    a.errorListeners = append(a.errorListeners, l)\n}\n\nfunc (a *App) notifyError(source string, err error) {\n    for _, l := range a.errorListeners {\n        l.OnError(source, err)\n    }\n}\n\n// Usage\nif err := a.k8s.GetAPIResources(ctx); err != nil {\n    a.logger.Warn(\"API discovery failed\", \"error\", err)\n    a.notifyError(\"api-discovery\", err)\n}\n</code></pre> <p>UI listener:</p> <pre><code>func (a *App) OnError(source string, err error) {\n    // Show warning icon in header\n    a.QueueUpdateDraw(func() {\n        a.header.SetText(fmt.Sprintf(\"[yellow]\u26a0[white] %s\", a.currentResource))\n    })\n}\n</code></pre> <p>Benefit: Decoupled error handling. UI can react to errors without tight coupling.</p>"},{"location":"reference/STABILITY_ANALYSIS/#priority-4-add-suspendresume-for-interactive-operations","title":"Priority 4: Add Suspend/Resume for Interactive Operations","text":"<p>File: <code>pkg/ui/app.go</code></p> <p>Implementation:</p> <pre><code>func (a *App) Suspend() {\n    // Stop background updates\n    if a.watcher != nil {\n        a.watcher.Pause() // New method\n    }\n}\n\nfunc (a *App) Resume() {\n    // Resume background updates\n    if a.watcher != nil {\n        a.watcher.Resume() // New method\n    }\n}\n\n// Usage in modal dialogs\nfunc (a *App) showModal(name string, p tview.Primitive, resize bool) {\n    a.Suspend()\n    a.pages.AddPage(name, p, resize, true)\n}\n\nfunc (a *App) closeModal(name string) {\n    a.pages.RemovePage(name)\n    a.Resume()\n}\n</code></pre> <p>Benefit: Prevents race conditions during user interactions.</p>"},{"location":"reference/STABILITY_ANALYSIS/#part-3-priority-roadmap","title":"Part 3: Priority Roadmap","text":""},{"location":"reference/STABILITY_ANALYSIS/#phase-1-critical-safety-week-1-2","title":"Phase 1: Critical Safety (Week 1-2)","text":"<p>Goal: Prevent crashes and data corruption</p> Task File(s) Effort Impact Add top-level panic recovery <code>cmd/kube-ai-dashboard-cli/main.go</code> 1h High Wrap all goroutines with <code>safeGo()</code> <code>pkg/ui/app.go</code>, <code>pkg/ui/briefing.go</code> 2h High Add error accumulation to <code>NewApp()</code> <code>pkg/ui/app.go</code> 2h Medium <p>Success Criteria: - \u2705 No panics crash the application - \u2705 All initialization errors visible in logs - \u2705 All goroutines have panic recovery</p>"},{"location":"reference/STABILITY_ANALYSIS/#phase-2-resource-management-week-3-4","title":"Phase 2: Resource Management (Week 3-4)","text":"<p>Goal: Clean lifecycle management and resource cleanup</p> Task File(s) Effort Impact Implement Start/Stop lifecycle <code>pkg/ui/app.go</code> 4h Medium Add Suspend/Resume for modals <code>pkg/ui/app.go</code> 3h Medium Add WaitGroup for graceful shutdown <code>pkg/ui/app.go</code> 3h High <p>Success Criteria: - \u2705 Clean shutdown with no goroutine leaks - \u2705 No race conditions during modal interactions - \u2705 All background operations stop within 5s of shutdown</p>"},{"location":"reference/STABILITY_ANALYSIS/#phase-3-performance-week-5-6","title":"Phase 3: Performance (Week 5-6)","text":"<p>Goal: Faster rendering and better responsiveness</p> Task File(s) Effort Impact Implement worker pool <code>pkg/ui/worker_pool.go</code> 4h High Parallelize table rendering <code>pkg/ui/app.go</code> 3h High Add connection state cache <code>pkg/k8s/client.go</code> 2h Medium <p>Success Criteria: - \u2705 5-10x faster rendering for 100+ row tables - \u2705 UI remains responsive during data processing - \u2705 Reduced API call volume via caching</p>"},{"location":"reference/STABILITY_ANALYSIS/#phase-4-observability-week-7-8","title":"Phase 4: Observability (Week 7-8)","text":"<p>Goal: Better error visibility and diagnostics</p> Task File(s) Effort Impact Add error listener pattern <code>pkg/ui/app.go</code> 3h Medium UI error indicators <code>pkg/ui/header.go</code> 2h Low Structured error logging <code>pkg/ui/app.go</code> 2h Medium <p>Success Criteria: - \u2705 All errors visible in UI (not just logs) - \u2705 Structured logs with context (resource, namespace, operation) - \u2705 Metrics for error rates</p>"},{"location":"reference/STABILITY_ANALYSIS/#part-4-comparative-strengths","title":"Part 4: Comparative Strengths","text":""},{"location":"reference/STABILITY_ANALYSIS/#where-k13d-exceeds-k9s","title":"Where k13d Exceeds k9s","text":"<ol> <li>Panic Recovery Wrapper (<code>safeGo</code>)</li> <li>k9s: No wrapper, goroutines can crash app</li> <li> <p>k13d: Consistent panic recovery with logging</p> </li> <li> <p>Hybrid Watch/Poll Architecture</p> </li> <li>k9s: Simple watch with no fallback</li> <li> <p>k13d: Automatic fallback to polling, state tracking, debouncing</p> </li> <li> <p>Context Cancellation</p> </li> <li>k9s: Inconsistent context usage</li> <li> <p>k13d: Context timeouts on all async operations</p> </li> <li> <p>Atomic Guards</p> </li> <li>k9s: Basic <code>inUpdate</code> guard</li> <li>k13d: Multiple atomics for fine-grained concurrency control</li> </ol>"},{"location":"reference/STABILITY_ANALYSIS/#where-k9s-exceeds-k13d","title":"Where k9s Exceeds k13d","text":"<ol> <li>Top-Level Panic Recovery</li> <li>k9s: Entry point protected</li> <li> <p>k13d: Missing</p> </li> <li> <p>Worker Pools</p> </li> <li>k9s: Bounded parallelism for data processing</li> <li> <p>k13d: Serial processing</p> </li> <li> <p>Error Accumulation</p> </li> <li>k9s: <code>errors.Join()</code> for multi-phase init</li> <li> <p>k13d: Fail-fast</p> </li> <li> <p>Structured Lifecycle</p> </li> <li>k9s: Implicit Start/Stop patterns</li> <li>k13d: Ad-hoc cleanup</li> </ol>"},{"location":"reference/STABILITY_ANALYSIS/#part-5-testing-strategy","title":"Part 5: Testing Strategy","text":""},{"location":"reference/STABILITY_ANALYSIS/#51-stability-tests-to-add","title":"5.1 Stability Tests to Add","text":""},{"location":"reference/STABILITY_ANALYSIS/#test-1-panic-recovery-in-main","title":"Test 1: Panic Recovery in Main","text":"<p>File: <code>cmd/kube-ai-dashboard-cli/main_test.go</code></p> <pre><code>func TestMainPanicRecovery(t *testing.T) {\n    // Inject panic-inducing code\n    oldExecute := cmd.Execute\n    cmd.Execute = func() error {\n        panic(\"test panic\")\n    }\n    defer func() { cmd.Execute = oldExecute }()\n\n    // Should not crash, should exit with code 1\n    // (requires test harness that captures os.Exit)\n}\n</code></pre>"},{"location":"reference/STABILITY_ANALYSIS/#test-2-goroutine-leak-detection","title":"Test 2: Goroutine Leak Detection","text":"<p>File: <code>pkg/ui/app_test.go</code></p> <pre><code>func TestNoGoroutineLeaks(t *testing.T) {\n    before := runtime.NumGoroutine()\n\n    app := NewApp()\n    app.Start(context.Background())\n    time.Sleep(1 * time.Second)\n    app.Stop()\n\n    time.Sleep(100 * time.Millisecond) // Allow cleanup\n    after := runtime.NumGoroutine()\n\n    leaked := after - before\n    if leaked &gt; 2 { // Allow small variance\n        t.Errorf(\"Goroutine leak detected: %d leaked\", leaked)\n    }\n}\n</code></pre>"},{"location":"reference/STABILITY_ANALYSIS/#test-3-watcher-cleanup-on-resource-switch","title":"Test 3: Watcher Cleanup on Resource Switch","text":"<p>File: <code>pkg/ui/app_test.go</code></p> <pre><code>func TestWatcherCleanupOnResourceSwitch(t *testing.T) {\n    app := NewApp()\n\n    // Start watching pods\n    app.setResource(\"pods\")\n    time.Sleep(100 * time.Millisecond)\n    watcher1 := app.watcher\n\n    // Switch to deployments\n    app.setResource(\"deployments\")\n    time.Sleep(100 * time.Millisecond)\n    watcher2 := app.watcher\n\n    // Old watcher should be stopped\n    if watcher1.State() != k8s.WatchStateInactive {\n        t.Error(\"Old watcher not stopped\")\n    }\n\n    // New watcher should be active\n    if watcher2.State() != k8s.WatchStateActive {\n        t.Error(\"New watcher not started\")\n    }\n}\n</code></pre>"},{"location":"reference/STABILITY_ANALYSIS/#test-4-error-accumulation-in-newapp","title":"Test 4: Error Accumulation in NewApp","text":"<p>File: <code>pkg/ui/app_test.go</code></p> <pre><code>func TestNewAppErrorAccumulation(t *testing.T) {\n    // Mock all dependencies to return errors\n    // ... (requires dependency injection)\n\n    app := NewApp()\n\n    // App should still be created\n    if app == nil {\n        t.Fatal(\"App should be created despite errors\")\n    }\n\n    // Errors should be logged\n    // ... (capture logs and verify)\n}\n</code></pre>"},{"location":"reference/STABILITY_ANALYSIS/#52-integration-tests","title":"5.2 Integration Tests","text":""},{"location":"reference/STABILITY_ANALYSIS/#test-5-rapid-resource-switching","title":"Test 5: Rapid Resource Switching","text":"<p>File: <code>pkg/ui/app_integration_test.go</code></p> <pre><code>func TestRapidResourceSwitching(t *testing.T) {\n    app := NewApp()\n    app.Start(context.Background())\n    defer app.Stop()\n\n    resources := []string{\"pods\", \"deployments\", \"services\", \"nodes\"}\n\n    // Rapid switching (stress test)\n    for i := 0; i &lt; 100; i++ {\n        resource := resources[i%len(resources)]\n        app.setResource(resource)\n        time.Sleep(10 * time.Millisecond)\n    }\n\n    // Should not crash, should not leak resources\n    // ... (check for panics, goroutine leaks, memory growth)\n}\n</code></pre>"},{"location":"reference/STABILITY_ANALYSIS/#part-6-references","title":"Part 6: References","text":""},{"location":"reference/STABILITY_ANALYSIS/#k9s-source-files-analyzed","title":"k9s Source Files Analyzed","text":"<ul> <li><code>cmd/root.go</code> - Main entry point with top-level panic recovery</li> <li><code>internal/ui/app.go</code> - Application lifecycle and UI management</li> <li><code>internal/view/app.go</code> - View layer error handling</li> <li><code>internal/model/tree.go</code> - Model layer error propagation</li> <li><code>internal/model/table.go</code> - Goroutine lifecycle and worker pools</li> <li><code>internal/dao/generic.go</code> - Data access error handling</li> <li><code>internal/dao/table.go</code> - Worker pool implementation</li> <li><code>internal/client/client.go</code> - Connection management and panic recovery</li> <li><code>internal/view/pod.go</code> - Context propagation and suspend/resume</li> <li><code>internal/config/k9s.go</code> - Configuration management patterns</li> </ul>"},{"location":"reference/STABILITY_ANALYSIS/#k13d-source-files-analyzed","title":"k13d Source Files Analyzed","text":"<ul> <li><code>cmd/kube-ai-dashboard-cli/main.go</code> - Main entry point</li> <li><code>pkg/ui/app.go</code> - Application state and safeGo wrapper</li> <li><code>pkg/ui/app_actions.go</code> - Action handlers with context timeouts</li> <li><code>pkg/ui/app_navigation.go</code> - Navigation and state transitions</li> <li><code>pkg/k8s/watcher.go</code> - Hybrid watch/poll implementation</li> <li><code>pkg/k8s/client.go</code> - Kubernetes client wrapper</li> </ul>"},{"location":"reference/STABILITY_ANALYSIS/#external-resources","title":"External Resources","text":"<ul> <li>k9s GitHub Repository</li> <li>Go Concurrency Patterns</li> <li>Effective Go: Defer, Panic, Recover</li> </ul>"},{"location":"reference/STABILITY_ANALYSIS/#part-7-conclusion","title":"Part 7: Conclusion","text":"<p>k13d demonstrates strong stability fundamentals with superior patterns in several areas (panic recovery wrapper, hybrid watch architecture, context propagation). However, adopting k9s patterns for top-level panic recovery, worker pools, and structured lifecycle management will bring k13d to enterprise production readiness.</p> <p>Recommended Timeline: - Phase 1 (Critical Safety): 2 weeks - Phase 2 (Resource Management): 2 weeks - Phase 3 (Performance): 2 weeks - Phase 4 (Observability): 2 weeks</p> <p>Total Effort: ~8 weeks for full implementation of all recommendations.</p> <p>Next Steps: 1. Review and approve this analysis 2. Create implementation tickets for Phase 1 3. Begin implementation with top-level panic recovery 4. Add tests as each pattern is implemented 5. Measure impact (crash rate, performance, resource usage)</p> <p>Document Metadata: - Author: k9s Research Team (AI Agent) - Reviewers: TBD - Approval: Pending - Implementation Status: Not Started</p>"},{"location":"reference/STABILITY_ARCHITECTURE/","title":"k13d Stability Architecture","text":"<p>This document describes the internal stability patterns that ensure k13d operates reliably in production environments. It serves as a guide for contributors and maintainers working on the TUI codebase.</p>"},{"location":"reference/STABILITY_ARCHITECTURE/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Lock Ordering Convention</li> <li>Goroutine Lifecycle</li> <li>Error Recovery Strategy</li> <li>Watcher &amp; Refresh Synchronization</li> <li>Shutdown Sequence</li> <li>Thread-Safe UI Updates</li> </ul>"},{"location":"reference/STABILITY_ARCHITECTURE/#lock-ordering-convention","title":"Lock Ordering Convention","text":"<p>k13d uses multiple mutexes to protect concurrent access to shared state. Lock ordering is critical to prevent deadlocks.</p>"},{"location":"reference/STABILITY_ARCHITECTURE/#lock-hierarchy-must-follow-this-order","title":"Lock Hierarchy (Must Follow This Order)","text":"<pre><code>watchMu \u2192 navMx \u2192 mx\n</code></pre> <p>Rule: Always acquire locks from left to right. Never nest locks in reverse order.</p>"},{"location":"reference/STABILITY_ARCHITECTURE/#lock-definitions","title":"Lock Definitions","text":"Lock Type Purpose Scope <code>watchMu</code> <code>sync.Mutex</code> Protects watcher lifecycle (start/stop) <code>pkg/ui/app.go</code> <code>navMx</code> <code>sync.Mutex</code> Protects navigation stack (back/forward history) <code>pkg/ui/app.go</code> <code>mx</code> <code>sync.RWMutex</code> Protects app state (resource, namespace, filters, sorts) <code>pkg/ui/app.go</code> <code>pfMx</code> <code>sync.Mutex</code> Protects port-forward tracking <code>pkg/ui/app.go</code> <code>aiMx</code> <code>sync.RWMutex</code> Protects AI decision approval state <code>pkg/ui/app.go</code> <code>cancelLock</code> <code>sync.Mutex</code> Protects context cancellation <code>pkg/ui/app.go</code>"},{"location":"reference/STABILITY_ARCHITECTURE/#lock-ordering-examples","title":"Lock Ordering Examples","text":""},{"location":"reference/STABILITY_ARCHITECTURE/#correct-watchmu-mx","title":"\u2705 Correct: watchMu \u2192 mx","text":"<pre><code>func (a *App) startWatch() {\n    a.watchMu.Lock()\n    defer a.watchMu.Unlock()\n\n    // Later acquire mx (allowed: watchMu before mx)\n    a.mx.RLock()\n    resource := a.currentResource\n    a.mx.RUnlock()\n\n    // ... start watcher ...\n}\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#wrong-mx-watchmu-deadlock-risk","title":"\u274c WRONG: mx \u2192 watchMu (Deadlock Risk!)","text":"<pre><code>// NEVER DO THIS - violates lock ordering\nfunc badFunction() {\n    a.mx.Lock()              // Acquire mx first\n    a.watchMu.Lock()         // Then watchMu - WRONG ORDER!\n    // ...\n}\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#the-navigateto-centralized-state-transition","title":"The <code>navigateTo()</code> Centralized State Transition","text":"<p><code>navigateTo()</code> is the single entry point for all resource/namespace transitions. It enforces the lock ordering convention:</p> <pre><code>func (a *App) navigateTo(resource, namespace, filter string) {\n    // 1. Stop watch first (watchMu)\n    a.stopWatch()\n\n    // 2. Update state (mx)\n    a.mx.Lock()\n    a.currentResource = resource\n    a.currentNamespace = namespace\n    a.filterText = filter\n    a.sortColumn = -1\n    a.sortAscending = true\n    a.mx.Unlock()\n\n    // 3. Refresh and start new watch (no locks held)\n    a.safeGo(\"navigateTo-refresh\", func() {\n        a.updateHeader()\n        a.updateStatusBar()\n        a.refresh()\n        a.startWatch() // Start watch for new resource\n    })\n}\n</code></pre> <p>Why this works: 1. <code>stopWatch()</code> acquires <code>watchMu</code> alone 2. State mutation acquires <code>mx</code> after <code>watchMu</code> is released 3. <code>startWatch()</code> runs in goroutine, acquiring <code>watchMu</code> again (no deadlock risk)</p>"},{"location":"reference/STABILITY_ARCHITECTURE/#goroutine-lifecycle","title":"Goroutine Lifecycle","text":"<p>k13d uses goroutines extensively for async operations. All goroutines use the <code>safeGo()</code> wrapper for panic recovery.</p>"},{"location":"reference/STABILITY_ARCHITECTURE/#the-safego-pattern-k9s-rune-pattern","title":"The <code>safeGo()</code> Pattern (k9s RunE Pattern)","text":"<pre><code>// safeGo wraps goroutines with panic recovery\nfunc (a *App) safeGo(name string, fn func()) {\n    go func() {\n        defer func() {\n            if r := recover(); r != nil {\n                a.logger.Error(\"goroutine panic recovered\",\n                    \"name\", name,\n                    \"error\", r,\n                    \"stack\", string(debug.Stack()))\n                a.flashMsg(fmt.Sprintf(\"Internal error in %s. The operation has been recovered. Please try again or check logs for details.\", name), true)\n            }\n        }()\n        fn()\n    }()\n}\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#goroutine-usage-examples","title":"Goroutine Usage Examples","text":"<pre><code>// Resource loading\na.safeGo(\"loadAPIResources\", a.loadAPIResources)\n\n// AI queries\na.safeGo(\"askAI\", func() {\n    a.askAI(question)\n})\n\n// Refresh after mutation\na.safeGo(\"refresh-after-execute\", a.refresh)\n</code></pre> <p>Key Points: - Always use <code>safeGo()</code> instead of raw <code>go</code> statements - Provide descriptive names for debugging (shows in logs) - Panics are logged with full stack trace - User sees friendly error message in TUI</p>"},{"location":"reference/STABILITY_ARCHITECTURE/#context-propagation-and-cancellation","title":"Context Propagation and Cancellation","text":"<p>Use <code>context.WithCancel</code> or <code>context.WithTimeout</code> for operations that need to be aborted:</p> <pre><code>a.safeGo(\"editResource-fetch\", func() {\n    ctx, cancel := context.WithTimeout(context.Background(), 10*time.Second)\n    defer cancel()\n\n    yaml, err := a.k8s.GetResourceYAML(ctx, ns, name, gvr)\n    if ctx.Err() != nil {\n        a.logger.Debug(\"Fetch cancelled\", \"resource\", resource)\n        return // Silent return on cancellation\n    }\n    // ... use yaml ...\n})\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#atomic-guards-lock-free-coordination","title":"Atomic Guards (Lock-Free Coordination)","text":"<p>k13d uses <code>sync/atomic</code> for lightweight state checks without mutexes:</p> Atomic Flag Purpose <code>stopping</code> Set to 1 immediately when <code>Stop()</code> is called <code>running</code> Set to 1 after <code>Application.Run()</code> starts <code>inUpdate</code> Deduplicates concurrent refresh() calls <code>hasToolCall</code> Tracks pending AI tool approvals <code>needsSync</code> Triggers full terminal re-sync <p>Example:</p> <pre><code>func (a *App) refresh() {\n    // Prevent duplicate concurrent refreshes\n    if !atomic.CompareAndSwapInt32(&amp;a.inUpdate, 0, 1) {\n        return // Already refreshing\n    }\n    defer atomic.StoreInt32(&amp;a.inUpdate, 0)\n\n    // Check if shutting down\n    if atomic.LoadInt32(&amp;a.stopping) == 1 {\n        return\n    }\n\n    // ... perform refresh ...\n}\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#error-recovery-strategy","title":"Error Recovery Strategy","text":"<p>k13d uses a multi-layered approach to error handling:</p>"},{"location":"reference/STABILITY_ARCHITECTURE/#1-panic-recovery-safego","title":"1. Panic Recovery (safeGo)","text":"<p>All goroutines recover from panics:</p> <pre><code>a.safeGo(\"operation\", func() {\n    // If this panics, it's caught by safeGo's defer/recover\n    dangerousOperation()\n})\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#2-kubernetes-api-failure-handling","title":"2. Kubernetes API Failure Handling","text":"<p>Use exponential backoff for transient failures:</p> <pre><code>func (a *App) refresh() {\n    b := backoff.NewExponentialBackOff()\n    b.MaxElapsedTime = 30 * time.Second\n\n    var pods []k8s.Pod\n    err := backoff.Retry(func() error {\n        var err error\n        pods, err = a.k8s.ListPods(ctx, namespace)\n        return err\n    }, b)\n\n    if err != nil {\n        if ctx.Err() != nil {\n            // Context cancelled - silently return\n            return\n        }\n        // Real error - show to user\n        a.flashMsg(fmt.Sprintf(\"Failed to load pods: %v\", err), true)\n        return\n    }\n    // ... populate table ...\n}\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#3-graceful-degradation","title":"3. Graceful Degradation","text":"<p>When non-critical features fail, continue operation:</p> <pre><code>// AI client initialization failure - continue without AI\nnewClient, err := ai.NewClient(&amp;a.config.LLM)\nif err != nil {\n    a.logger.Warn(\"AI client init failed\", \"error\", err)\n    a.aiClient = nil // Disable AI, but TUI still works\n} else {\n    a.aiClient = newClient\n}\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#4-user-friendly-error-messages","title":"4. User-Friendly Error Messages","text":"<p>Always provide actionable error messages:</p> <pre><code>// \u274c BAD: Generic, unhelpful\na.flashMsg(\"Error: %v\", err)\n\n// \u2705 GOOD: Specific, actionable\na.flashMsg(fmt.Sprintf(\"Failed to load %s: %v. Check cluster connectivity and permissions.\", resource, err), true)\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#watcher-refresh-synchronization","title":"Watcher &amp; Refresh Synchronization","text":"<p>k13d uses Kubernetes watch API for real-time resource updates. The watch/refresh cycle is carefully synchronized to avoid race conditions.</p>"},{"location":"reference/STABILITY_ARCHITECTURE/#watch-debounce-onchange-refresh-flow","title":"Watch \u2192 Debounce \u2192 onChange \u2192 Refresh Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   K8s API    \u2502\n\u2502   Watch      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u2502 Resource changed event\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  ResourceWatcher \u2502\n\u2502   (debounced)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u2502 onChange callback (100ms debounce)\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 a.refresh()  \u2502 \u2190 Fetches latest data and updates table\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#debouncing-k9s-pattern","title":"Debouncing (k9s Pattern)","text":"<p>Rapid K8s API events are debounced to avoid UI thrashing:</p> <pre><code>type ResourceWatcher struct {\n    debounce time.Duration // Default: 100ms\n    timer    *time.Timer\n}\n\nfunc (w *ResourceWatcher) eventLoop(ctx context.Context) {\n    for event := range w.eventChan {\n        // Reset timer on each event\n        w.timer.Reset(w.debounce)\n    }\n}\n\nfunc (w *ResourceWatcher) debounceLoop(ctx context.Context) {\n    for {\n        select {\n        case &lt;-w.timer.C:\n            w.onChange() // Call callback after debounce period\n        case &lt;-ctx.Done():\n            return\n        }\n    }\n}\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#stop-guard-with-isstopped","title":"Stop Guard with <code>isStopped()</code>","text":"<p>The watcher checks if it's been stopped before invoking callbacks:</p> <pre><code>func (w *ResourceWatcher) isStopped() bool {\n    w.mu.RLock()\n    defer w.mu.RUnlock()\n    return w.stopped\n}\n\nfunc (w *ResourceWatcher) debounceLoop(ctx context.Context) {\n    for {\n        select {\n        case &lt;-w.timer.C:\n            if !w.isStopped() {\n                w.onChange()\n            }\n        case &lt;-ctx.Done():\n            return\n        }\n    }\n}\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#resource-switch-sequence","title":"Resource Switch Sequence","text":"<p>When switching resources (e.g., <code>:pods</code> \u2192 <code>:svc</code>):</p> <pre><code>1. stopWatch()      \u2192 Cancel old watcher context\n                    \u2192 Set watcher.stopped = true\n                    \u2192 Drain remaining events\n\n2. State change     \u2192 Update currentResource, currentNamespace\n                    \u2192 Reset filters, sorts\n\n3. startWatch()     \u2192 Create new watcher for new resource\n                    \u2192 Start new watch goroutines\n</code></pre> <p>Critical: Always call <code>stopWatch()</code> before changing state to prevent stale events from updating the wrong resource view.</p>"},{"location":"reference/STABILITY_ARCHITECTURE/#shutdown-sequence","title":"Shutdown Sequence","text":"<p>k13d follows a graceful shutdown sequence to avoid resource leaks and crashes.</p>"},{"location":"reference/STABILITY_ARCHITECTURE/#shutdown-flow","title":"Shutdown Flow","text":"<pre><code>User presses 'q'\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 1. Set stopping = 1 (atomic)         \u2502 \u2190 Prevent new operations\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 2. Cancel in-flight operations       \u2502 \u2190 Call cancelFn()\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 3. Stop watcher (stopWatch)          \u2502 \u2190 Cancel watch context\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 4. Cleanup resources                 \u2502 \u2190 Close channels, stop goroutines\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 5. tview.Application.Stop()          \u2502 \u2190 Exit event loop\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#shutdown-code","title":"Shutdown Code","text":"<pre><code>func (a *App) Stop() {\n    // 1. Set atomic flag immediately (guards against new operations)\n    atomic.StoreInt32(&amp;a.stopping, 1)\n\n    // 2. Cancel all in-flight contexts\n    a.cancelLock.Lock()\n    if a.cancelFn != nil {\n        a.cancelFn()\n    }\n    a.cancelLock.Unlock()\n\n    // 3. Stop watcher\n    a.stopWatch()\n\n    // 4. Stop tview application (blocks until event loop exits)\n    if a.Application != nil {\n        a.Application.Stop()\n    }\n}\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#checking-for-shutdown-in-operations","title":"Checking for Shutdown in Operations","text":"<p>All long-running operations check the <code>stopping</code> flag:</p> <pre><code>func (a *App) refresh() {\n    // Exit early if shutting down\n    if atomic.LoadInt32(&amp;a.stopping) == 1 {\n        return\n    }\n\n    // Prevent duplicate refreshes\n    if !atomic.CompareAndSwapInt32(&amp;a.inUpdate, 0, 1) {\n        return\n    }\n    defer atomic.StoreInt32(&amp;a.inUpdate, 0)\n\n    // ... perform refresh ...\n}\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#avoiding-deadlocks-on-shutdown","title":"Avoiding Deadlocks on Shutdown","text":"<p>Problem: Goroutines blocking on mutexes during shutdown.</p> <p>Solution: Use atomic flags (<code>stopping</code>) to exit early before acquiring locks:</p> <pre><code>func (a *App) startWatch() {\n    // Check stopping flag BEFORE acquiring watchMu\n    if atomic.LoadInt32(&amp;a.stopping) == 1 {\n        return\n    }\n\n    a.watchMu.Lock()\n    defer a.watchMu.Unlock()\n    // ... start watch ...\n}\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#thread-safe-ui-updates","title":"Thread-Safe UI Updates","text":"<p>tview is not thread-safe. All UI updates from goroutines must go through <code>QueueUpdateDraw()</code>.</p>"},{"location":"reference/STABILITY_ARCHITECTURE/#queueupdatedraw-pattern","title":"QueueUpdateDraw Pattern","text":"<pre><code>// From a goroutine (e.g., safeGo callback)\na.safeGo(\"fetchData\", func() {\n    data := fetchData() // Background operation\n\n    // Update UI on main thread\n    a.QueueUpdateDraw(func() {\n        a.table.SetCell(0, 0, tview.NewTableCell(data))\n    })\n})\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#queueupdatedraw-implementation","title":"QueueUpdateDraw Implementation","text":"<pre><code>func (a *App) QueueUpdateDraw(f func()) {\n    // Guard: Don't queue if stopping or app is nil\n    if a.Application == nil || atomic.LoadInt32(&amp;a.stopping) == 1 {\n        return\n    }\n\n    // IMPORTANT: Run in goroutine to avoid deadlock when called from input handlers\n    go func() {\n        a.Application.QueueUpdateDraw(f)\n    }()\n}\n</code></pre> <p>Why the extra goroutine?</p> <p>tview's <code>QueueUpdateDraw</code> can block if called from within an input handler (because the event loop is waiting for the handler to return). Wrapping it in a goroutine makes it non-blocking.</p>"},{"location":"reference/STABILITY_ARCHITECTURE/#direct-update-queueupdatedrawdirect","title":"Direct Update (queueUpdateDrawDirect)","text":"<p>Use when already outside the event loop (e.g., from <code>safeGo</code> callback):</p> <pre><code>func (a *App) queueUpdateDrawDirect(f func()) {\n    if a.Application == nil || atomic.LoadInt32(&amp;a.stopping) == 1 {\n        return\n    }\n    a.Application.QueueUpdateDraw(f) // No extra goroutine needed\n}\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#ai-streaming-updates-throttled","title":"AI Streaming Updates (Throttled)","text":"<p>AI responses stream token-by-token. Throttle updates to avoid UI thrashing:</p> <pre><code>func (a *App) appendAIResponse(text string) {\n    now := time.Now().UnixNano()\n    last := atomic.LoadInt64(&amp;a.lastAIDraw)\n\n    // Throttle: Only update UI every 50ms\n    if now-last &lt; 50*time.Millisecond.Nanoseconds() {\n        return\n    }\n\n    if atomic.CompareAndSwapInt64(&amp;a.lastAIDraw, last, now) {\n        a.QueueUpdateDraw(func() {\n            // Update AI panel with new text\n            a.aiPanel.SetText(a.aiPanel.GetText(true) + text)\n        })\n    }\n}\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#testing-stability","title":"Testing Stability","text":"<p>k13d includes regression tests for stability patterns:</p>"},{"location":"reference/STABILITY_ARCHITECTURE/#test-files","title":"Test Files","text":"File Purpose <code>pkg/ui/stability_regression_test.go</code> Tests deadlock scenarios, lock ordering, shutdown <code>pkg/ui/feature_test.go</code> E2E tests with concurrency checks <code>pkg/ui/golden_test.go</code> Screen snapshot tests"},{"location":"reference/STABILITY_ARCHITECTURE/#running-stability-tests","title":"Running Stability Tests","text":"<pre><code># Always use -race flag for TUI tests\ngo test -race ./pkg/ui/ -run Stability\n\n# Check for deadlocks\ngo test -race -timeout=10s ./pkg/ui/ -run TestNavigationDeadlock\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#example-testing-lock-ordering","title":"Example: Testing Lock Ordering","text":"<pre><code>func TestNavigationDeadlock(t *testing.T) {\n    app := NewTestApp()\n    defer app.Stop()\n\n    // Spawn 100 concurrent navigations\n    var wg sync.WaitGroup\n    for i := 0; i &lt; 100; i++ {\n        wg.Add(1)\n        go func(idx int) {\n            defer wg.Done()\n            resource := []string{\"pods\", \"svc\", \"deploy\"}[idx%3]\n            app.navigateTo(resource, \"\", \"\")\n        }(i)\n    }\n\n    // Should complete without deadlock\n    done := make(chan struct{})\n    go func() {\n        wg.Wait()\n        close(done)\n    }()\n\n    select {\n    case &lt;-done:\n        // Success\n    case &lt;-time.After(5 * time.Second):\n        t.Fatal(\"Deadlock detected: navigation did not complete\")\n    }\n}\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#common-pitfalls-solutions","title":"Common Pitfalls &amp; Solutions","text":""},{"location":"reference/STABILITY_ARCHITECTURE/#pitfall-1-acquiring-locks-in-wrong-order","title":"Pitfall 1: Acquiring Locks in Wrong Order","text":"<p>Problem: <pre><code>func badFunction() {\n    a.mx.Lock()      // Acquire mx first\n    a.watchMu.Lock() // Then watchMu - WRONG!\n}\n</code></pre></p> <p>Solution: Follow the lock hierarchy: <code>watchMu \u2192 navMx \u2192 mx</code></p>"},{"location":"reference/STABILITY_ARCHITECTURE/#pitfall-2-forgetting-to-release-locks","title":"Pitfall 2: Forgetting to Release Locks","text":"<p>Problem: <pre><code>func badFunction() {\n    a.mx.Lock()\n    if err != nil {\n        return // OOPS: forgot to unlock!\n    }\n    a.mx.Unlock()\n}\n</code></pre></p> <p>Solution: Always use <code>defer</code>: <pre><code>func goodFunction() {\n    a.mx.Lock()\n    defer a.mx.Unlock()\n\n    if err != nil {\n        return // Lock released automatically\n    }\n}\n</code></pre></p>"},{"location":"reference/STABILITY_ARCHITECTURE/#pitfall-3-ui-updates-without-queueupdatedraw","title":"Pitfall 3: UI Updates Without QueueUpdateDraw","text":"<p>Problem: <pre><code>a.safeGo(\"fetch\", func() {\n    data := fetch()\n    a.table.SetCell(0, 0, tview.NewTableCell(data)) // CRASH: not thread-safe!\n})\n</code></pre></p> <p>Solution: <pre><code>a.safeGo(\"fetch\", func() {\n    data := fetch()\n    a.QueueUpdateDraw(func() {\n        a.table.SetCell(0, 0, tview.NewTableCell(data))\n    })\n})\n</code></pre></p>"},{"location":"reference/STABILITY_ARCHITECTURE/#pitfall-4-not-checking-stopping-flag","title":"Pitfall 4: Not Checking <code>stopping</code> Flag","text":"<p>Problem: <pre><code>func (a *App) longOperation() {\n    a.mx.Lock()\n    defer a.mx.Unlock()\n    // If Stop() was called, this will deadlock or cause errors\n    // ... long operation ...\n}\n</code></pre></p> <p>Solution: <pre><code>func (a *App) longOperation() {\n    if atomic.LoadInt32(&amp;a.stopping) == 1 {\n        return // Exit early\n    }\n\n    a.mx.Lock()\n    defer a.mx.Unlock()\n    // ... operation ...\n}\n</code></pre></p>"},{"location":"reference/STABILITY_ARCHITECTURE/#debugging-tips","title":"Debugging Tips","text":""},{"location":"reference/STABILITY_ARCHITECTURE/#enable-debug-logging","title":"Enable Debug Logging","text":"<pre><code># config.yaml\nlog_level: debug\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#check-for-data-races","title":"Check for Data Races","text":"<pre><code>go test -race ./pkg/ui/\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#analyze-deadlocks","title":"Analyze Deadlocks","text":"<pre><code># Run with GODEBUG to see mutex contention\nGODEBUG=schedtrace=1000,scheddetail=1 k13d\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#profile-the-tui","title":"Profile the TUI","text":"<pre><code>go test -cpuprofile=cpu.prof -memprofile=mem.prof -bench=.\ngo tool pprof cpu.prof\n</code></pre>"},{"location":"reference/STABILITY_ARCHITECTURE/#summary","title":"Summary","text":"<p>k13d's stability architecture follows these principles:</p> <ol> <li>Strict Lock Ordering: <code>watchMu \u2192 navMx \u2192 mx</code></li> <li>Centralized State Transitions: <code>navigateTo()</code> is the single entry point</li> <li>Panic Recovery: All goroutines use <code>safeGo()</code></li> <li>Graceful Shutdown: Atomic <code>stopping</code> flag prevents new operations</li> <li>Thread-Safe UI: All UI updates via <code>QueueUpdateDraw()</code></li> <li>Watch/Refresh Sync: Debounced watchers with stop guards</li> <li>Error Recovery: Exponential backoff for transient failures</li> </ol> <p>These patterns ensure k13d remains responsive and stable even under high load, rapid navigation, and concurrent operations.</p>"},{"location":"reference/STABILITY_ARCHITECTURE/#references","title":"References","text":"<ul> <li>k9s Stability: github.com/derailed/k9s (RunE pattern, watch debouncing)</li> <li>tview Threading: github.com/rivo/tview (QueueUpdateDraw documentation)</li> <li>Go Concurrency: golang.org/doc/effective_go#concurrency</li> <li>Lock Ordering: \"The Little Book of Semaphores\" by Allen B. Downey</li> </ul>"},{"location":"reference/api/","title":"API Reference","text":"<p>k13d exposes a REST API for programmatic access to Kubernetes management features.</p>"},{"location":"reference/api/#authentication","title":"Authentication","text":""},{"location":"reference/api/#login","title":"Login","text":"<pre><code>POST /api/auth/login\nContent-Type: application/json\n\n{\n  \"password\": \"your-password\"\n}\n</code></pre> <p>Response: <pre><code>{\n  \"token\": \"eyJhbGciOiJIUzI1NiIs...\",\n  \"expires_at\": \"2024-01-16T10:30:00Z\"\n}\n</code></pre></p>"},{"location":"reference/api/#using-token","title":"Using Token","text":"<p>Include the token in subsequent requests:</p> <pre><code>Authorization: Bearer eyJhbGciOiJIUzI1NiIs...\n</code></pre>"},{"location":"reference/api/#logout","title":"Logout","text":"<pre><code>POST /api/auth/logout\nAuthorization: Bearer &lt;token&gt;\n</code></pre>"},{"location":"reference/api/#health-status","title":"Health &amp; Status","text":""},{"location":"reference/api/#health-check","title":"Health Check","text":"<pre><code>GET /api/health\n</code></pre> <p>Response: <pre><code>{\n  \"status\": \"healthy\",\n  \"kubernetes\": \"connected\",\n  \"llm\": \"available\"\n}\n</code></pre></p>"},{"location":"reference/api/#kubernetes-resources","title":"Kubernetes Resources","text":""},{"location":"reference/api/#list-resources","title":"List Resources","text":"<pre><code>GET /api/k8s/{resource}\nGET /api/k8s/{resource}?namespace={ns}\n</code></pre> <p>Resources: <code>pods</code>, <code>deployments</code>, <code>services</code>, <code>configmaps</code>, <code>secrets</code>, <code>nodes</code>, etc.</p> <p>Example: <pre><code>curl http://localhost:8080/api/k8s/pods?namespace=default\n</code></pre></p> <p>Response: <pre><code>{\n  \"items\": [\n    {\n      \"name\": \"nginx-abc123\",\n      \"namespace\": \"default\",\n      \"status\": \"Running\",\n      \"ready\": \"1/1\",\n      \"restarts\": 0,\n      \"age\": \"2d\"\n    }\n  ],\n  \"total\": 1\n}\n</code></pre></p>"},{"location":"reference/api/#get-resource","title":"Get Resource","text":"<pre><code>GET /api/k8s/{resource}/{name}?namespace={ns}\n</code></pre> <p>Example: <pre><code>curl http://localhost:8080/api/k8s/pods/nginx-abc123?namespace=default\n</code></pre></p>"},{"location":"reference/api/#get-yaml","title":"Get YAML","text":"<pre><code>GET /api/k8s/{resource}/{name}/yaml?namespace={ns}\n</code></pre>"},{"location":"reference/api/#describe-resource","title":"Describe Resource","text":"<pre><code>GET /api/k8s/{resource}/{name}/describe?namespace={ns}\n</code></pre>"},{"location":"reference/api/#delete-resource","title":"Delete Resource","text":"<pre><code>DELETE /api/k8s/{resource}/{name}?namespace={ns}\n</code></pre>"},{"location":"reference/api/#pod-operations","title":"Pod Operations","text":""},{"location":"reference/api/#get-logs","title":"Get Logs","text":"<pre><code>GET /api/pods/{name}/logs?namespace={ns}&amp;container={container}&amp;tail={lines}\n</code></pre> <p>Parameters: - <code>namespace</code>: Pod namespace - <code>container</code>: Container name (optional if single container) - <code>tail</code>: Number of lines (default: 100) - <code>follow</code>: Stream logs (default: false) - <code>previous</code>: Previous container logs (default: false)</p> <p>Example: <pre><code>curl \"http://localhost:8080/api/pods/nginx-abc123/logs?namespace=default&amp;tail=50\"\n</code></pre></p>"},{"location":"reference/api/#execute-command","title":"Execute Command","text":"<pre><code>POST /api/pods/{name}/exec\nContent-Type: application/json\n\n{\n  \"namespace\": \"default\",\n  \"container\": \"nginx\",\n  \"command\": [\"sh\", \"-c\", \"ls -la\"]\n}\n</code></pre>"},{"location":"reference/api/#port-forward","title":"Port Forward","text":"<pre><code>POST /api/portforward\nContent-Type: application/json\n\n{\n  \"namespace\": \"default\",\n  \"pod\": \"nginx-abc123\",\n  \"localPort\": 8888,\n  \"podPort\": 80\n}\n</code></pre> <p>Response: <pre><code>{\n  \"id\": \"pf-123\",\n  \"localPort\": 8888,\n  \"status\": \"active\"\n}\n</code></pre></p> <p>Stop port forward: <pre><code>DELETE /api/portforward/{id}\n</code></pre></p>"},{"location":"reference/api/#deployment-operations","title":"Deployment Operations","text":""},{"location":"reference/api/#scale","title":"Scale","text":"<pre><code>POST /api/deployment/scale\nContent-Type: application/json\n\n{\n  \"namespace\": \"default\",\n  \"name\": \"nginx\",\n  \"replicas\": 5\n}\n</code></pre>"},{"location":"reference/api/#restart","title":"Restart","text":"<pre><code>POST /api/deployment/restart\nContent-Type: application/json\n\n{\n  \"namespace\": \"default\",\n  \"name\": \"nginx\"\n}\n</code></pre>"},{"location":"reference/api/#rollback","title":"Rollback","text":"<pre><code>POST /api/deployment/rollback\nContent-Type: application/json\n\n{\n  \"namespace\": \"default\",\n  \"name\": \"nginx\",\n  \"revision\": 2\n}\n</code></pre>"},{"location":"reference/api/#node-operations","title":"Node Operations","text":""},{"location":"reference/api/#cordon","title":"Cordon","text":"<pre><code>POST /api/node/cordon\nContent-Type: application/json\n\n{\n  \"name\": \"node-1\"\n}\n</code></pre>"},{"location":"reference/api/#uncordon","title":"Uncordon","text":"<pre><code>POST /api/node/uncordon\nContent-Type: application/json\n\n{\n  \"name\": \"node-1\"\n}\n</code></pre>"},{"location":"reference/api/#drain","title":"Drain","text":"<pre><code>POST /api/node/drain\nContent-Type: application/json\n\n{\n  \"name\": \"node-1\",\n  \"ignoreDaemonSets\": true,\n  \"deleteLocalData\": false,\n  \"force\": false\n}\n</code></pre>"},{"location":"reference/api/#metrics","title":"Metrics","text":""},{"location":"reference/api/#pod-metrics","title":"Pod Metrics","text":"<pre><code>GET /api/metrics/pod?namespace={ns}\n</code></pre> <p>Response: <pre><code>{\n  \"items\": [\n    {\n      \"name\": \"nginx-abc123\",\n      \"namespace\": \"default\",\n      \"cpu\": \"50m\",\n      \"memory\": \"128Mi\"\n    }\n  ]\n}\n</code></pre></p>"},{"location":"reference/api/#node-metrics","title":"Node Metrics","text":"<pre><code>GET /api/metrics/node\n</code></pre>"},{"location":"reference/api/#helm","title":"Helm","text":""},{"location":"reference/api/#list-releases","title":"List Releases","text":"<pre><code>GET /api/helm/releases?namespace={ns}\n</code></pre>"},{"location":"reference/api/#install-chart","title":"Install Chart","text":"<pre><code>POST /api/helm/install\nContent-Type: application/json\n\n{\n  \"name\": \"my-release\",\n  \"namespace\": \"default\",\n  \"chart\": \"nginx\",\n  \"repo\": \"https://charts.bitnami.com/bitnami\",\n  \"values\": {\n    \"replicaCount\": 3\n  }\n}\n</code></pre>"},{"location":"reference/api/#upgrade-release","title":"Upgrade Release","text":"<pre><code>POST /api/helm/upgrade\nContent-Type: application/json\n\n{\n  \"name\": \"my-release\",\n  \"namespace\": \"default\",\n  \"chart\": \"nginx\",\n  \"values\": {\n    \"replicaCount\": 5\n  }\n}\n</code></pre>"},{"location":"reference/api/#uninstall-release","title":"Uninstall Release","text":"<pre><code>DELETE /api/helm/releases/{name}?namespace={ns}\n</code></pre>"},{"location":"reference/api/#ai-chat","title":"AI Chat","text":""},{"location":"reference/api/#send-message-sse","title":"Send Message (SSE)","text":"<pre><code>POST /api/chat/agentic\nContent-Type: application/json\n\n{\n  \"message\": \"Why is my nginx pod failing?\",\n  \"context\": {\n    \"namespace\": \"default\",\n    \"resource\": \"pod/nginx-abc123\"\n  }\n}\n</code></pre> <p>Response (Server-Sent Events): <pre><code>event: chunk\ndata: {\"content\": \"Let me check\"}\n\nevent: chunk\ndata: {\"content\": \" your nginx pod...\"}\n\nevent: tool_request\ndata: {\"tool\": \"kubectl\", \"command\": \"get pod nginx-abc123 -o yaml\", \"id\": \"tc-123\"}\n\nevent: tool_execution\ndata: {\"id\": \"tc-123\", \"result\": \"...\"}\n\nevent: stream_end\ndata: {\"complete\": true}\n</code></pre></p>"},{"location":"reference/api/#approve-tool","title":"Approve Tool","text":"<pre><code>POST /api/tool/approve\nContent-Type: application/json\n\n{\n  \"id\": \"tc-123\",\n  \"approved\": true\n}\n</code></pre>"},{"location":"reference/api/#get-chat-history","title":"Get Chat History","text":"<pre><code>GET /api/chat/history?session_id={id}\n</code></pre>"},{"location":"reference/api/#clear-chat","title":"Clear Chat","text":"<pre><code>DELETE /api/chat/history?session_id={id}\n</code></pre>"},{"location":"reference/api/#audit","title":"Audit","text":""},{"location":"reference/api/#get-audit-logs","title":"Get Audit Logs","text":"<pre><code>GET /api/audit?limit={n}&amp;offset={offset}\n</code></pre> <p>Response: <pre><code>{\n  \"items\": [\n    {\n      \"id\": 1,\n      \"timestamp\": \"2024-01-15T10:30:00Z\",\n      \"user\": \"admin\",\n      \"action\": \"execute\",\n      \"resource\": \"pod/nginx\",\n      \"details\": {\n        \"command\": \"kubectl get pods\"\n      }\n    }\n  ],\n  \"total\": 100\n}\n</code></pre></p>"},{"location":"reference/api/#filter-audit-logs","title":"Filter Audit Logs","text":"<pre><code>GET /api/audit?action={action}&amp;user={user}&amp;from={timestamp}&amp;to={timestamp}\n</code></pre>"},{"location":"reference/api/#settings","title":"Settings","text":""},{"location":"reference/api/#get-settings","title":"Get Settings","text":"<pre><code>GET /api/settings\n</code></pre>"},{"location":"reference/api/#update-settings","title":"Update Settings","text":"<pre><code>PUT /api/settings\nContent-Type: application/json\n\n{\n  \"language\": \"en\",\n  \"beginner_mode\": false,\n  \"auto_approve_readonly\": true\n}\n</code></pre>"},{"location":"reference/api/#get-llm-config","title":"Get LLM Config","text":"<pre><code>GET /api/settings/llm\n</code></pre>"},{"location":"reference/api/#update-llm-config","title":"Update LLM Config","text":"<pre><code>PUT /api/settings/llm\nContent-Type: application/json\n\n{\n  \"provider\": \"openai\",\n  \"model\": \"gpt-4\",\n  \"api_key\": \"sk-...\"\n}\n</code></pre>"},{"location":"reference/api/#mcp-servers","title":"MCP Servers","text":""},{"location":"reference/api/#list-mcp-servers","title":"List MCP Servers","text":"<pre><code>GET /api/mcp/servers\n</code></pre>"},{"location":"reference/api/#add-mcp-server","title":"Add MCP Server","text":"<pre><code>POST /api/mcp/servers\nContent-Type: application/json\n\n{\n  \"name\": \"thinking\",\n  \"command\": \"npx\",\n  \"args\": [\"-y\", \"@modelcontextprotocol/server-sequential-thinking\"],\n  \"enabled\": true\n}\n</code></pre>"},{"location":"reference/api/#enabledisable-server","title":"Enable/Disable Server","text":"<pre><code>PATCH /api/mcp/servers/{name}\nContent-Type: application/json\n\n{\n  \"enabled\": true\n}\n</code></pre>"},{"location":"reference/api/#remove-mcp-server","title":"Remove MCP Server","text":"<pre><code>DELETE /api/mcp/servers/{name}\n</code></pre>"},{"location":"reference/api/#reports","title":"Reports","text":""},{"location":"reference/api/#generate-report","title":"Generate Report","text":"<pre><code>POST /api/reports\nContent-Type: application/json\n\n{\n  \"type\": \"cluster-overview\",\n  \"format\": \"pdf\",\n  \"namespace\": \"default\"\n}\n</code></pre> <p>Response: <pre><code>{\n  \"id\": \"report-123\",\n  \"status\": \"generating\"\n}\n</code></pre></p>"},{"location":"reference/api/#get-report-status","title":"Get Report Status","text":"<pre><code>GET /api/reports/{id}\n</code></pre>"},{"location":"reference/api/#download-report","title":"Download Report","text":"<pre><code>GET /api/reports/{id}/download\n</code></pre>"},{"location":"reference/api/#error-responses","title":"Error Responses","text":""},{"location":"reference/api/#standard-error-format","title":"Standard Error Format","text":"<pre><code>{\n  \"error\": \"Error message\",\n  \"code\": \"ERROR_CODE\",\n  \"details\": {}\n}\n</code></pre>"},{"location":"reference/api/#common-error-codes","title":"Common Error Codes","text":"Code HTTP Status Description <code>UNAUTHORIZED</code> 401 Invalid or missing token <code>FORBIDDEN</code> 403 Insufficient permissions <code>NOT_FOUND</code> 404 Resource not found <code>VALIDATION_ERROR</code> 400 Invalid request <code>K8S_ERROR</code> 500 Kubernetes API error <code>LLM_ERROR</code> 500 LLM provider error"},{"location":"reference/api/#rate-limiting","title":"Rate Limiting","text":"<p>API requests are rate limited:</p> <ul> <li>Default: 100 requests/minute</li> <li>AI Chat: 10 requests/minute</li> </ul> <p>Rate limit headers: <pre><code>X-RateLimit-Limit: 100\nX-RateLimit-Remaining: 95\nX-RateLimit-Reset: 1705318800\n</code></pre></p>"},{"location":"reference/api/#sdk-examples","title":"SDK Examples","text":""},{"location":"reference/api/#curl","title":"cURL","text":"<pre><code># Login\nTOKEN=$(curl -s -X POST http://localhost:8080/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"password\": \"secret\"}' | jq -r '.token')\n\n# List pods\ncurl http://localhost:8080/api/k8s/pods \\\n  -H \"Authorization: Bearer $TOKEN\"\n\n# AI chat\ncurl -X POST http://localhost:8080/api/chat/agentic \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"message\": \"list pods\"}'\n</code></pre>"},{"location":"reference/api/#python","title":"Python","text":"<pre><code>import requests\n\nbase_url = \"http://localhost:8080\"\n\n# Login\nresp = requests.post(f\"{base_url}/api/auth/login\",\n                     json={\"password\": \"secret\"})\ntoken = resp.json()[\"token\"]\n\nheaders = {\"Authorization\": f\"Bearer {token}\"}\n\n# List pods\npods = requests.get(f\"{base_url}/api/k8s/pods\", headers=headers)\nprint(pods.json())\n</code></pre>"},{"location":"reference/api/#javascript","title":"JavaScript","text":"<pre><code>const baseUrl = 'http://localhost:8080';\n\n// Login\nconst loginResp = await fetch(`${baseUrl}/api/auth/login`, {\n  method: 'POST',\n  headers: { 'Content-Type': 'application/json' },\n  body: JSON.stringify({ password: 'secret' })\n});\nconst { token } = await loginResp.json();\n\n// List pods\nconst podsResp = await fetch(`${baseUrl}/api/k8s/pods`, {\n  headers: { 'Authorization': `Bearer ${token}` }\n});\nconst pods = await podsResp.json();\n</code></pre>"},{"location":"reference/api/#next-steps","title":"Next Steps","text":"<ul> <li>CLI Reference - Command line options</li> <li>Environment Variables - Configuration</li> <li>Configuration - Full config guide</li> </ul>"},{"location":"reference/changelog/","title":"Changelog","text":"<p>All notable changes to k13d are documented here.</p>"},{"location":"reference/changelog/#085-2026-02-16","title":"[0.8.5] - 2026-02-16","text":""},{"location":"reference/changelog/#added","title":"Added","text":"<ul> <li>TUI: Sort Picker (<code>:sort</code>): Interactive column picker modal for sorting resources</li> <li>TUI: Help Modal Sorting Section: Help screen (<code>?</code>) now documents all sorting shortcuts (Shift+N/A/T/P/C/D)</li> <li>Web UI: Report Section Selection: Choose which sections to include when generating reports</li> <li>Web UI: Rich Custom Resource Detail: CRDs now display Overview/YAML/Events tabs</li> <li>Web UI: Historical Metrics Charts: Time-series charts with configurable time ranges (5m\u201324h)</li> <li>Web UI: Collect Now Button: Trigger immediate metrics collection</li> <li>AI Provider: Upstage/Solar: Added Upstage (Solar) as a supported LLM provider</li> </ul>"},{"location":"reference/changelog/#fixed","title":"Fixed","text":"<ul> <li>Web UI: Metrics Array Sync: Fixed metricsHistory arrays going out of sync</li> <li>Web UI: Chart Cleanup: Charts properly destroyed on Metrics modal close</li> <li>Web UI: Context Switch Stale Data: Context switch now reloads namespaces and data</li> </ul>"},{"location":"reference/changelog/#removed","title":"Removed","text":"<ul> <li>Web UI: Healing View: Removed auto-remediation rules UI</li> </ul>"},{"location":"reference/changelog/#084-2026-02-16","title":"[0.8.4] - 2026-02-16","text":""},{"location":"reference/changelog/#added_1","title":"Added","text":"<ul> <li>Helm Chart Release: Helm chart (.tgz) now included as extra file in goreleaser releases</li> <li>Validation Resource Counts: Validation view now shows scanned resource counts</li> </ul>"},{"location":"reference/changelog/#080-2026-02-14","title":"[0.8.0] - 2026-02-14","text":""},{"location":"reference/changelog/#added_2","title":"Added","text":"<ul> <li>Multi-Cluster: Context switcher in top bar for switching between kubeconfig contexts</li> <li>RBAC Viewer: Visual subject\u2192role relationship viewer with filtering by kind</li> <li>Network Policy Map: Ingress/egress rule visualization per policy</li> <li>Event Timeline: Cluster events grouped by time windows with stats</li> <li>GitOps Integration: ArgoCD Application and Flux Kustomization sync status</li> <li>Resource Templates: One-click deploy for common K8s patterns (Nginx, Redis, PostgreSQL, etc.)</li> <li>Backups (Velero): Velero backup and schedule management with status tracking</li> <li>Resource Diff: Side-by-side YAML comparison (current vs last-applied-configuration)</li> <li>Notifications: Slack/Discord/Teams webhook alerts for cluster events</li> <li>AI Auto-Troubleshoot: One-click AI-powered cluster diagnosis via Diagnose button</li> <li>kubectl Plugin: Install as <code>kubectl k13d</code> via Krew or direct binary</li> <li>Homebrew Formula: <code>brew install k13d</code> support</li> </ul>"},{"location":"reference/changelog/#changed","title":"Changed","text":"<ul> <li>Sidebar reorganized with new sections: RBAC Viewer, Net Policy Map, Event Timeline under Visualization; GitOps, Templates, Backups under Operations</li> <li>Settings modal gains Notifications tab</li> </ul>"},{"location":"reference/changelog/#077-2026-02-14","title":"[0.7.7] - 2026-02-14","text":""},{"location":"reference/changelog/#added_3","title":"Added","text":"<ul> <li>Audit Logs Modal: Audit logs open as modal overlay, preserving center resource table</li> <li>Reports Modal: Cluster reports open as modal overlay instead of replacing resource table</li> <li>Overview Page: Dedicated Overview with cluster health cards, quick actions, and recent events</li> <li>Trivy-Bundled Release: goreleaser produces <code>k13d-with-trivy</code> archives for linux/darwin</li> </ul>"},{"location":"reference/changelog/#changed_1","title":"Changed","text":"<ul> <li>AI Assistant panel auto-hides on Overview and restores on other views</li> <li>Audit Logs filter controls integrated into modal header</li> </ul>"},{"location":"reference/changelog/#076-2026-02-14","title":"[0.7.6] - 2026-02-14","text":""},{"location":"reference/changelog/#added_4","title":"Added","text":"<ul> <li>Web UI: Metrics Dashboard: Real-time cluster health cards with CPU/Memory bars, pod/deployment/node status</li> <li>Web UI: Topology Tree View: Hierarchical resource ownership visualization with collapsible tree nodes</li> <li>Web UI: Applications View: App-centric grouped view by <code>app.kubernetes.io/name</code> labels</li> <li>Web UI: Validate View: Cross-resource validation with severity levels (critical/warning/info)</li> <li>Web UI: Healing View: Auto-remediation rules CRUD interface with event history tracking</li> <li>Web UI: Helm Manager: Full Helm release management with details, values, history, rollback, uninstall</li> <li>Web UI: Theme/Skin Selector: 5 color themes - Tokyo Night, Production, Staging, Development, Light</li> <li>Cross-view Navigation: Related views linked together (Metrics\u2194Charts, Topology Graph\u2194Tree, Validate\u2194Reports)</li> <li>Dashboard Phase 1-5: Backend APIs for pulse, xray, applications, validate, healing, helm, cost analysis</li> </ul>"},{"location":"reference/changelog/#changed_2","title":"Changed","text":"<ul> <li>Sidebar reorganized: Visualization, Operations, Monitoring sections</li> <li>XRay renamed to \"Topology Tree\", Pulse renamed to \"Metrics\"</li> </ul>"},{"location":"reference/changelog/#unreleased","title":"[Unreleased]","text":""},{"location":"reference/changelog/#added_5","title":"Added","text":"<ul> <li>Documentation site with MkDocs Material</li> <li>GitHub Pages deployment</li> <li>Screen Ghosting Fix: 50ms draw throttle for AI streaming + 500ms periodic safety sync + modal transition sync</li> <li>AI Chat History Preservation: Previous Q&amp;A sessions preserved with visual dividers within TUI session</li> <li>Autocomplete Dropdown: k9s-style dropdown overlay when 2+ command completions match</li> <li>Configurable Resource Aliases (<code>aliases.yaml</code>): Custom command shortcuts (e.g., <code>pp</code> \u2192 <code>pods</code>) with <code>:alias</code> viewer</li> <li>Per-Resource Sort Defaults (<code>views.yaml</code>): Remember sort column and direction per resource type</li> <li>LLM Model Switching: <code>:model</code> command to switch AI model profiles, <code>:model &lt;name&gt;</code> for direct switch</li> <li>Plugin System TUI Integration: Plugins from <code>plugins.yaml</code> now accessible via keyboard shortcuts and <code>:plugins</code> command</li> </ul>"},{"location":"reference/changelog/#changed_3","title":"Changed","text":"<ul> <li>All modal open/close calls migrated to <code>showModal()</code>/<code>closeModal()</code> helpers with screen sync</li> <li>Command handling refactored for prefix matching (<code>:model &lt;name&gt;</code>)</li> <li>Improved error handling consistency</li> </ul>"},{"location":"reference/changelog/#fixed_1","title":"Fixed","text":"<ul> <li>TUI screen ghosting (visual artifacts) during modal transitions and AI streaming</li> <li>AI chat history lost when new response arrives</li> <li>Minor bug fixes</li> </ul>"},{"location":"reference/changelog/#063-2024-01-15","title":"[0.6.3] - 2024-01-15","text":""},{"location":"reference/changelog/#added_6","title":"Added","text":"<ul> <li>Tool Approval unification for consistent security</li> <li>PolicyEnforcer for centralized approval logic</li> <li>TUI audit logging for better compliance</li> </ul>"},{"location":"reference/changelog/#changed_4","title":"Changed","text":"<ul> <li>Refactored index.html into modular CSS/JS files</li> <li>Improved frontend build process</li> </ul>"},{"location":"reference/changelog/#fixed_2","title":"Fixed","text":"<ul> <li>Docker Hub login conditional in CI workflow</li> <li>formatAge utility function consolidation</li> </ul>"},{"location":"reference/changelog/#062-2024-01-10","title":"[0.6.2] - 2024-01-10","text":""},{"location":"reference/changelog/#added_7","title":"Added","text":"<ul> <li>Tokyo Night theme for TUI</li> <li>Enhanced benchmark tooling</li> <li>MCP server mode (<code>--mcp</code> flag)</li> </ul>"},{"location":"reference/changelog/#changed_5","title":"Changed","text":"<ul> <li>Improved AI response streaming</li> <li>Better error messages</li> </ul>"},{"location":"reference/changelog/#fixed_3","title":"Fixed","text":"<ul> <li>Test timeout issues (300s \u2192 600s)</li> <li>TUI resize handling</li> </ul>"},{"location":"reference/changelog/#061-2024-01-05","title":"[0.6.1] - 2024-01-05","text":""},{"location":"reference/changelog/#added_8","title":"Added","text":"<ul> <li>Embedded LLM support (<code>--embedded-llm</code>)</li> <li>llama.cpp integration</li> <li>Offline operation capability</li> </ul>"},{"location":"reference/changelog/#changed_6","title":"Changed","text":"<ul> <li>Reduced binary size</li> <li>Improved startup time</li> </ul>"},{"location":"reference/changelog/#fixed_4","title":"Fixed","text":"<ul> <li>Memory leaks in streaming responses</li> <li>Context cancellation handling</li> </ul>"},{"location":"reference/changelog/#060-2024-01-01","title":"[0.6.0] - 2024-01-01","text":""},{"location":"reference/changelog/#added_9","title":"Added","text":"<ul> <li>MCP (Model Context Protocol) integration</li> <li>External tool extensibility</li> <li>MCP client for connecting to MCP servers</li> <li>Sequential thinking MCP server support</li> </ul>"},{"location":"reference/changelog/#changed_7","title":"Changed","text":"<ul> <li>Tool registry architecture</li> <li>AI agent state machine improvements</li> </ul>"},{"location":"reference/changelog/#fixed_5","title":"Fixed","text":"<ul> <li>Tool timeout issues</li> <li>JSON-RPC 2.0 compliance</li> </ul>"},{"location":"reference/changelog/#050-2023-12-15","title":"[0.5.0] - 2023-12-15","text":""},{"location":"reference/changelog/#added_10","title":"Added","text":"<ul> <li>Web UI with full feature parity to TUI</li> <li>SSE (Server-Sent Events) for AI streaming</li> <li>Authentication system</li> <li>Session management</li> <li>Audit logging</li> </ul>"},{"location":"reference/changelog/#changed_8","title":"Changed","text":"<ul> <li>Unified API between TUI and Web</li> <li>Improved Kubernetes client performance</li> </ul>"},{"location":"reference/changelog/#fixed_6","title":"Fixed","text":"<ul> <li>Multiple concurrent session handling</li> <li>Resource leak on connection close</li> </ul>"},{"location":"reference/changelog/#040-2023-12-01","title":"[0.4.0] - 2023-12-01","text":""},{"location":"reference/changelog/#added_11","title":"Added","text":"<ul> <li>AI-powered analysis features</li> <li>Tool calling (kubectl, bash)</li> <li>Safety analyzer with AST parsing</li> <li>Command approval workflow</li> </ul>"},{"location":"reference/changelog/#changed_9","title":"Changed","text":"<ul> <li>Agent architecture improvements</li> <li>Better prompt engineering</li> </ul>"},{"location":"reference/changelog/#fixed_7","title":"Fixed","text":"<ul> <li>Tool execution timeout issues</li> <li>Safety analysis false positives</li> </ul>"},{"location":"reference/changelog/#030-2023-11-15","title":"[0.3.0] - 2023-11-15","text":""},{"location":"reference/changelog/#added_12","title":"Added","text":"<ul> <li>Multi-provider LLM support</li> <li>OpenAI, Anthropic, Gemini, Ollama providers</li> <li>Provider abstraction layer</li> <li>Streaming response support</li> </ul>"},{"location":"reference/changelog/#changed_10","title":"Changed","text":"<ul> <li>Configuration file format</li> <li>API key handling</li> </ul>"},{"location":"reference/changelog/#fixed_8","title":"Fixed","text":"<ul> <li>Provider reconnection logic</li> <li>Rate limit handling</li> </ul>"},{"location":"reference/changelog/#020-2023-11-01","title":"[0.2.0] - 2023-11-01","text":""},{"location":"reference/changelog/#added_13","title":"Added","text":"<ul> <li>AI Assistant panel in TUI</li> <li>Basic chat functionality</li> <li>Context-aware queries</li> <li>Resource context injection</li> </ul>"},{"location":"reference/changelog/#changed_11","title":"Changed","text":"<ul> <li>TUI layout improvements</li> <li>Keyboard shortcut refinements</li> </ul>"},{"location":"reference/changelog/#fixed_9","title":"Fixed","text":"<ul> <li>Input handling edge cases</li> <li>Screen rendering issues</li> </ul>"},{"location":"reference/changelog/#010-2023-10-15","title":"[0.1.0] - 2023-10-15","text":""},{"location":"reference/changelog/#added_14","title":"Added","text":"<ul> <li>Initial release</li> <li>k9s-style TUI dashboard</li> <li>Kubernetes resource views</li> <li>Basic resource operations</li> <li>Vim-style navigation</li> <li>Multi-namespace support</li> </ul>"},{"location":"reference/changelog/#version-format","title":"Version Format","text":"<p>k13d follows Semantic Versioning:</p> <ul> <li>MAJOR: Incompatible API changes</li> <li>MINOR: New features (backwards compatible)</li> <li>PATCH: Bug fixes (backwards compatible)</li> </ul>"},{"location":"reference/changelog/#links","title":"Links","text":"<ul> <li>GitHub Releases</li> <li>Migration Guide</li> <li>Contributing</li> </ul>"},{"location":"reference/cli/","title":"CLI Reference","text":"<p>Complete command-line interface reference for k13d.</p>"},{"location":"reference/cli/#synopsis","title":"Synopsis","text":"<pre><code>k13d [flags]\nk13d [command]\n</code></pre>"},{"location":"reference/cli/#modes","title":"Modes","text":"<p>k13d can run in different modes:</p> Mode Command Description TUI <code>k13d</code> Terminal dashboard (default) Web <code>k13d -web</code> Web dashboard MCP Server <code>k13d --mcp</code> MCP server mode CLI <code>k13d &lt;command&gt;</code> Direct command execution"},{"location":"reference/cli/#global-flags","title":"Global Flags","text":""},{"location":"reference/cli/#configuration","title":"Configuration","text":"Flag Type Default Description <code>--config</code> string <code>~/.config/k13d/config.yaml</code> Config file path <code>--kubeconfig</code> string <code>~/.kube/config</code> Kubeconfig file path <code>--context</code> string current Kubernetes context <code>--namespace</code>, <code>-n</code> string default Default namespace"},{"location":"reference/cli/#logging","title":"Logging","text":"Flag Type Default Description <code>--debug</code> bool false Enable debug logging <code>--log-level</code> string info Log level (debug, info, warn, error) <code>--log-file</code> string - Log file path"},{"location":"reference/cli/#ai-options","title":"AI Options","text":"Flag Type Default Description <code>--llm-provider</code> string openai LLM provider <code>--llm-model</code> string gpt-4 LLM model name <code>--llm-endpoint</code> string - Custom LLM endpoint <code>--embedded-llm</code> bool false Use embedded LLM"},{"location":"reference/cli/#tui-mode","title":"TUI Mode","text":"<pre><code>k13d [flags]\n</code></pre>"},{"location":"reference/cli/#tui-flags","title":"TUI Flags","text":"Flag Type Default Description <code>--refresh</code> duration 5s Refresh interval <code>--no-ai</code> bool false Disable AI panel <code>--beginner</code> bool false Enable beginner mode <code>--language</code> string en UI language (en, ko, zh, ja)"},{"location":"reference/cli/#examples","title":"Examples","text":"<pre><code># Default TUI mode\nk13d\n\n# With specific context\nk13d --context production\n\n# With custom kubeconfig\nk13d --kubeconfig ~/.kube/prod-config\n\n# Debug mode\nk13d --debug\n\n# With embedded LLM\nk13d --embedded-llm\n</code></pre>"},{"location":"reference/cli/#web-mode","title":"Web Mode","text":"<pre><code>k13d -web [flags]\n</code></pre>"},{"location":"reference/cli/#web-flags","title":"Web Flags","text":"Flag Type Default Description <code>-web</code> bool false Enable web mode <code>-port</code>, <code>-p</code> int 8080 HTTP server port <code>-password</code> string - Web UI password <code>-host</code> string 0.0.0.0 Bind address <code>-tls</code> bool false Enable TLS <code>-cert</code> string - TLS certificate file <code>-key</code> string - TLS key file"},{"location":"reference/cli/#examples_1","title":"Examples","text":"<pre><code># Start web server\nk13d -web\n\n# Custom port\nk13d -web -port 3000\n\n# With password protection\nk13d -web -password \"secret\"\n\n# Bind to localhost only\nk13d -web -host 127.0.0.1\n\n# With TLS\nk13d -web -tls -cert server.crt -key server.key\n</code></pre>"},{"location":"reference/cli/#mcp-server-mode","title":"MCP Server Mode","text":"<pre><code>k13d --mcp [flags]\n</code></pre>"},{"location":"reference/cli/#mcp-flags","title":"MCP Flags","text":"Flag Type Default Description <code>--mcp</code> bool false Enable MCP server mode <code>--mcp-stdio</code> bool true Use stdio transport"},{"location":"reference/cli/#examples_2","title":"Examples","text":"<pre><code># Run as MCP server\nk13d --mcp\n\n# For Claude Desktop integration\n# Add to claude_desktop_config.json:\n# {\n#   \"mcpServers\": {\n#     \"k13d\": {\n#       \"command\": \"k13d\",\n#       \"args\": [\"--mcp\"]\n#     }\n#   }\n# }\n</code></pre>"},{"location":"reference/cli/#commands","title":"Commands","text":""},{"location":"reference/cli/#report","title":"report","text":"<p>Generate cluster reports.</p> <pre><code>k13d report [flags]\n</code></pre> Flag Type Default Description <code>--type</code> string cluster-overview Report type <code>--format</code> string markdown Output format <code>--output</code> string - Output file path <code>--namespace</code> string - Filter by namespace <code>--ai-analysis</code> bool true Include AI analysis <p>Report types: - <code>cluster-overview</code> - <code>security-audit</code> - <code>optimization</code> - <code>ai-analysis</code></p> <pre><code># Generate cluster overview\nk13d report --type cluster-overview\n\n# PDF format\nk13d report --type security-audit --format pdf --output report.pdf\n\n# Specific namespace\nk13d report --type optimization --namespace production\n</code></pre>"},{"location":"reference/cli/#bench","title":"bench","text":"<p>Run AI benchmarks.</p> <pre><code>k13d bench [flags]\n</code></pre> Flag Type Default Description <code>--all</code> bool false Run all benchmarks <code>--category</code> string - Benchmark category <code>--models</code> string - Comma-separated models <code>--tasks</code> string - Custom tasks file <code>--format</code> string table Output format <code>--output</code> string - Output file <pre><code># Run all benchmarks\nk13d bench --all\n\n# Specific category\nk13d bench --category troubleshooting\n\n# Compare models\nk13d bench --models gpt-4,gpt-3.5,ollama/llama3\n\n# JSON output\nk13d bench --format json --output results.json\n</code></pre>"},{"location":"reference/cli/#version","title":"version","text":"<p>Show version information.</p> <pre><code>k13d version\n</code></pre> <p>Output: <pre><code>k13d version v0.6.3\n  Go version: go1.25.0\n  Git commit: abc1234\n  Built: 2024-01-15T10:30:00Z\n  OS/Arch: linux/amd64\n</code></pre></p>"},{"location":"reference/cli/#help","title":"help","text":"<p>Show help for commands.</p> <pre><code>k13d help [command]\nk13d --help\nk13d -h\n</code></pre>"},{"location":"reference/cli/#environment-variables","title":"Environment Variables","text":"<p>CLI flags can be set via environment variables:</p> Environment Variable Equivalent Flag <code>KUBECONFIG</code> <code>--kubeconfig</code> <code>K13D_CONFIG</code> <code>--config</code> <code>K13D_CONTEXT</code> <code>--context</code> <code>K13D_NAMESPACE</code> <code>--namespace</code> <code>K13D_DEBUG</code> <code>--debug</code> <code>K13D_PORT</code> <code>-port</code> <code>K13D_PASSWORD</code> <code>-password</code> <code>OPENAI_API_KEY</code> - <code>ANTHROPIC_API_KEY</code> - <code>K13D_LLM_PROVIDER</code> <code>--llm-provider</code> <code>K13D_LLM_MODEL</code> <code>--llm-model</code> <p>Example: <pre><code>export K13D_DEBUG=true\nexport K13D_PORT=3000\nk13d -web\n</code></pre></p>"},{"location":"reference/cli/#configuration-precedence","title":"Configuration Precedence","text":"<p>Configuration is loaded in this order (later overrides earlier):</p> <ol> <li>Default values</li> <li>Config file (<code>~/.config/k13d/config.yaml</code>)</li> <li>Environment variables</li> <li>Command-line flags</li> </ol>"},{"location":"reference/cli/#exit-codes","title":"Exit Codes","text":"Code Description 0 Success 1 General error 2 Configuration error 3 Kubernetes connection error 4 LLM provider error"},{"location":"reference/cli/#shell-completion","title":"Shell Completion","text":""},{"location":"reference/cli/#bash","title":"Bash","text":"<pre><code># Generate completion script\nk13d completion bash &gt; /etc/bash_completion.d/k13d\n\n# Or add to .bashrc\nsource &lt;(k13d completion bash)\n</code></pre>"},{"location":"reference/cli/#zsh","title":"Zsh","text":"<pre><code># Generate completion script\nk13d completion zsh &gt; \"${fpath[1]}/_k13d\"\n\n# Or add to .zshrc\nsource &lt;(k13d completion zsh)\n</code></pre>"},{"location":"reference/cli/#fish","title":"Fish","text":"<pre><code>k13d completion fish &gt; ~/.config/fish/completions/k13d.fish\n</code></pre>"},{"location":"reference/cli/#powershell","title":"PowerShell","text":"<pre><code>k13d completion powershell | Out-String | Invoke-Expression\n</code></pre>"},{"location":"reference/cli/#examples_3","title":"Examples","text":""},{"location":"reference/cli/#development-workflow","title":"Development Workflow","text":"<pre><code># Start with debug logging\nk13d --debug --log-file k13d.log\n\n# Use local Ollama\nk13d --llm-provider ollama --llm-endpoint http://localhost:11434\n\n# Test with specific cluster\nk13d --context minikube --namespace test\n</code></pre>"},{"location":"reference/cli/#production-deployment","title":"Production Deployment","text":"<pre><code># Web server with auth\nk13d -web -port 8080 -password \"$K13D_PASSWORD\"\n\n# With TLS\nk13d -web -tls -cert /certs/server.crt -key /certs/server.key\n\n# Custom config\nk13d -web --config /etc/k13d/config.yaml\n</code></pre>"},{"location":"reference/cli/#automation","title":"Automation","text":"<pre><code># Generate daily reports\nk13d report --type cluster-overview \\\n  --format pdf \\\n  --output \"/reports/cluster-$(date +%Y%m%d).pdf\"\n\n# Run benchmarks\nk13d bench --all --format json --output benchmark-results.json\n</code></pre>"},{"location":"reference/cli/#next-steps","title":"Next Steps","text":"<ul> <li>API Reference - REST API</li> <li>Environment Variables - Full env var list</li> <li>Configuration - Config file options</li> </ul>"},{"location":"reference/env-vars/","title":"Environment Variables","text":"<p>Complete reference for k13d environment variables.</p>"},{"location":"reference/env-vars/#configuration","title":"Configuration","text":"Variable Type Default Description <code>K13D_CONFIG</code> string <code>~/.config/k13d/config.yaml</code> Config file path <code>XDG_CONFIG_HOME</code> string <code>~/.config</code> XDG config base directory"},{"location":"reference/env-vars/#kubernetes","title":"Kubernetes","text":"Variable Type Default Description <code>KUBECONFIG</code> string <code>~/.kube/config</code> Kubeconfig file path <code>K13D_CONTEXT</code> string current Kubernetes context name <code>K13D_NAMESPACE</code> string <code>default</code> Default namespace <code>K13D_ALL_NAMESPACES</code> bool <code>false</code> View all namespaces"},{"location":"reference/env-vars/#web-server","title":"Web Server","text":"Variable Type Default Description <code>K13D_WEB</code> bool <code>false</code> Enable web mode <code>K13D_PORT</code> int <code>8080</code> HTTP server port <code>K13D_HOST</code> string <code>0.0.0.0</code> Bind address <code>K13D_PASSWORD</code> string - Web UI password"},{"location":"reference/env-vars/#tls","title":"TLS","text":"Variable Type Default Description <code>K13D_TLS</code> bool <code>false</code> Enable TLS <code>K13D_TLS_CERT</code> string - TLS certificate path <code>K13D_TLS_KEY</code> string - TLS private key path"},{"location":"reference/env-vars/#llm-providers","title":"LLM Providers","text":""},{"location":"reference/env-vars/#openai","title":"OpenAI","text":"Variable Type Default Description <code>OPENAI_API_KEY</code> string - OpenAI API key <code>OPENAI_ORG_ID</code> string - OpenAI organization ID <code>OPENAI_BASE_URL</code> string - Custom API base URL"},{"location":"reference/env-vars/#anthropic","title":"Anthropic","text":"Variable Type Default Description <code>ANTHROPIC_API_KEY</code> string - Anthropic API key"},{"location":"reference/env-vars/#google-gemini","title":"Google Gemini","text":"Variable Type Default Description <code>GOOGLE_API_KEY</code> string - Google AI API key"},{"location":"reference/env-vars/#azure-openai","title":"Azure OpenAI","text":"Variable Type Default Description <code>AZURE_OPENAI_API_KEY</code> string - Azure OpenAI key <code>AZURE_OPENAI_ENDPOINT</code> string - Azure endpoint URL <code>AZURE_OPENAI_API_VERSION</code> string <code>2024-02-15-preview</code> API version"},{"location":"reference/env-vars/#aws-bedrock","title":"AWS Bedrock","text":"Variable Type Default Description <code>AWS_ACCESS_KEY_ID</code> string - AWS access key <code>AWS_SECRET_ACCESS_KEY</code> string - AWS secret key <code>AWS_SESSION_TOKEN</code> string - AWS session token <code>AWS_REGION</code> string - AWS region <code>AWS_PROFILE</code> string - AWS profile name"},{"location":"reference/env-vars/#ollama","title":"Ollama","text":"Variable Type Default Description <code>OLLAMA_HOST</code> string <code>localhost:11434</code> Ollama server address"},{"location":"reference/env-vars/#general-llm","title":"General LLM","text":"Variable Type Default Description <code>K13D_LLM_PROVIDER</code> string <code>openai</code> LLM provider name <code>K13D_LLM_MODEL</code> string <code>gpt-4</code> Model name <code>K13D_LLM_ENDPOINT</code> string - Custom endpoint URL <code>K13D_LLM_API_KEY</code> string - Generic API key <code>K13D_EMBEDDED_LLM</code> bool <code>false</code> Use embedded LLM"},{"location":"reference/env-vars/#features","title":"Features","text":"Variable Type Default Description <code>K13D_BEGINNER_MODE</code> bool <code>false</code> Enable beginner mode <code>K13D_LANGUAGE</code> string <code>en</code> UI language <code>K13D_ENABLE_AUDIT</code> bool <code>true</code> Enable audit logging <code>K13D_AUTO_APPROVE_READONLY</code> bool <code>true</code> Auto-approve read commands <code>K13D_REFRESH_INTERVAL</code> duration <code>5s</code> Dashboard refresh interval"},{"location":"reference/env-vars/#logging","title":"Logging","text":"Variable Type Default Description <code>K13D_DEBUG</code> bool <code>false</code> Enable debug mode <code>K13D_LOG_LEVEL</code> string <code>info</code> Log level <code>K13D_LOG_FILE</code> string - Log file path <code>K13D_LOG_FORMAT</code> string <code>text</code> Log format (text, json)"},{"location":"reference/env-vars/#database","title":"Database","text":"Variable Type Default Description <code>K13D_DB_PATH</code> string <code>~/.config/k13d/audit.db</code> SQLite database path"},{"location":"reference/env-vars/#reports","title":"Reports","text":"Variable Type Default Description <code>K13D_REPORT_PATH</code> string <code>~/k13d-reports</code> Default report output path <code>K13D_REPORT_FORMAT</code> string <code>markdown</code> Default report format"},{"location":"reference/env-vars/#mcp","title":"MCP","text":"Variable Type Default Description <code>K13D_MCP_SERVERS</code> string - MCP servers JSON config <code>K13D_MCP_TIMEOUT</code> duration <code>30s</code> MCP call timeout"},{"location":"reference/env-vars/#session","title":"Session","text":"Variable Type Default Description <code>K13D_SESSION_STORAGE</code> string <code>memory</code> Session storage type <code>K13D_SESSION_MAX_AGE</code> duration <code>24h</code> Session expiry time <code>K13D_SESSION_PATH</code> string <code>~/.config/k13d/sessions</code> Session file path"},{"location":"reference/env-vars/#development","title":"Development","text":"Variable Type Default Description <code>K13D_DEV_MODE</code> bool <code>false</code> Development mode <code>K13D_DISABLE_TELEMETRY</code> bool <code>false</code> Disable telemetry <code>K13D_PROFILE</code> bool <code>false</code> Enable profiling <code>K13D_PROFILE_PORT</code> int <code>6060</code> pprof port"},{"location":"reference/env-vars/#examples","title":"Examples","text":""},{"location":"reference/env-vars/#basic-setup","title":"Basic Setup","text":"<pre><code># Set API key\nexport OPENAI_API_KEY=sk-your-key-here\n\n# Run k13d\nk13d\n</code></pre>"},{"location":"reference/env-vars/#production-web-server","title":"Production Web Server","text":"<pre><code>export K13D_WEB=true\nexport K13D_PORT=8080\nexport K13D_PASSWORD=secure-password\nexport K13D_TLS=true\nexport K13D_TLS_CERT=/etc/ssl/certs/k13d.crt\nexport K13D_TLS_KEY=/etc/ssl/private/k13d.key\nexport OPENAI_API_KEY=sk-your-key\n\nk13d\n</code></pre>"},{"location":"reference/env-vars/#local-ollama","title":"Local Ollama","text":"<pre><code>export K13D_LLM_PROVIDER=ollama\nexport K13D_LLM_MODEL=llama3.2\nexport OLLAMA_HOST=localhost:11434\n\nk13d\n</code></pre>"},{"location":"reference/env-vars/#aws-bedrock_1","title":"AWS Bedrock","text":"<pre><code>export K13D_LLM_PROVIDER=bedrock\nexport K13D_LLM_MODEL=anthropic.claude-3-sonnet-20240229-v1:0\nexport AWS_REGION=us-east-1\nexport AWS_ACCESS_KEY_ID=your-key\nexport AWS_SECRET_ACCESS_KEY=your-secret\n\nk13d\n</code></pre>"},{"location":"reference/env-vars/#multi-cluster","title":"Multi-Cluster","text":"<pre><code># Switch between clusters\nexport KUBECONFIG=~/.kube/prod-config\nk13d -web -port 8081 &amp;\n\nexport KUBECONFIG=~/.kube/staging-config\nk13d -web -port 8082 &amp;\n</code></pre>"},{"location":"reference/env-vars/#docker","title":"Docker","text":"<pre><code>docker run -d \\\n  -p 8080:8080 \\\n  -v ~/.kube:/root/.kube:ro \\\n  -e OPENAI_API_KEY=$OPENAI_API_KEY \\\n  -e K13D_PASSWORD=secret \\\n  cloudbro/k13d:latest \\\n  -web\n</code></pre>"},{"location":"reference/env-vars/#kubernetes_1","title":"Kubernetes","text":"<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: k13d-secrets\ntype: Opaque\nstringData:\n  OPENAI_API_KEY: sk-your-key\n  K13D_PASSWORD: secure-password\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: k13d\nspec:\n  template:\n    spec:\n      containers:\n        - name: k13d\n          envFrom:\n            - secretRef:\n                name: k13d-secrets\n          env:\n            - name: K13D_WEB\n              value: \"true\"\n            - name: K13D_PORT\n              value: \"8080\"\n            - name: K13D_DEBUG\n              value: \"false\"\n</code></pre>"},{"location":"reference/env-vars/#precedence","title":"Precedence","text":"<p>Environment variables override config file settings but are overridden by CLI flags:</p> <ol> <li>Default values</li> <li>Config file</li> <li>Environment variables</li> <li>CLI flags</li> </ol>"},{"location":"reference/env-vars/#security","title":"Security","text":""},{"location":"reference/env-vars/#best-practices","title":"Best Practices","text":"<ol> <li>Never commit secrets: Use environment variables for API keys</li> <li>Use secret managers: Vault, AWS Secrets Manager, etc.</li> <li>Rotate keys regularly</li> <li>Limit access: Set restrictive file permissions</li> </ol>"},{"location":"reference/env-vars/#secure-shell-history","title":"Secure Shell History","text":"<pre><code># Prevent secrets in shell history\n export OPENAI_API_KEY=sk-...  # Note: leading space\n\n# Or use read\nread -s OPENAI_API_KEY\nexport OPENAI_API_KEY\n</code></pre>"},{"location":"reference/env-vars/#env-file","title":".env File","text":"<pre><code># .env (add to .gitignore!)\nOPENAI_API_KEY=sk-your-key\nK13D_PASSWORD=secure-password\n</code></pre> <pre><code># Load .env\nset -a; source .env; set +a\nk13d\n</code></pre>"},{"location":"reference/env-vars/#next-steps","title":"Next Steps","text":"<ul> <li>CLI Reference - Command line options</li> <li>API Reference - REST API</li> <li>Configuration - Config file options</li> </ul>"},{"location":"reference/feature-gap-analysis/","title":"k13d Feature Gap Analysis","text":""},{"location":"reference/feature-gap-analysis/#overview","title":"Overview","text":"<p>This document compares k13d with three major Kubernetes dashboard/AI projects to identify missing features.</p> <p>Analyzed Projects: - kubernetes-dashboard - Official Kubernetes Dashboard - headlamp - Cloud-native Kubernetes UI with plugin system - kubectl-ai - AI-powered kubectl assistant</p> <p>Last Updated: 2026-01-22</p>"},{"location":"reference/feature-gap-analysis/#current-k13d-features-baseline","title":"Current k13d Features (Baseline)","text":""},{"location":"reference/feature-gap-analysis/#clitui-features","title":"CLI/TUI Features","text":"<ul> <li> Resource listing: Pods, Deployments, Services, Nodes, Namespaces, Events, ConfigMaps, Secrets, DaemonSets, StatefulSets, Jobs, CronJobs, Ingresses</li> <li> Namespace switching</li> <li> Context switching</li> <li> Real-time table filtering with highlight</li> <li> Command autocomplete with hints</li> <li> AI chat integration (streaming)</li> <li> YAML view for resources</li> <li> Pod logs viewer</li> <li> Delete with confirmation</li> <li> Port forwarding</li> <li> Shell exec (spawns external terminal)</li> <li> Health check command</li> <li> i18n support (en, ko, ja, zh)</li> </ul>"},{"location":"reference/feature-gap-analysis/#web-ui-features-indexhtml","title":"Web UI Features (index.html)","text":"<ul> <li> Login page with username/password</li> <li> Dark theme (Tokyo Night style)</li> <li> Sidebar navigation with resource groups</li> <li> Resource table with status colors</li> <li> Namespace selector dropdown</li> <li> AI chat panel with streaming responses</li> <li> Resizable panels (drag handle)</li> <li> Settings modal (language, LLM config)</li> <li> Audit log viewer</li> <li> Reports viewer</li> <li> Refresh button per resource</li> <li> User badge and logout</li> <li> Tab system (Table/YAML/Logs)</li> <li> Message history in AI panel</li> <li> Tool execution visualization with Show More button</li> </ul>"},{"location":"reference/feature-gap-analysis/#web-serverapi-features","title":"Web Server/API Features","text":"<ul> <li> REST API for resources (pods, deployments, services, namespaces, nodes, events)</li> <li> AI chat endpoint (SSE streaming with agentic mode)</li> <li> JWT authentication with session management</li> <li> LDAP authentication support</li> <li> Audit logging (SQLite)</li> <li> Report generation API</li> <li> Settings API (GET/PUT)</li> <li> LLM settings API</li> <li> Health check endpoint</li> <li> CORS middleware</li> <li> Static file serving (embedded)</li> <li> Tool approval flow for write/dangerous commands</li> <li> Command classification (read-only, write, dangerous)</li> </ul>"},{"location":"reference/feature-gap-analysis/#backend-features","title":"Backend Features","text":"<ul> <li> Multi-provider LLM support (OpenAI-compatible, Ollama, Anthropic)</li> <li> Kubernetes client with metrics API</li> <li> Dynamic client for CRDs</li> <li> Context switching support</li> <li> MCP (Model Context Protocol) integration</li> <li> Tool registry with MCP tool support</li> </ul>"},{"location":"reference/feature-gap-analysis/#recently-implemented-features-2026-01","title":"Recently Implemented Features (2026-01)","text":""},{"location":"reference/feature-gap-analysis/#ai-safety-validation","title":"AI Safety &amp; Validation \u2705","text":"<p>Status: Implemented - [x] Command classification (read-only, write, dangerous) - [x] Tool approval flow for destructive operations - [x] Auto-approve read-only commands - [x] User confirmation required for write/dangerous commands - [x] Timeout handling for approval requests</p>"},{"location":"reference/feature-gap-analysis/#in-browser-terminal","title":"In-Browser Terminal \u2705","text":"<p>Status: Implemented - [x] WebSocket-based terminal (<code>pkg/web/terminal.go</code>) - [x] Bidirectional stdin/stdout streaming - [x] Terminal resize support - [x] Container selection support</p>"},{"location":"reference/feature-gap-analysis/#deployment-operations","title":"Deployment Operations \u2705","text":"<p>Status: Implemented (<code>pkg/web/operations.go</code>) - [x] Scale deployments - [x] Rollout restart - [x] Pause/resume deployment - [x] Rollback to previous revision - [x] View revision history</p>"},{"location":"reference/feature-gap-analysis/#statefulsetdaemonset-operations","title":"StatefulSet/DaemonSet Operations \u2705","text":"<p>Status: Implemented - [x] Scale StatefulSets - [x] Restart StatefulSets - [x] Restart DaemonSets</p>"},{"location":"reference/feature-gap-analysis/#cronjob-operations","title":"CronJob Operations \u2705","text":"<p>Status: Implemented - [x] Trigger CronJob manually (create Job) - [x] Suspend/resume CronJob</p>"},{"location":"reference/feature-gap-analysis/#node-operations","title":"Node Operations \u2705","text":"<p>Status: Implemented - [x] Node cordon/uncordon - [x] Node drain with eviction - [x] List pods on node</p>"},{"location":"reference/feature-gap-analysis/#helm-integration","title":"Helm Integration \u2705","text":"<p>Status: Implemented (<code>pkg/helm/client.go</code>) - [x] List Helm releases - [x] Get release details - [x] View release history - [x] Get release values - [x] Get release manifest - [x] Install releases - [x] Upgrade releases - [x] Uninstall releases - [x] Rollback releases - [x] Repository management (add, remove, update) - [x] Search charts</p>"},{"location":"reference/feature-gap-analysis/#mcp-support","title":"MCP Support \u2705","text":"<p>Status: Implemented - [x] MCP client mode (use external tools) - [x] Tool registration system - [x] MCP server connection management - [x] Dynamic tool discovery</p>"},{"location":"reference/feature-gap-analysis/#priority-1-critical-missing-features","title":"Priority 1: Critical Missing Features","text":""},{"location":"reference/feature-gap-analysis/#11-multi-provider-llm-support-from-kubectl-ai","title":"1.1 Multi-Provider LLM Support (from kubectl-ai)","text":"<p>Status: \u2705 Implemented (2026-01-22) - [x] OpenAI-compatible provider (with tool calling) - [x] Ollama (local) provider - [x] Model profile management - [x] Google Gemini provider - [x] AWS Bedrock provider (Claude) - with tool calling - [x] Azure OpenAI provider - with tool calling - [ ] Llama.cpp provider (low priority) - [ ] Grok provider (low priority)</p>"},{"location":"reference/feature-gap-analysis/#12-plugin-system-from-headlamp","title":"1.2 Plugin System (from headlamp)","text":"<p>Status: Not Implemented Required: - [ ] Plugin registry system - [ ] Dynamic plugin loading from URL - [ ] Plugin configuration management - [ ] Extension points:   - Custom sidebar items   - Custom routes   - Custom resource detail views   - Custom table columns   - Custom themes</p> <p>Files to create: <pre><code>pkg/plugins/\n\u251c\u2500\u2500 registry.go      # Plugin registry\n\u251c\u2500\u2500 loader.go        # Dynamic plugin loading\n\u251c\u2500\u2500 config.go        # Plugin configuration\n\u2514\u2500\u2500 types.go         # Plugin interfaces\n</code></pre></p>"},{"location":"reference/feature-gap-analysis/#priority-2-important-missing-features","title":"Priority 2: Important Missing Features","text":""},{"location":"reference/feature-gap-analysis/#21-session-persistence-from-kubectl-ai","title":"2.1 Session Persistence (from kubectl-ai)","text":"<p>Status: \u2705 Implemented (2026-01-22) Location: <code>pkg/ai/session/session.go</code> - [x] Session storage interface (<code>Store</code>) - [x] Filesystem backend (JSON files in XDG data directory) - [x] Session metadata (ID, timestamps, model, provider) - [x] Resume/load previous sessions (<code>Get</code>, <code>GetContextMessages</code>) - [x] Clear conversation command (<code>Clear</code>, <code>Delete</code>) - [x] List sessions with pagination (<code>List</code>, <code>GetRecentSessions</code>) - [x] Export/Import sessions - [x] Tool call recording in messages</p>"},{"location":"reference/feature-gap-analysis/#22-resource-graph-visualization-from-headlamp","title":"2.2 Resource Graph Visualization (from headlamp)","text":"<p>Status: Not Implemented Required: - [ ] Pod-to-Service-to-Deployment graph - [ ] Resource relationship mapping - [ ] Interactive graph navigation - [ ] Namespace grouping</p> <p>Implementation: Use xyflow/react or similar for web UI</p>"},{"location":"reference/feature-gap-analysis/#23-metrics-visualization-from-kubernetes-dashboard","title":"2.3 Metrics Visualization (from kubernetes-dashboard)","text":"<p>Status: API Available, UI Not Implemented Required: - [ ] CPU/Memory sparklines in table - [ ] Resource usage charts - [ ] Historical metrics storage - [ ] Metrics aggregation</p>"},{"location":"reference/feature-gap-analysis/#priority-3-enhancement-features","title":"Priority 3: Enhancement Features","text":""},{"location":"reference/feature-gap-analysis/#31-oidcoauth2-authentication-from-headlamp","title":"3.1 OIDC/OAuth2 Authentication (from headlamp)","text":"<p>Status: Not Implemented Required: - [ ] OIDC provider integration - [ ] PKCE flow support - [ ] Token refresh automation - [ ] JMESPath claim extraction - [ ] Multiple auth method support</p>"},{"location":"reference/feature-gap-analysis/#32-multi-cluster-support-from-headlamp","title":"3.2 Multi-Cluster Support (from headlamp)","text":"<p>Status: Not Implemented Required: - [ ] Cluster switcher UI - [ ] Per-cluster authentication - [ ] Kubeconfig file watcher - [ ] Dynamic cluster addition</p>"},{"location":"reference/feature-gap-analysis/#33-advanced-search-from-headlamp","title":"3.3 Advanced Search (from headlamp)","text":"<p>Status: Not Implemented Required: - [ ] Global search across clusters - [ ] Label selector filtering - [ ] Field selector filtering - [ ] Recent searches tracking - [ ] Full-text search with fuse.js</p>"},{"location":"reference/feature-gap-analysis/#34-custom-resource-definition-support-from-kubernetes-dashboard-headlamp","title":"3.4 Custom Resource Definition Support (from kubernetes-dashboard, headlamp)","text":"<p>Status: Partial (API exists) Required: - [ ] List all CRDs in UI - [ ] Browse CRD instances - [ ] Create/edit custom resources - [ ] CRD schema validation - [ ] OpenAPI documentation display</p>"},{"location":"reference/feature-gap-analysis/#35-retry-logic-with-backoff-from-kubectl-ai","title":"3.5 Retry Logic with Backoff (from kubectl-ai)","text":"<p>Status: \u2705 Implemented Location: <code>pkg/ai/providers/factory.go</code> - [x] Exponential backoff - [x] Jitter support - [x] Retryable error detection (429, 5xx, timeout, connection errors) - [x] Max attempts configuration - [x] Configurable via <code>RetryConfig</code></p>"},{"location":"reference/feature-gap-analysis/#36-yaml-editor-with-validation-from-headlamp","title":"3.6 YAML Editor with Validation (from headlamp)","text":"<p>Status: Not Implemented Required: - [ ] Monaco editor integration - [ ] Syntax highlighting - [ ] Schema validation - [ ] Auto-completion - [ ] Inline documentation</p>"},{"location":"reference/feature-gap-analysis/#priority-4-uiux-improvements","title":"Priority 4: UI/UX Improvements","text":""},{"location":"reference/feature-gap-analysis/#41-from-kubernetes-dashboard","title":"4.1 From kubernetes-dashboard","text":"<ul> <li> Deployment creation wizard (form-based)</li> <li> Image reference validation</li> <li> Protocol validation for services</li> <li> Log download as file</li> <li> Multi-container log selection</li> <li> Sparkline metrics in list views</li> <li> CSRF protection for API</li> </ul>"},{"location":"reference/feature-gap-analysis/#42-from-headlamp","title":"4.2 From headlamp","text":"<ul> <li> Dark/Light theme toggle</li> <li> Custom theme support</li> <li> Responsive mobile layout</li> <li> Breadcrumb navigation</li> <li> Action confirmation dialogs</li> <li> Empty state handling</li> <li> Loading animations</li> <li> Error boundary UI</li> <li> Internationalization (12 languages)</li> </ul>"},{"location":"reference/feature-gap-analysis/#43-from-kubectl-ai","title":"4.3 From kubectl-ai","text":"<ul> <li> Streaming log UI for AI responses</li> <li> Meta-commands (clear, model, tools, sessions)</li> <li> Tool call visualization</li> <li> Audit/journal logging with structured output</li> </ul>"},{"location":"reference/feature-gap-analysis/#api-feature-gaps-backend","title":"API Feature Gaps (Backend)","text":""},{"location":"reference/feature-gap-analysis/#from-kubernetes-dashboard-api","title":"From kubernetes-dashboard API","text":"Endpoint Description k13d Status <code>POST /appdeployment</code> Deploy application Missing <code>POST /appdeployment/validate/*</code> Validation endpoints Missing <code>PUT /deployment/rollback</code> Rollback deployment \u2705 Implemented <code>PUT /deployment/pause</code> Pause deployment \u2705 Implemented <code>PUT /deployment/resume</code> Resume deployment \u2705 Implemented <code>PUT /deployment/restart</code> Restart deployment \u2705 Implemented <code>POST /cronjob/trigger</code> Trigger CronJob \u2705 Implemented <code>POST /node/drain</code> Drain node \u2705 Implemented <code>GET /metrics/*</code> Metrics endpoints \u2705 Implemented <code>GET /_raw/*</code> Raw resource access Missing <code>GET /csrftoken/*</code> CSRF tokens Missing <code>WS /shell/*</code> WebSocket terminal \u2705 Implemented <code>GET /log/file/*</code> Download logs Missing"},{"location":"reference/feature-gap-analysis/#from-headlamp-api","title":"From headlamp API","text":"Feature Description k13d Status <code>/plugins/*</code> Plugin management Missing <code>/helm/*</code> Helm operations \u2705 Implemented <code>WS /exec</code> Pod exec WebSocket \u2705 Implemented <code>/portforward/*</code> Port forward management \u2705 Implemented <code>/cluster/*</code> Multi-cluster management Missing"},{"location":"reference/feature-gap-analysis/#summary","title":"Summary","text":"Category kubernetes-dashboard headlamp kubectl-ai k13d Status LLM Providers N/A N/A 7+ providers \u2705 5 providers (OpenAI, Ollama, Gemini, Bedrock, Azure) AI Safety N/A N/A Full \u2705 Implemented Terminal WebSocket WebSocket N/A \u2705 Implemented Plugins No Yes (full) No Not Implemented Helm No Yes No \u2705 Implemented Multi-cluster No Yes No Not Implemented Metrics Viz Yes (sparkline) Yes No API only Resource Graph No Yes No Not Implemented Session Persist N/A No Yes \u2705 Implemented Retry/Backoff N/A N/A Yes \u2705 Implemented OIDC Auth Yes Yes (full) No Not Implemented CRD Management Yes Yes No Partial Node Operations Yes Yes No \u2705 Implemented Deployment Ops Yes (full) Partial No \u2705 Implemented MCP Support N/A N/A Yes \u2705 Implemented <p>Implemented Features: ~30 major features Remaining Features: ~15 major features</p>"},{"location":"reference/feature-gap-analysis/#implementation-progress","title":"Implementation Progress","text":""},{"location":"reference/feature-gap-analysis/#completed-phase-1-2","title":"Completed (Phase 1-2)","text":"<ol> <li>\u2705 AI safety validation with tool approval flow</li> <li>\u2705 In-browser terminal (WebSocket)</li> <li>\u2705 Deployment operations (scale, restart, pause, resume, rollback, history)</li> <li>\u2705 StatefulSet/DaemonSet operations</li> <li>\u2705 CronJob operations (trigger, suspend)</li> <li>\u2705 Node operations (cordon, drain, pods)</li> <li>\u2705 Helm integration (releases, repos, search)</li> <li>\u2705 MCP support</li> <li>\u2705 Tool execution visualization</li> </ol>"},{"location":"reference/feature-gap-analysis/#recently-completed-2026-01-22","title":"Recently Completed (2026-01-22)","text":"<ul> <li> Google Gemini provider</li> <li> AWS Bedrock provider (Claude) with tool calling</li> <li> Azure OpenAI provider with tool calling</li> <li> Session persistence for AI conversations</li> <li> Retry logic with exponential backoff</li> </ul>"},{"location":"reference/feature-gap-analysis/#upcoming-phase-3-5","title":"Upcoming (Phase 3-5)","text":"<ol> <li>Metrics visualization (sparklines, charts)</li> <li>Resource graph visualization</li> <li>Plugin system</li> <li>Multi-cluster support</li> <li>OIDC authentication</li> <li>Advanced search</li> <li>YAML editor with Monaco</li> <li>Web UI integration for session management</li> </ol>"},{"location":"reference/teleport-comparison/","title":"k13d vs Teleport Comparison","text":"<p>This document provides a detailed feature-by-feature comparison between k13d and Gravitational Teleport, two platforms that address Kubernetes infrastructure management from different perspectives.</p>"},{"location":"reference/teleport-comparison/#executive-summary","title":"Executive Summary","text":"Aspect k13d Teleport Focus Kubernetes AI Explorer &amp; Dashboard Infrastructure Identity &amp; Access Platform Primary Goal Day-to-day K8s operations with AI assistance Zero-trust access control across all infrastructure Target User DevOps engineers, SREs, developers Security teams, platform engineers, compliance Interface TUI (k9s-style) + Web UI Web UI + CLI (<code>tsh</code>/<code>tctl</code>) + Desktop App AI Integration Core feature (agentic AI assistant) Emerging (session summaries, MCP governance) K8s Resource Mgmt Deep (30+ resource types, drill-down) Proxy-based (kubectl access control) Authentication Local, Token, LDAP SSO, Certificates, MFA, Device Trust License MIT (Open Source) AGPL (Community) / Commercial (Enterprise)"},{"location":"reference/teleport-comparison/#architecture-philosophy","title":"Architecture &amp; Philosophy","text":""},{"location":"reference/teleport-comparison/#k13d-kubernetes-first-ai-dashboard","title":"k13d: Kubernetes-First AI Dashboard","text":"<p>k13d is designed as a direct Kubernetes management tool that combines the operational efficiency of k9s with AI-powered intelligence.</p> <pre><code>User \u2192 k13d (TUI/Web) \u2192 Kubernetes API Server\n            \u2502\n            \u2514\u2192 AI Assistant (LLM) \u2192 Tool Execution\n</code></pre> <p>Key Design Principles</p> <ul> <li>Direct cluster access with minimal setup</li> <li>AI-first approach to Kubernetes troubleshooting</li> <li>Dual interface (TUI + Web) with feature parity</li> <li>Single binary, zero external dependencies</li> <li>Offline-capable with embedded LLM</li> </ul>"},{"location":"reference/teleport-comparison/#teleport-zero-trust-infrastructure-gateway","title":"Teleport: Zero-Trust Infrastructure Gateway","text":"<p>Teleport acts as an identity-aware access proxy between users and infrastructure.</p> <pre><code>User \u2192 tsh/Web UI \u2192 Teleport Proxy \u2192 Teleport Auth \u2192 Infrastructure\n                                                        \u251c\u2500\u2500 SSH Servers\n                                                        \u251c\u2500\u2500 Kubernetes\n                                                        \u251c\u2500\u2500 Databases\n                                                        \u251c\u2500\u2500 Web Apps\n                                                        \u251c\u2500\u2500 Windows RDP\n                                                        \u2514\u2500\u2500 MCP Servers\n</code></pre> <p>Key Design Principles</p> <ul> <li>Zero-trust: verify everything, trust nothing</li> <li>Short-lived certificates replace long-lived secrets</li> <li>Unified access layer across all infrastructure types</li> <li>Complete session recording and audit</li> <li>Compliance-first design (FedRAMP, SOC 2, HIPAA)</li> </ul>"},{"location":"reference/teleport-comparison/#kubernetes-management","title":"Kubernetes Management","text":"Feature k13d Teleport 30+ Resource Types Interactive Resource Tables Resource Actions (YAML, Describe, Scale) Via kubectl Built-in Log Streaming Via kubectl Built-in Shell Access Via kubectl Port Forwarding UI Via kubectl Namespace Quick-Switch Resource Drill-Down Multi-Cluster Access Single (switchable) Cluster Auto-Discovery K8s RBAC Overlay Inherits kubeconfig Helm Integration Metrics Display Security Scanning <p>k13d provides deep Kubernetes resource management with interactive navigation, AI-powered analysis, and operational tools. Teleport provides secure access to Kubernetes through proxy-based authentication but delegates resource management to kubectl.</p>"},{"location":"reference/teleport-comparison/#ai-intelligence","title":"AI &amp; Intelligence","text":"Feature k13d Teleport AI Assistant  Core feature Natural Language Queries AI Tool Execution  kubectl, bash, MCP Command Safety Analysis 8+ LLM Providers Live Model Switching Embedded LLM (Offline) Streaming Responses AI Benchmarking  125+ tasks Session Summaries (AI)  Enterprise MCP Agent Governance Client mode  Governance Agentic Identity Framework  Emerging <p>k13d treats AI as a first-class feature for Kubernetes operations. Teleport focuses on securing AI agents through MCP governance rather than providing an AI assistant.</p>"},{"location":"reference/teleport-comparison/#user-interface","title":"User Interface","text":""},{"location":"reference/teleport-comparison/#terminal-interface","title":"Terminal Interface","text":"Feature k13d Teleport TUI Dashboard  k9s-style Vim Navigation  j/k, g/G Command Bar + Autocomplete Filter/Regex Search Column Sorting Themes/Skins Plugin System SSH Client <code>tsh ssh</code> Database Client <code>tsh db</code> App Access <code>tsh apps</code>"},{"location":"reference/teleport-comparison/#web-interface","title":"Web Interface","text":"Feature k13d Teleport Resource Dashboard AI Chat Panel SSE streaming Log Viewer Web Terminal  xterm.js  xterm.js Session Recording Playback Live Session Sharing Settings Panel Access Request Workflow Desktop App  Teleport Connect VNet (VPN Alternative)"},{"location":"reference/teleport-comparison/#authentication-security","title":"Authentication &amp; Security","text":"Feature k13d Teleport Local Auth Token Auth LDAP/AD Certificate-Based Auth  Core SSO (OIDC/SAML) MFA / Hardware Keys Passwordless Device Trust (TPM) RBAC 3 roles Granular with deny rules ABAC JIT Access Requests Dual Authorization Identity Locks SCIM Provisioning <p>Teleport's authentication is enterprise-grade with zero-trust principles. k13d provides practical authentication suitable for team deployments.</p>"},{"location":"reference/teleport-comparison/#audit-compliance","title":"Audit &amp; Compliance","text":"Feature k13d Teleport Action Audit Log  SQLite  Structured events AI Tool Invocation Logging Session Recording  All protocols Session Playback Audit Export CSV/JSON SIEM (Splunk, Elastic, Datadog) FedRAMP SOC 2 HIPAA PCI DSS ISO 27001 FIPS Binaries"},{"location":"reference/teleport-comparison/#infrastructure-scope","title":"Infrastructure Scope","text":"Resource Type k13d Teleport Kubernetes Clusters  Direct management  Access proxy SSH Servers Databases Web Applications Windows Desktops Cloud APIs MCP Servers  Client + Server  Governance <p>k13d is Kubernetes-specialized with the deepest management experience. Teleport is infrastructure-wide with unified access control across all resource types.</p>"},{"location":"reference/teleport-comparison/#deployment","title":"Deployment","text":"Feature k13d Teleport Single Binary  ~30MB  ~100MB+ Docker Kubernetes Manifests  Helm Air-Gapped  Embedded LLM  Self-hosted Cloud SaaS  Enterprise Cloud External DB Required  SQLite embedded  etcd/DynamoDB HA Setup  Multi-region Auto-Discovery  EC2, RDS, EKS Resource Requirements Minimal (laptop) Moderate (production)"},{"location":"reference/teleport-comparison/#mcp-model-context-protocol","title":"MCP (Model Context Protocol)","text":"Feature k13d Teleport MCP Client  Consumes tools MCP Server  Exposes K8s tools MCP Governance Per-command approval RBAC/ABAC Rate Limiting Budget Controls Agent Identity  Digital twins MCP Catalog <p>k13d uses MCP to extend AI capabilities with external tools. Teleport uses MCP to govern AI agent access \u2014 they address complementary concerns.</p>"},{"location":"reference/teleport-comparison/#complementary-use-cases","title":"Complementary Use Cases","text":"<p>k13d and Teleport are not competitors</p> <p>They serve different roles and can work together effectively.</p>"},{"location":"reference/teleport-comparison/#k13d-strengths-teleport-cannot-replace","title":"k13d Strengths (Teleport Cannot Replace)","text":"<ul> <li> Interactive K8s Dashboard with TUI/Web</li> <li> AI-Powered Troubleshooting</li> <li> k9s-style Keybindings</li> <li> Helm Management</li> <li> Metrics Visualization</li> <li> Security Scanning</li> <li> Embedded LLM (Offline)</li> <li> Report Generation</li> </ul>"},{"location":"reference/teleport-comparison/#teleport-strengths-k13d-cannot-replace","title":"Teleport Strengths (k13d Cannot Replace)","text":"<ul> <li> Zero-Trust Certificate Auth</li> <li> Multi-Protocol (SSH, K8s, DB, App, Desktop)</li> <li> Session Recording &amp; Playback</li> <li> Enterprise SSO (Okta, Entra ID)</li> <li> Compliance Certifications (FedRAMP, SOC 2)</li> <li> JIT Access Requests</li> <li> Multi-Cluster Unified Access</li> <li> Device Trust</li> <li> Auto-Discovery</li> </ul>"},{"location":"reference/teleport-comparison/#potential-integration","title":"Potential Integration","text":"<pre><code>Developer \u2192 Teleport (authenticate) \u2192 k13d (manage K8s) \u2192 Cluster\n                                         \u2502\n                                         \u2514\u2192 AI Assistant \u2192 kubectl/MCP\n</code></pre> <p>In enterprise environments, Teleport handles authentication, access control, and compliance while k13d enhances the operational Kubernetes workflow with AI assistance.</p>"},{"location":"reference/teleport-comparison/#quick-decision-guide","title":"Quick Decision Guide","text":"If you need... Use Interactive Kubernetes dashboard k13d AI-powered cluster troubleshooting k13d k9s-style terminal navigation k13d Zero-trust infrastructure access Teleport Session recording &amp; compliance Teleport Multi-infrastructure access Teleport Enterprise SSO &amp; MFA Teleport Offline K8s management k13d Helm release management k13d Quick single-cluster setup k13d Multi-cluster enterprise deployment Teleport AI agent governance (MCP) Teleport AI-assisted operations k13d Secure access AND AI operations Teleport + k13d"},{"location":"reference/teleport-comparison/#version-information","title":"Version Information","text":"<ul> <li>k13d: v0.7.0 (MIT License)</li> <li>Teleport: v17+ (AGPL / Commercial)</li> <li>Comparison Date: February 2026</li> </ul>"},{"location":"reference/tui-testing/","title":"TUI Testing Strategy for k13d","text":"<p>AI \uc5d0\uc774\uc804\ud2b8\uac00 TUI \uac1c\ubc1c \uc2dc \ud6a8\uc728\uc801\uc73c\ub85c \ud14c\uc2a4\ud2b8\ud560 \uc218 \uc788\ub294 \uc804\ub7b5 \ubb38\uc11c</p>"},{"location":"reference/tui-testing/#overview","title":"Overview","text":"<p>TUI(Terminal User Interface) \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc740 \uc2dc\uac01\uc801 \uac80\uc99d\uc774 \ud544\uc694\ud558\uc9c0\ub9cc, AI \uc5d0\uc774\uc804\ud2b8\ub294 \ud654\uba74\uc744 \uc9c1\uc811 \ubcfc \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc774 \ubb38\uc11c\ub294 AI \uc5d0\uc774\uc804\ud2b8\uac00 TUI \uae30\ub2a5\uc744 \uc790\ub3d9\uc73c\ub85c \uac80\uc99d\ud560 \uc218 \uc788\ub294 \ud14c\uc2a4\ud2b8 \uc804\ub7b5\uc744 \uc815\uc758\ud569\ub2c8\ub2e4.</p>"},{"location":"reference/tui-testing/#1","title":"1. \ud14c\uc2a4\ud2b8 \uc778\ud504\ub77c \uac1c\uc694","text":""},{"location":"reference/tui-testing/#_1","title":"\ud575\uc2ec \ucef4\ud3ec\ub10c\ud2b8","text":"<pre><code>pkg/ui/\n\u251c\u2500\u2500 tui_test_utils.go     # TUITester - SimulationScreen \uae30\ubc18 \ud14c\uc2a4\ud2b8 \uc720\ud2f8\ub9ac\ud2f0\n\u251c\u2500\u2500 app_test.go           # \uae30\ubcf8 \ud558\ub124\uc2a4 \ud14c\uc2a4\ud2b8\n\u2514\u2500\u2500 nav_test.go           # \ub124\ube44\uac8c\uc774\uc158 \ud14c\uc2a4\ud2b8 \uc608\uc2dc\n</code></pre>"},{"location":"reference/tui-testing/#tuitester","title":"TUITester \uad6c\uc870","text":"<pre><code>type TUITester struct {\n    App       *tview.Application    // tview \uc571 \uc778\uc2a4\ud134\uc2a4\n    Screen    tcell.SimulationScreen // \ud5e4\ub4dc\ub9ac\uc2a4 \uc2dc\ubbac\ub808\uc774\uc158 \uc2a4\ud06c\ub9b0\n    Assistant *Assistant            // AI \uc5b4\uc2dc\uc2a4\ud134\ud2b8 \ucef4\ud3ec\ub10c\ud2b8\n}\n\n// \uc8fc\uc694 \uba54\uc11c\ub4dc\nfunc NewTUITester() (*TUITester, error)                                    // \ud14c\uc2a4\ud130 \uc0dd\uc131\nfunc (t *TUITester) InjectKey(key tcell.Key, r rune, mod tcell.ModMask)   // \ud0a4 \uc785\ub825 \uc2dc\ubbac\ub808\uc774\uc158\nfunc (t *TUITester) GetContent() string                                    // \ud654\uba74 \ub0b4\uc6a9 \ucd94\ucd9c\nfunc (t *TUITester) Run() func()                                          // \uc571 \uc2e4\ud589 (stop \ud568\uc218 \ubc18\ud658)\nfunc (t *TUITester) AssertPage(tb, pages, expected)                       // \ud398\uc774\uc9c0 \uac80\uc99d\n</code></pre>"},{"location":"reference/tui-testing/#2","title":"2. \ud14c\uc2a4\ud2b8 \ub808\ubca8 \uc815\uc758","text":""},{"location":"reference/tui-testing/#level-1-unit-tests","title":"Level 1: Unit Tests (\ucef4\ud3ec\ub10c\ud2b8 \ub2e8\uc704)","text":"<p>\uac1c\ubcc4 UI \ucef4\ud3ec\ub10c\ud2b8\uc758 \ub85c\uc9c1 \uac80\uc99d. \ud654\uba74 \ub80c\ub354\ub9c1 \uc5c6\uc774 \uc21c\uc218 \ub85c\uc9c1\ub9cc \ud14c\uc2a4\ud2b8.</p> <p>\ub300\uc0c1: - Config \ud30c\uc2f1/\uc800\uc7a5 - i18n \ubb38\uc790\uc5f4 \ucc98\ub9ac - K8s \ud074\ub77c\uc774\uc5b8\ud2b8 \ub798\ud37c - DB/Audit \ub808\uc774\uc5b4</p> <p>\uc2e4\ud589 \uba85\ub839: <pre><code>go test -v ./pkg/config/...\ngo test -v ./pkg/i18n/...\ngo test -v ./pkg/k8s/...\ngo test -v ./pkg/db/...\n</code></pre></p>"},{"location":"reference/tui-testing/#level-2-integration-tests-tui","title":"Level 2: Integration Tests (TUI \ud1b5\ud569)","text":"<p>SimulationScreen\uc744 \uc0ac\uc6a9\ud55c TUI \ub3d9\uc791 \uac80\uc99d. \ud5e4\ub4dc\ub9ac\uc2a4 \ud658\uacbd\uc5d0\uc11c \ud0a4 \uc785\ub825\uacfc \ud654\uba74 \uc0c1\ud0dc \ud655\uc778.</p> <p>\ub300\uc0c1: - \ud398\uc774\uc9c0 \ub124\ube44\uac8c\uc774\uc158 - \ud0a4\ubc14\uc778\ub529 \ub3d9\uc791 - \ud3fc \uc785\ub825 \ucc98\ub9ac - \ubaa8\ub2ec/\ub2e4\uc774\uc5bc\ub85c\uadf8 \ud45c\uc2dc</p> <p>\uc2e4\ud589 \uba85\ub839: <pre><code>go test -v ./pkg/ui/...\n</code></pre></p>"},{"location":"reference/tui-testing/#level-3-e2e-tests-end-to-end","title":"Level 3: E2E Tests (End-to-End)","text":"<p>\uc2e4\uc81c K8s \ud074\ub7ec\uc2a4\ud130 \uc5f0\uacb0 \uc5c6\uc774 fake clientset\uc73c\ub85c \uc804\uccb4 \ud50c\ub85c\uc6b0 \uac80\uc99d.</p> <p>\ub300\uc0c1: - \ub9ac\uc18c\uc2a4 \ubaa9\ub85d \ud45c\uc2dc - AI \ubd84\uc11d \uc694\uccad/\uc751\ub2f5 - YAML/Describe \ubdf0 - Scale/Delete \ud655\uc778 \ub2e4\uc774\uc5bc\ub85c\uadf8</p>"},{"location":"reference/tui-testing/#3-ai","title":"3. AI \uc5d0\uc774\uc804\ud2b8 \uce5c\ud654\uc801 \ud14c\uc2a4\ud2b8 \ud328\ud134","text":""},{"location":"reference/tui-testing/#31-content-assertion","title":"3.1 \ud654\uba74 \ub0b4\uc6a9 \uac80\uc99d (Content Assertion)","text":"<pre><code>func TestDashboardShowsResources(t *testing.T) {\n    tester, _ := NewTUITester()\n    // ... setup with fake data ...\n\n    stop := tester.Run()\n    defer stop()\n\n    content := tester.GetContent()\n\n    // \ud14d\uc2a4\ud2b8 \uae30\ubc18 \uac80\uc99d - AI\uac00 \uacb0\uacfc\ub97c \ud574\uc11d\ud558\uae30 \uc26c\uc6c0\n    if !strings.Contains(content, \"nginx-deployment\") {\n        t.Errorf(\"Expected 'nginx-deployment' in screen, got:\\n%s\", content)\n    }\n    if !strings.Contains(content, \"Running\") {\n        t.Errorf(\"Expected 'Running' status in screen\")\n    }\n}\n</code></pre>"},{"location":"reference/tui-testing/#32-page-state-assertion","title":"3.2 \ud398\uc774\uc9c0 \uc0c1\ud0dc \uac80\uc99d (Page State Assertion)","text":"<pre><code>func TestNavigationFlow(t *testing.T) {\n    tester, _ := NewTUITester()\n    app := InitApp(tester.App, cfg, aiClient, k8sClient)\n\n    stop := tester.Run()\n    defer stop()\n\n    // \ucd08\uae30 \uc0c1\ud0dc\n    tester.AssertPage(t, app.Pages, \"main\")\n\n    // 's' \ud0a4\ub85c \uc124\uc815 \ud398\uc774\uc9c0 \uc774\ub3d9\n    tester.InjectKey(tcell.KeyRune, 's', tcell.ModNone)\n    tester.AssertPage(t, app.Pages, \"settings\")\n\n    // ESC\ub85c \uba54\uc778 \ubcf5\uadc0\n    tester.InjectKey(tcell.KeyEscape, 0, tcell.ModNone)\n    tester.AssertPage(t, app.Pages, \"main\")\n}\n</code></pre>"},{"location":"reference/tui-testing/#33-callback-verification","title":"3.3 \ucf5c\ubc31 \ud2b8\ub9ac\uac70 \uac80\uc99d (Callback Verification)","text":"<pre><code>func TestYAMLViewCallback(t *testing.T) {\n    tester, _ := NewTUITester()\n    app := InitApp(tester.App, cfg, aiClient, k8sClient)\n\n    // \ucf5c\ubc31 \ud638\ucd9c \ucd94\uc801\n    var callbackCalled bool\n    originalOnYaml := app.Dashboard.OnYaml\n    app.Dashboard.OnYaml = func(ns, name string) {\n        callbackCalled = true\n        if ns != \"default\" || name != \"nginx\" {\n            t.Errorf(\"unexpected callback args: %s/%s\", ns, name)\n        }\n        originalOnYaml(ns, name)\n    }\n\n    stop := tester.Run()\n    defer stop()\n\n    // 'y' \ud0a4\ub85c YAML \ubdf0 \ud2b8\ub9ac\uac70\n    tester.InjectKey(tcell.KeyRune, 'y', tcell.ModNone)\n\n    if !callbackCalled {\n        t.Error(\"OnYaml callback was not triggered\")\n    }\n}\n</code></pre>"},{"location":"reference/tui-testing/#34-focus-verification","title":"3.4 \ud3ec\ucee4\uc2a4 \uac80\uc99d (Focus Verification)","text":"<pre><code>// \ucd94\uac00\ud560 \ud5ec\ud37c \uba54\uc11c\ub4dc\nfunc (t *TUITester) GetFocusedPrimitive() tview.Primitive {\n    return t.App.GetFocus()\n}\n\nfunc (t *TUITester) AssertFocus(tb testing.TB, expected tview.Primitive) {\n    tb.Helper()\n    if t.App.GetFocus() != expected {\n        tb.Errorf(\"focus mismatch: expected %T, got %T\", expected, t.App.GetFocus())\n    }\n}\n</code></pre>"},{"location":"reference/tui-testing/#4","title":"4. \uad8c\uc7a5 \ud14c\uc2a4\ud2b8 \uad6c\uc870","text":""},{"location":"reference/tui-testing/#41","title":"4.1 \ud14c\uc2a4\ud2b8 \ud30c\uc77c \uad6c\uc131","text":"<pre><code>pkg/ui/\n\u251c\u2500\u2500 tui_test_utils.go        # \uacf5\ud1b5 \ud14c\uc2a4\ud2b8 \uc720\ud2f8\ub9ac\ud2f0\n\u251c\u2500\u2500 tui_test_fixtures.go     # Mock \ub370\uc774\ud130 \ubc0f fake \uac1d\uccb4\n\u251c\u2500\u2500 app_test.go              # App \ucd08\uae30\ud654 \ud14c\uc2a4\ud2b8\n\u251c\u2500\u2500 nav_test.go              # \ub124\ube44\uac8c\uc774\uc158 \ud14c\uc2a4\ud2b8\n\u251c\u2500\u2500 dashboard_test.go        # Dashboard \ucef4\ud3ec\ub10c\ud2b8 \ud14c\uc2a4\ud2b8\n\u251c\u2500\u2500 assistant_test.go        # AI \uc5b4\uc2dc\uc2a4\ud134\ud2b8 \ud14c\uc2a4\ud2b8\n\u251c\u2500\u2500 resource_viewer_test.go  # \ub9ac\uc18c\uc2a4 \ubdf0\uc5b4 \ud14c\uc2a4\ud2b8\n\u251c\u2500\u2500 log_viewer_test.go       # \ub85c\uadf8 \ubdf0\uc5b4 \ud14c\uc2a4\ud2b8\n\u251c\u2500\u2500 settings_test.go         # \uc124\uc815 \ud398\uc774\uc9c0 \ud14c\uc2a4\ud2b8\n\u2514\u2500\u2500 command_bar_test.go      # \ucee4\ub9e8\ub4dc \ubc14 \ud14c\uc2a4\ud2b8\n</code></pre>"},{"location":"reference/tui-testing/#42-fake-k8s","title":"4.2 Fake K8s \ub370\uc774\ud130 \uc0dd\uc131","text":"<pre><code>// tui_test_fixtures.go\nfunc NewFakeK8sClient() *k8s.Client {\n    fakeClient := fake.NewSimpleClientset(\n        // Pods\n        &amp;corev1.Pod{\n            ObjectMeta: metav1.ObjectMeta{\n                Name:      \"nginx-pod\",\n                Namespace: \"default\",\n            },\n            Status: corev1.PodStatus{\n                Phase: corev1.PodRunning,\n            },\n        },\n        // Deployments\n        &amp;appsv1.Deployment{\n            ObjectMeta: metav1.ObjectMeta{\n                Name:      \"nginx-deployment\",\n                Namespace: \"default\",\n            },\n            Spec: appsv1.DeploymentSpec{\n                Replicas: ptr.To(int32(3)),\n            },\n        },\n        // ... more resources\n    )\n    return &amp;k8s.Client{Clientset: fakeClient}\n}\n</code></pre>"},{"location":"reference/tui-testing/#43","title":"4.3 \ud14c\uc2a4\ud2b8 \uc2e4\ud589 \uba85\ub839\uc5b4 \ubaa8\uc74c","text":"<pre><code># \uc804\uccb4 \ud14c\uc2a4\ud2b8\ngo test ./...\n\n# UI \ud14c\uc2a4\ud2b8\ub9cc\ngo test -v ./pkg/ui/...\n\n# \ud2b9\uc815 \ud14c\uc2a4\ud2b8 \ud568\uc218\ngo test -v -run TestNavigation ./pkg/ui/...\n\n# \ucee4\ubc84\ub9ac\uc9c0 \ud3ec\ud568\ngo test -cover -coverprofile=coverage.out ./pkg/ui/...\ngo tool cover -html=coverage.out\n\n# \ub808\uc774\uc2a4 \uac10\uc9c0 (\ub3d9\uc2dc\uc131 \ubb38\uc81c \ud655\uc778)\ngo test -race ./pkg/ui/...\n\n# \uc9e7\uc740 \ud0c0\uc784\uc544\uc6c3 (\ube60\ub978 \ud53c\ub4dc\ubc31)\ngo test -timeout 30s ./pkg/ui/...\n</code></pre>"},{"location":"reference/tui-testing/#5-ci","title":"5. CI \ud1b5\ud569","text":""},{"location":"reference/tui-testing/#51-github-actions","title":"5.1 GitHub Actions \ud638\ud658","text":"<p>TUITester\ub294 \ud5e4\ub4dc\ub9ac\uc2a4\ub85c \ub3d9\uc791\ud558\ubbc0\ub85c CI\uc5d0\uc11c \uadf8\ub300\ub85c \uc2e4\ud589 \uac00\ub2a5\ud569\ub2c8\ub2e4.</p> <pre><code># .github/workflows/test.yml\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-go@v5\n        with:\n          go-version: '1.25'\n      - name: Run tests\n        run: go test -v -race -coverprofile=coverage.out ./...\n      - name: Upload coverage\n        uses: codecov/codecov-action@v4\n        with:\n          files: coverage.out\n</code></pre>"},{"location":"reference/tui-testing/#52","title":"5.2 \ud14c\uc2a4\ud2b8 \ucd9c\ub825 \ud574\uc11d","text":"<p>AI \uc5d0\uc774\uc804\ud2b8\uac00 \ud14c\uc2a4\ud2b8 \uacb0\uacfc\ub97c \ud574\uc11d\ud558\uae30 \uc27d\ub3c4\ub85d:</p> <pre><code>// \uba85\ud655\ud55c \uc5d0\ub7ec \uba54\uc2dc\uc9c0\nt.Errorf(\"Page navigation failed:\\n  Expected: %s\\n  Got: %s\\n  After key: %c\",\n    expected, actual, keyPressed)\n\n// \ud654\uba74 \uc0c1\ud0dc \ub364\ud504\nt.Errorf(\"Content assertion failed:\\nScreen content:\\n---\\n%s\\n---\\nMissing: %s\",\n    tester.GetContent(), missingText)\n</code></pre>"},{"location":"reference/tui-testing/#6","title":"6. \ud14c\uc2a4\ud2b8 \uac1c\ubc1c \uc6cc\ud06c\ud50c\ub85c\uc6b0","text":""},{"location":"reference/tui-testing/#ai","title":"AI \uc5d0\uc774\uc804\ud2b8 \uad8c\uc7a5 \uc6cc\ud06c\ud50c\ub85c\uc6b0","text":"<ol> <li>\uae30\ub2a5 \uad6c\ud604 \uc804: \ud14c\uc2a4\ud2b8 \ucf00\uc774\uc2a4 \uba3c\uc800 \uc791\uc131 (TDD)</li> <li>\uae30\ub2a5 \uad6c\ud604: \ucf54\ub4dc \uc791\uc131</li> <li>\ud14c\uc2a4\ud2b8 \uc2e4\ud589: <code>go test -v ./pkg/ui/...</code></li> <li>\uacb0\uacfc \ud655\uc778: \ud14c\uc2a4\ud2b8 \ucd9c\ub825 \ubd84\uc11d</li> <li>\ubc18\ubcf5: \uc2e4\ud328 \uc2dc \uc218\uc815 \ud6c4 \uc7ac\uc2e4\ud589</li> </ol>"},{"location":"reference/tui-testing/#_2","title":"\uc608\uc2dc \uc138\uc158","text":"<pre><code># 1. \ud604\uc7ac \ud14c\uc2a4\ud2b8 \uc0c1\ud0dc \ud655\uc778\ngo test -v ./pkg/ui/... 2&gt;&amp;1 | head -50\n\n# 2. \ud2b9\uc815 \ud14c\uc2a4\ud2b8 \ub514\ubc84\uae45\ngo test -v -run TestNavigation ./pkg/ui/... 2&gt;&amp;1\n\n# 3. \uc0c8 \uae30\ub2a5 \ucd94\uac00 \ud6c4 \uc804\uccb4 \uac80\uc99d\ngo test -race ./... &amp;&amp; echo \"All tests passed!\"\n</code></pre>"},{"location":"reference/tui-testing/#7","title":"7. \ud655\uc7a5 \uac00\ub2a5\ud55c \ud14c\uc2a4\ud2b8 \ud5ec\ud37c","text":""},{"location":"reference/tui-testing/#71-enhanced-tuitester","title":"7.1 Enhanced TUITester (\uad8c\uc7a5 \ucd94\uac00 \uba54\uc11c\ub4dc)","text":"<pre><code>// pkg/ui/tui_test_utils.go\uc5d0 \ucd94\uac00 \uad8c\uc7a5\n\n// WaitForCondition waits for a condition to be true with timeout\nfunc (t *TUITester) WaitForCondition(timeout time.Duration, condition func() bool) bool {\n    deadline := time.Now().Add(timeout)\n    for time.Now().Before(deadline) {\n        if condition() {\n            return true\n        }\n        time.Sleep(10 * time.Millisecond)\n    }\n    return false\n}\n\n// AssertContentContains checks if screen contains text\nfunc (t *TUITester) AssertContentContains(tb testing.TB, expected string) {\n    tb.Helper()\n    content := t.GetContent()\n    if !strings.Contains(content, expected) {\n        tb.Errorf(\"Screen does not contain '%s'.\\nActual content:\\n%s\", expected, content)\n    }\n}\n\n// AssertContentNotContains checks if screen doesn't contain text\nfunc (t *TUITester) AssertContentNotContains(tb testing.TB, unexpected string) {\n    tb.Helper()\n    content := t.GetContent()\n    if strings.Contains(content, unexpected) {\n        tb.Errorf(\"Screen unexpectedly contains '%s'.\\nActual content:\\n%s\", unexpected, content)\n    }\n}\n\n// TypeString simulates typing a string\nfunc (t *TUITester) TypeString(s string) {\n    for _, r := range s {\n        t.InjectKey(tcell.KeyRune, r, tcell.ModNone)\n    }\n}\n\n// PressEnter simulates Enter key\nfunc (t *TUITester) PressEnter() {\n    t.InjectKey(tcell.KeyEnter, 0, tcell.ModNone)\n}\n\n// PressEscape simulates Escape key\nfunc (t *TUITester) PressEscape() {\n    t.InjectKey(tcell.KeyEscape, 0, tcell.ModNone)\n}\n</code></pre>"},{"location":"reference/tui-testing/#8","title":"8. \ud14c\uc2a4\ud2b8 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"reference/tui-testing/#_3","title":"\uc0c8 \uae30\ub2a5 \ucd94\uac00 \uc2dc \uac80\uc99d \ud56d\ubaa9","text":"<ul> <li> \ud0a4\ubc14\uc778\ub529 \ub3d9\uc791 \ud655\uc778</li> <li> \ud398\uc774\uc9c0 \uc804\ud658 \ud655\uc778</li> <li> \ud654\uba74 \ub0b4\uc6a9\uc5d0 \uc608\uc0c1 \ud14d\uc2a4\ud2b8 \ud3ec\ud568</li> <li> ESC\ub85c \uc774\uc804 \uc0c1\ud0dc \ubcf5\uadc0 \uac00\ub2a5</li> <li> \uc5d0\ub7ec \uc0c1\ud669 \ucc98\ub9ac (\ube48 \ub370\uc774\ud130, \ub124\ud2b8\uc6cc\ud06c \uc624\ub958 \ub4f1)</li> <li> \ub3d9\uc2dc\uc131 \ubb38\uc81c \uc5c6\uc74c (<code>go test -race</code>)</li> </ul>"},{"location":"reference/tui-testing/#_4","title":"\ucee4\ubc0b \uc804 \ud544\uc218 \uc2e4\ud589","text":"<pre><code># 1. \ud3ec\ub9f7\ud305\ngofmt -s -w .\n\n# 2. \uc815\uc801 \ubd84\uc11d\ngo vet ./...\n\n# 3. \ub9b0\ud2b8 (\uc124\uce58\ub41c \uacbd\uc6b0)\ngolangci-lint run\n\n# 4. \ud14c\uc2a4\ud2b8\ngo test -race ./...\n\n# 5. \ube4c\ub4dc\ngo build ./...\n</code></pre>"},{"location":"reference/tui-testing/#quick-reference","title":"Quick Reference","text":"\ubaa9\uc801 \uba85\ub839\uc5b4 \uc804\uccb4 \ud14c\uc2a4\ud2b8 <code>go test ./...</code> UI \ud14c\uc2a4\ud2b8\ub9cc <code>go test -v ./pkg/ui/...</code> \ud2b9\uc815 \ud14c\uc2a4\ud2b8 <code>go test -v -run TestName ./pkg/ui/...</code> \ucee4\ubc84\ub9ac\uc9c0 <code>go test -cover ./...</code> \ub808\uc774\uc2a4 \uac10\uc9c0 <code>go test -race ./...</code> \ube60\ub978 \ud53c\ub4dc\ubc31 <code>go test -timeout 30s ./...</code>"},{"location":"reference/tui-testing/#_5","title":"\ub2e4\uc74c \ub2e8\uacc4","text":"<ol> <li><code>tui_test_utils.go</code>\uc5d0 \ud5ec\ud37c \uba54\uc11c\ub4dc \ucd94\uac00</li> <li><code>tui_test_fixtures.go</code> \ud30c\uc77c \uc0dd\uc131\ud558\uc5ec fake \ub370\uc774\ud130 \uc815\ub9ac</li> <li>\uac01 \uc8fc\uc694 \ucef4\ud3ec\ub10c\ud2b8\ubcc4 <code>*_test.go</code> \ud30c\uc77c \uc791\uc131</li> <li>CI \ud30c\uc774\ud504\ub77c\uc778\uc5d0 \ud14c\uc2a4\ud2b8 \ub2e8\uacc4 \ucd94\uac00</li> </ol>"},{"location":"user-guide/reports/","title":"Reports","text":"<p>k13d can generate comprehensive cluster analysis reports in multiple formats.</p>"},{"location":"user-guide/reports/#overview","title":"Overview","text":"<p>Reports provide:</p> <ul> <li>Cluster Health - Overall cluster status</li> <li>Resource Analysis - Detailed resource information</li> <li>AI Insights - AI-powered recommendations</li> <li>Cost Analysis - Resource cost estimates</li> <li>Security Audit - Security findings</li> </ul>"},{"location":"user-guide/reports/#report-types","title":"Report Types","text":""},{"location":"user-guide/reports/#cluster-overview-report","title":"Cluster Overview Report","text":"<p>General cluster health and status:</p> <ul> <li>Node status and capacity</li> <li>Workload summary</li> <li>Resource utilization</li> <li>Recent events</li> <li>Health indicators</li> </ul>"},{"location":"user-guide/reports/#security-audit-report","title":"Security Audit Report","text":"<p>Security analysis:</p> <ul> <li>RBAC configuration</li> <li>Network policies</li> <li>Pod security standards</li> <li>Secret management</li> <li>CVE scanning results</li> </ul>"},{"location":"user-guide/reports/#resource-optimization-report","title":"Resource Optimization Report","text":"<p>Cost and efficiency analysis:</p> <ul> <li>Over-provisioned resources</li> <li>Unused resources</li> <li>Right-sizing recommendations</li> <li>Cost estimates</li> </ul>"},{"location":"user-guide/reports/#ai-analysis-report","title":"AI Analysis Report","text":"<p>AI-powered insights:</p> <ul> <li>Anomaly detection</li> <li>Performance recommendations</li> <li>Best practice violations</li> <li>Predicted issues</li> </ul>"},{"location":"user-guide/reports/#generating-reports","title":"Generating Reports","text":""},{"location":"user-guide/reports/#tui-mode","title":"TUI Mode","text":"<pre><code># Open reports menu\n:reports\n\n# Generate specific report\n:report cluster-overview\n:report security-audit\n:report optimization\n</code></pre>"},{"location":"user-guide/reports/#web-mode","title":"Web Mode","text":"<ol> <li>Navigate to Reports section</li> <li>Select report type</li> <li>Choose sections to include in the report:</li> <li>Nodes - Node health, capacity, and conditions</li> <li>Namespaces - Namespace resource usage summary</li> <li>Workloads - Deployments, StatefulSets, DaemonSets status</li> <li>Events - Recent cluster events and warnings</li> <li>Security - Basic security audit (RBAC, pod security)</li> <li>Security Full - Extended Trivy vulnerability scan (slower)</li> <li>FinOps - Cost analysis and optimization suggestions</li> <li>Metrics - CPU/Memory utilization metrics</li> <li>Configure additional options:</li> <li>Namespace filter</li> <li>Output format</li> <li>Click Generate</li> </ol> <p>Tip</p> <p>All standard sections are enabled by default except Security Full, which requires Trivy and can take longer to complete.</p>"},{"location":"user-guide/reports/#cli-mode","title":"CLI Mode","text":"<pre><code># Generate cluster overview\nk13d report --type cluster-overview\n\n# Generate security audit\nk13d report --type security-audit --namespace production\n\n# Generate with AI analysis\nk13d report --type optimization --ai-analysis\n\n# Specify output format and location\nk13d report --type cluster-overview \\\n            --format pdf \\\n            --output ~/reports/cluster-$(date +%Y%m%d).pdf\n</code></pre>"},{"location":"user-guide/reports/#output-formats","title":"Output Formats","text":""},{"location":"user-guide/reports/#markdown","title":"Markdown","text":"<pre><code>k13d report --format markdown\n</code></pre> <p>Output: <pre><code># Cluster Overview Report\n\n## Executive Summary\n- **Cluster**: production-cluster\n- **Nodes**: 5 (5 Ready)\n- **Pods**: 127 Running, 3 Pending\n\n## Node Status\n| Name | Status | CPU | Memory |\n|------|--------|-----|--------|\n| node-1 | Ready | 45% | 62% |\n...\n</code></pre></p>"},{"location":"user-guide/reports/#html","title":"HTML","text":"<pre><code>k13d report --format html\n</code></pre> <p>Generates a styled HTML page with interactive elements.</p>"},{"location":"user-guide/reports/#pdf","title":"PDF","text":"<pre><code>k13d report --format pdf\n</code></pre> <p>Generates a professional PDF document.</p>"},{"location":"user-guide/reports/#json","title":"JSON","text":"<pre><code>k13d report --format json\n</code></pre> <p>Structured data for programmatic processing.</p>"},{"location":"user-guide/reports/#report-configuration","title":"Report Configuration","text":""},{"location":"user-guide/reports/#default-settings","title":"Default Settings","text":"<pre><code># ~/.config/k13d/config.yaml\n\nreports:\n  default_format: markdown\n  output_path: ~/k13d-reports\n  include_ai_analysis: true\n  ai_model: gpt-4\n\n  # Default options for each report type\n  cluster_overview:\n    include_events: true\n    event_limit: 100\n\n  security_audit:\n    check_rbac: true\n    check_network_policies: true\n    check_pod_security: true\n\n  optimization:\n    include_cost_analysis: true\n    cost_model: aws  # aws, gcp, azure, custom\n</code></pre>"},{"location":"user-guide/reports/#cost-models","title":"Cost Models","text":"<p>Configure cost estimation:</p> <pre><code>reports:\n  optimization:\n    cost_model: custom\n    custom_costs:\n      cpu_per_core_hour: 0.05\n      memory_per_gb_hour: 0.01\n      storage_per_gb_month: 0.10\n</code></pre>"},{"location":"user-guide/reports/#report-sections","title":"Report Sections","text":""},{"location":"user-guide/reports/#cluster-overview","title":"Cluster Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Cluster Overview               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 1. Executive Summary                     \u2502\n\u2502 2. Node Status                          \u2502\n\u2502 3. Workload Summary                     \u2502\n\u2502 4. Resource Utilization                 \u2502\n\u2502 5. Recent Events                        \u2502\n\u2502 6. Health Indicators                    \u2502\n\u2502 7. Recommendations (AI)                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"user-guide/reports/#security-audit","title":"Security Audit","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Security Audit                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 1. Executive Summary                     \u2502\n\u2502 2. RBAC Analysis                        \u2502\n\u2502    - Overly permissive roles            \u2502\n\u2502    - Unused roles                       \u2502\n\u2502 3. Network Policy Coverage              \u2502\n\u2502 4. Pod Security Analysis                \u2502\n\u2502    - Privileged containers              \u2502\n\u2502    - Host network usage                 \u2502\n\u2502 5. Secret Management                    \u2502\n\u2502 6. Image Security                       \u2502\n\u2502 7. Compliance Status                    \u2502\n\u2502 8. Recommendations                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"user-guide/reports/#optimization","title":"Optimization","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        Resource Optimization             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 1. Cost Summary                         \u2502\n\u2502 2. Over-provisioned Resources           \u2502\n\u2502    - CPU: 15 pods using &lt; 10%           \u2502\n\u2502    - Memory: 8 pods using &lt; 20%         \u2502\n\u2502 3. Unused Resources                     \u2502\n\u2502    - 3 ConfigMaps not referenced        \u2502\n\u2502    - 2 Secrets not in use               \u2502\n\u2502 4. Right-sizing Recommendations         \u2502\n\u2502 5. Estimated Savings                    \u2502\n\u2502 6. Action Items                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"user-guide/reports/#scheduled-reports","title":"Scheduled Reports","text":""},{"location":"user-guide/reports/#cron-based-scheduling","title":"Cron-based Scheduling","text":"<pre><code># Add to crontab\n0 8 * * 1 k13d report --type cluster-overview --format pdf --output ~/reports/weekly-$(date +\\%Y\\%m\\%d).pdf\n</code></pre>"},{"location":"user-guide/reports/#kubernetes-cronjob","title":"Kubernetes CronJob","text":"<pre><code>apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  name: k13d-weekly-report\nspec:\n  schedule: \"0 8 * * 1\"\n  jobTemplate:\n    spec:\n      template:\n        spec:\n          containers:\n          - name: k13d\n            image: cloudbro/k13d:latest\n            command:\n              - k13d\n              - report\n              - --type=cluster-overview\n              - --format=pdf\n            volumeMounts:\n              - name: reports\n                mountPath: /reports\n          restartPolicy: OnFailure\n          volumes:\n            - name: reports\n              persistentVolumeClaim:\n                claimName: k13d-reports\n</code></pre>"},{"location":"user-guide/reports/#email-reports","title":"Email Reports","text":""},{"location":"user-guide/reports/#configuration","title":"Configuration","text":"<pre><code>reports:\n  email:\n    enabled: true\n    smtp_host: smtp.example.com\n    smtp_port: 587\n    username: reports@example.com\n    password: ${SMTP_PASSWORD}\n    from: \"k13d Reports &lt;reports@example.com&gt;\"\n    to:\n      - team@example.com\n      - alerts@example.com\n</code></pre>"},{"location":"user-guide/reports/#usage","title":"Usage","text":"<pre><code>k13d report --type cluster-overview --email\n</code></pre>"},{"location":"user-guide/reports/#report-api","title":"Report API","text":""},{"location":"user-guide/reports/#rest-api","title":"REST API","text":"<pre><code># Generate report via API\ncurl -X POST http://localhost:8080/api/reports \\\n     -H \"Content-Type: application/json\" \\\n     -d '{\n       \"type\": \"cluster-overview\",\n       \"format\": \"json\",\n       \"namespace\": \"production\"\n     }'\n\n# Get report status\ncurl http://localhost:8080/api/reports/{report-id}\n\n# Download report\ncurl http://localhost:8080/api/reports/{report-id}/download\n</code></pre>"},{"location":"user-guide/reports/#response","title":"Response","text":"<pre><code>{\n  \"id\": \"report-123\",\n  \"type\": \"cluster-overview\",\n  \"status\": \"completed\",\n  \"created_at\": \"2024-01-15T10:30:00Z\",\n  \"download_url\": \"/api/reports/report-123/download\"\n}\n</code></pre>"},{"location":"user-guide/reports/#best-practices","title":"Best Practices","text":""},{"location":"user-guide/reports/#1-regular-reporting","title":"1. Regular Reporting","text":"<p>Schedule weekly cluster overview and monthly security audits.</p>"},{"location":"user-guide/reports/#2-archive-reports","title":"2. Archive Reports","text":"<p>Keep historical reports for trend analysis:</p> <pre><code>reports:\n  retention_days: 90\n  archive_path: ~/k13d-archive\n</code></pre>"},{"location":"user-guide/reports/#3-share-with-stakeholders","title":"3. Share with Stakeholders","text":"<p>Use PDF format for non-technical stakeholders.</p>"},{"location":"user-guide/reports/#4-act-on-recommendations","title":"4. Act on Recommendations","text":"<p>Review AI recommendations and create action items.</p>"},{"location":"user-guide/reports/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/reports/#report-generation-fails","title":"Report Generation Fails","text":"<ul> <li>Check disk space for output</li> <li>Verify namespace access</li> <li>Check AI provider connection</li> </ul>"},{"location":"user-guide/reports/#missing-data","title":"Missing Data","text":"<ul> <li>Verify metrics-server is running</li> <li>Check RBAC permissions</li> <li>Ensure resources exist</li> </ul>"},{"location":"user-guide/reports/#slow-generation","title":"Slow Generation","text":"<ul> <li>Reduce event limit</li> <li>Filter to specific namespaces</li> <li>Disable AI analysis for quick reports</li> </ul>"},{"location":"user-guide/reports/#next-steps","title":"Next Steps","text":"<ul> <li>Configuration - Report settings</li> <li>AI Assistant - AI analysis</li> <li>Security - Security features</li> </ul>"},{"location":"user-guide/shortcuts/","title":"Keyboard Shortcuts","text":"<p>Complete reference for k13d keyboard shortcuts in both TUI and Web interfaces.</p>"},{"location":"user-guide/shortcuts/#tui-keyboard-shortcuts","title":"TUI Keyboard Shortcuts","text":""},{"location":"user-guide/shortcuts/#global","title":"Global","text":"Key Action Description ? Help Show help modal Ctrl+C Quit Exit k13d Esc Cancel Close modal / Cancel action : Command Enter command mode / Filter Start filtering"},{"location":"user-guide/shortcuts/#navigation","title":"Navigation","text":"Key Action Description J Down Move selection down K Up Move selection up Down Down Move selection down Up Up Move selection up G First Go to first item Shift+G Last Go to last item Ctrl+F Page Down Scroll page down Ctrl+B Page Up Scroll page up Ctrl+D Half Down Scroll half page down Ctrl+U Half Up Scroll half page up"},{"location":"user-guide/shortcuts/#panel-navigation","title":"Panel Navigation","text":"Key Action Description Tab Next Panel Switch to next panel Shift+Tab Prev Panel Switch to previous panel Left Left Panel Focus left panel Right Right Panel Focus right panel 1 - 9 Panel N Quick switch to panel N"},{"location":"user-guide/shortcuts/#resource-actions","title":"Resource Actions","text":""},{"location":"user-guide/shortcuts/#general","title":"General","text":"Key Action Description Y YAML View resource YAML D Describe Describe resource E Edit Edit resource in $EDITOR Ctrl+D Delete Delete resource (confirm) Enter Details Show resource details"},{"location":"user-guide/shortcuts/#pods","title":"Pods","text":"Key Action Description L Logs View pod logs Shift+L Prev Logs View previous container logs X Exec Execute shell in pod P Port Forward Start port forwarding F Follow Follow logs"},{"location":"user-guide/shortcuts/#deployments","title":"Deployments","text":"Key Action Description S Scale Scale replicas R Restart Rollout restart H History View rollout history U Undo Rollback to previous"},{"location":"user-guide/shortcuts/#nodes","title":"Nodes","text":"Key Action Description C Cordon Mark unschedulable Shift+C Uncordon Mark schedulable Shift+D Drain Drain node"},{"location":"user-guide/shortcuts/#ai-assistant","title":"AI Assistant","text":"Key Action Description Shift+L AI Analyze Deep analysis of resource H Explain Explain this resource Enter Send Send message to AI Y Approve Approve tool request N Reject Reject tool request A Always Always approve read-only"},{"location":"user-guide/shortcuts/#command-mode","title":"Command Mode","text":"Command Description <code>:pods</code> View pods <code>:svc</code> View services <code>:deploy</code> View deployments <code>:rs</code> View replica sets <code>:sts</code> View statefulsets <code>:ds</code> View daemonsets <code>:jobs</code> View jobs <code>:cronjobs</code> View cronjobs <code>:cm</code> View configmaps <code>:secrets</code> View secrets <code>:ingress</code> View ingresses <code>:pv</code> View persistent volumes <code>:pvc</code> View persistent volume claims <code>:nodes</code> View nodes <code>:ns</code> View namespaces <code>:events</code> View events <code>:helm</code> View Helm releases <code>:ns &lt;name&gt;</code> Switch namespace <code>:ctx &lt;name&gt;</code> Switch context <code>:q</code> Quit <code>:help</code> Show help"},{"location":"user-guide/shortcuts/#management-commands","title":"Management Commands","text":"Command Description <code>:alias</code> View all resource aliases (built-in + custom) <code>:model</code> Open AI model profile selector <code>:model &lt;name&gt;</code> Switch directly to named model profile <code>:plugins</code> View available plugins with shortcuts <code>:health</code> Check system status <code>:audit</code> View audit log"},{"location":"user-guide/shortcuts/#filter-mode","title":"Filter Mode","text":"Key Action Any text Filter pattern Enter Apply filter Esc Clear filter"},{"location":"user-guide/shortcuts/#web-keyboard-shortcuts","title":"Web Keyboard Shortcuts","text":""},{"location":"user-guide/shortcuts/#global_1","title":"Global","text":"Key Action Description Ctrl+K Search Focus global search Ctrl+/ AI Panel Toggle AI assistant Esc Close Close modal/panel ? Help Show shortcuts"},{"location":"user-guide/shortcuts/#navigation_1","title":"Navigation","text":"Key Action Description Down Down Move selection down Up Up Move selection up Enter Select Open selected item Ctrl+Enter New Tab Open in new tab"},{"location":"user-guide/shortcuts/#resource-actions_1","title":"Resource Actions","text":"Key Action Description Ctrl+Y YAML View YAML Ctrl+D Describe Describe resource Del Delete Delete resource Ctrl+E Edit Edit resource"},{"location":"user-guide/shortcuts/#ai-assistant_1","title":"AI Assistant","text":"Key Action Description Enter Send Send message Shift+Enter Newline Add newline Ctrl+L Clear Clear chat"},{"location":"user-guide/shortcuts/#quick-access","title":"Quick Access","text":"Key Action Ctrl+1 Dashboard Ctrl+2 Pods Ctrl+3 Services Ctrl+4 Deployments Ctrl+5 ConfigMaps"},{"location":"user-guide/shortcuts/#vim-style-bindings","title":"Vim-Style Bindings","text":"<p>k13d supports Vim-style navigation:</p> Vim k13d Action <code>j</code> Move down <code>k</code> Move up <code>gg</code> Go to first <code>G</code> Go to last <code>/</code> Search/filter <code>n</code> Next match <code>N</code> Previous match <code>:</code> Command mode <code>q</code> Quit"},{"location":"user-guide/shortcuts/#customization","title":"Customization","text":""},{"location":"user-guide/shortcuts/#custom-keybindings","title":"Custom Keybindings","text":"<p>Configure in <code>~/.config/k13d/config.yaml</code>:</p> <pre><code>keybindings:\n  # Override default bindings\n  describe: \"i\"           # Use 'i' instead of 'd'\n  yaml: \"v\"               # Use 'v' instead of 'y'\n\n  # Custom actions\n  custom:\n    - key: \"ctrl+shift+p\"\n      action: \"port-forward\"\n    - key: \"ctrl+shift+l\"\n      action: \"logs-follow\"\n</code></pre>"},{"location":"user-guide/shortcuts/#disable-shortcuts","title":"Disable Shortcuts","text":"<pre><code>keybindings:\n  disable:\n    - \"ctrl+d\"  # Disable delete shortcut\n</code></pre>"},{"location":"user-guide/shortcuts/#quick-reference-card","title":"Quick Reference Card","text":""},{"location":"user-guide/shortcuts/#essential-shortcuts","title":"Essential Shortcuts","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           k13d Quick Reference            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Navigation                               \u2502\n\u2502   j/k          Move up/down              \u2502\n\u2502   Tab          Switch panel              \u2502\n\u2502   :            Command mode              \u2502\n\u2502   /            Filter                    \u2502\n\u2502                                          \u2502\n\u2502 Actions                                  \u2502\n\u2502   y            View YAML                 \u2502\n\u2502   d            Describe                  \u2502\n\u2502   l            Logs                      \u2502\n\u2502   x            Exec                      \u2502\n\u2502   s            Scale                     \u2502\n\u2502   r            Restart                   \u2502\n\u2502   Ctrl+D       Delete                    \u2502\n\u2502                                          \u2502\n\u2502 AI                                       \u2502\n\u2502   Shift+L      AI Analyze                \u2502\n\u2502   h            Explain This              \u2502\n\u2502   Y/N          Approve/Reject            \u2502\n\u2502                                          \u2502\n\u2502 Commands                                 \u2502\n\u2502   :alias       View aliases              \u2502\n\u2502   :model       Switch AI model           \u2502\n\u2502   :plugins     View plugins              \u2502\n\u2502                                          \u2502\n\u2502 Global                                   \u2502\n\u2502   ?            Help                      \u2502\n\u2502   Esc          Cancel/Back               \u2502\n\u2502   q            Quit                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"user-guide/shortcuts/#next-steps","title":"Next Steps","text":"<ul> <li>TUI Dashboard - Full TUI guide</li> <li>Web Dashboard - Full Web guide</li> <li>Configuration - Customize keybindings</li> </ul>"},{"location":"user-guide/tui/","title":"TUI Dashboard","text":"<p>The Terminal User Interface (TUI) provides a k9s-like experience for managing Kubernetes clusters directly from your terminal.</p>"},{"location":"user-guide/tui/#overview","title":"Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 k13d \u2502 Context: minikube \u2502 Namespace: default \u2502 ? for help     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502 Pods (8)                        \u2502 \u2502 AI Assistant            \u2502 \u2502\n\u2502 \u2502                                 \u2502 \u2502                         \u2502 \u2502\n\u2502 \u2502 NAME            READY  STATUS   \u2502 \u2502 Ask me anything about   \u2502 \u2502\n\u2502 \u2502 nginx-abc123    1/1    Running  \u2502 \u2502 your cluster...         \u2502 \u2502\n\u2502 \u2502 api-def456      2/2    Running  \u2502 \u2502                         \u2502 \u2502\n\u2502 \u2502 db-ghi789       1/1    Running  \u2502 \u2502 &gt; Why is nginx failing? \u2502 \u2502\n\u2502 \u2502                                 \u2502 \u2502                         \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 :pods   Filter: /nginx                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"user-guide/tui/#getting-started","title":"Getting Started","text":""},{"location":"user-guide/tui/#launch-tui-mode","title":"Launch TUI Mode","text":"<pre><code># Default mode\nk13d\n\n# With specific kubeconfig\nk13d --kubeconfig ~/.kube/my-cluster\n\n# With specific context\nk13d --context production\n</code></pre>"},{"location":"user-guide/tui/#navigation","title":"Navigation","text":""},{"location":"user-guide/tui/#basic-navigation","title":"Basic Navigation","text":"Key Action J / Down Move down K / Up Move up Tab Switch focus between panels Esc Close modal / Return to main view Q Quit (with confirmation)"},{"location":"user-guide/tui/#resource-navigation","title":"Resource Navigation","text":"Key Action : Command mode (e.g., <code>:pods</code>, <code>:svc</code>) / Filter current table G Go to first item Shift+G Go to last item Ctrl+F Page down Ctrl+B Page up"},{"location":"user-guide/tui/#panel-focus","title":"Panel Focus","text":"Key Action Tab Cycle focus between panels Left / Right Switch panels 1 - 9 Quick switch to specific panel"},{"location":"user-guide/tui/#resource-commands","title":"Resource Commands","text":""},{"location":"user-guide/tui/#viewing-resources","title":"Viewing Resources","text":"Command Description <code>:pods</code> View pods <code>:svc</code> or <code>:services</code> View services <code>:deploy</code> or <code>:deployments</code> View deployments <code>:rs</code> or <code>:replicasets</code> View replica sets <code>:sts</code> or <code>:statefulsets</code> View stateful sets <code>:ds</code> or <code>:daemonsets</code> View daemon sets <code>:jobs</code> View jobs <code>:cronjobs</code> View cron jobs <code>:cm</code> or <code>:configmaps</code> View config maps <code>:secrets</code> View secrets <code>:ingress</code> View ingresses <code>:pv</code> View persistent volumes <code>:pvc</code> View persistent volume claims <code>:nodes</code> View nodes <code>:ns</code> or <code>:namespaces</code> View namespaces <code>:events</code> View events <code>:helm</code> View Helm releases"},{"location":"user-guide/tui/#namespace-commands","title":"Namespace Commands","text":"Command Description <code>:ns default</code> Switch to default namespace <code>:ns kube-system</code> Switch to kube-system <code>:ns all</code> View all namespaces"},{"location":"user-guide/tui/#management-commands","title":"Management Commands","text":"Command Description <code>:alias</code> View all configured resource aliases <code>:model</code> Open AI model profile selector <code>:model &lt;name&gt;</code> Switch directly to a named model profile <code>:plugins</code> View available plugins with shortcuts <code>:health</code> Check system status <code>:audit</code> View audit log"},{"location":"user-guide/tui/#autocomplete","title":"Autocomplete","text":"<p>When typing a command, k13d provides smart autocomplete:</p> <ul> <li>Single match: Dimmed hint text appears (press Tab to accept)</li> <li>Multiple matches: Dropdown overlay appears above command bar</li> <li>Up / Down to navigate</li> <li>Tab or Enter to select</li> <li>Esc to dismiss</li> <li>Custom aliases from <code>aliases.yaml</code> included in results</li> </ul>"},{"location":"user-guide/tui/#resource-aliases","title":"Resource Aliases","text":"<p>Define custom command shortcuts in <code>~/.config/k13d/aliases.yaml</code>:</p> ~/.config/k13d/aliases.yaml<pre><code>aliases:\n  pp: pods\n  dep: deployments\n  svc: services\n  sec: secrets\n  cm: configmaps\n  ds: daemonsets\n  sts: statefulsets\n</code></pre>"},{"location":"user-guide/tui/#usage","title":"Usage","text":"<ul> <li>Type <code>:pp</code> to navigate to Pods (alias resolves automatically)</li> <li>Type <code>:alias</code> to see all active aliases (built-in + custom)</li> <li>Custom aliases integrate with autocomplete \u2014 type <code>:p</code> and press Tab</li> <li>If a custom alias conflicts with a built-in, the custom alias wins</li> </ul>"},{"location":"user-guide/tui/#resource-actions","title":"Resource Actions","text":""},{"location":"user-guide/tui/#general-actions","title":"General Actions","text":"Key Action Description Y YAML View resource YAML D Describe Describe resource E Edit Edit resource (opens $EDITOR) Ctrl+D Delete Delete resource (with confirmation)"},{"location":"user-guide/tui/#pod-specific-actions","title":"Pod-Specific Actions","text":"Key Action Description L Logs Stream pod logs Shift+L Previous Logs View previous container logs X Exec Open shell in container P Port Forward Start port forwarding"},{"location":"user-guide/tui/#deployment-actions","title":"Deployment Actions","text":"Key Action Description S Scale Scale replicas R Restart Rollout restart H History View rollout history U Undo Rollback to previous version"},{"location":"user-guide/tui/#node-actions","title":"Node Actions","text":"Key Action Description C Cordon Mark node unschedulable Shift+C Uncordon Mark node schedulable Shift+D Drain Drain node"},{"location":"user-guide/tui/#ai-assistant","title":"AI Assistant","text":""},{"location":"user-guide/tui/#using-the-ai-panel","title":"Using the AI Panel","text":"<ol> <li>Press Tab to focus on the AI panel</li> <li>Type your question</li> <li>Press Enter to send</li> <li>View the response in the output area</li> </ol>"},{"location":"user-guide/tui/#chat-history","title":"Chat History","text":"<p>Previous Q&amp;A sessions are preserved within each TUI session. Scroll up to review past conversations, separated by visual dividers.</p>"},{"location":"user-guide/tui/#model-switching","title":"Model Switching","text":"<p>Switch AI models on the fly:</p> <ul> <li>Type <code>:model</code> to see all configured profiles</li> <li>Type <code>:model gpt-4o</code> to switch directly</li> <li>Active model marked with <code>*</code> in selector</li> </ul>"},{"location":"user-guide/tui/#ai-actions-on-resources","title":"AI Actions on Resources","text":"Key Action Description Shift+L AI Analyze Deep analysis of selected resource H Explain This Get explanation of resource"},{"location":"user-guide/tui/#tool-approval","title":"Tool Approval","text":"<p>When AI requests to execute a command:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Tool Approval Required                   \u2502\n\u2502                                         \u2502\n\u2502 kubectl get pods -n production          \u2502\n\u2502                                         \u2502\n\u2502 [Y] Approve  [N] Reject  [A] Always     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> Key Action Y Approve this command N Reject this command A Always approve read-only commands"},{"location":"user-guide/tui/#filtering-and-search","title":"Filtering and Search","text":""},{"location":"user-guide/tui/#filter-syntax","title":"Filter Syntax","text":"<pre><code>/nginx           # Contains \"nginx\"\n/^nginx          # Starts with \"nginx\"\n/nginx$          # Ends with \"nginx\"\n/nginx.*running  # Regex pattern\n</code></pre>"},{"location":"user-guide/tui/#quick-filter","title":"Quick Filter","text":"Key Action / Start filter mode Esc Clear filter Enter Apply filter"},{"location":"user-guide/tui/#status-bar","title":"Status Bar","text":"<p>The status bar shows:</p> <pre><code>:pods [1/25] \u2502 Filter: nginx \u2502 Context: production \u2502 NS: default\n</code></pre> <ul> <li>Current resource type</li> <li>Selection index / total count</li> <li>Active filter</li> <li>Kubernetes context</li> <li>Current namespace</li> </ul>"},{"location":"user-guide/tui/#plugins","title":"Plugins","text":"<p>Extend k13d with external CLI tools via <code>~/.config/k13d/plugins.yaml</code>. Plugins bind keyboard shortcuts to commands that run with the selected resource's context.</p>"},{"location":"user-guide/tui/#quick-start","title":"Quick Start","text":"<p>Create <code>~/.config/k13d/plugins.yaml</code>:</p> <pre><code>plugins:\n  dive:\n    shortCut: \"Ctrl-I\"\n    description: \"Dive into container image layers\"\n    scopes: [pods]\n    command: dive\n    args: [$IMAGE]\n</code></pre> <p>Then in the TUI:</p> <ol> <li>Navigate to Pods (<code>:pods</code>)</li> <li>Select a pod with <code>j</code>/<code>k</code></li> <li>Press Ctrl+I to launch <code>dive</code> with the pod's container image</li> </ol>"},{"location":"user-guide/tui/#using-plugins","title":"Using Plugins","text":"Action How View all plugins Type <code>:plugins</code> Run a plugin Press the plugin's shortcut while on a matching resource Confirm execution Press <code>Execute</code> in the confirmation modal (if <code>confirm: true</code>)"},{"location":"user-guide/tui/#example-plugins","title":"Example Plugins","text":"~/.config/k13d/plugins.yaml<pre><code>plugins:\n  # Analyze container image layers\n  dive:\n    shortCut: \"Ctrl-I\"\n    description: \"Dive into container image layers\"\n    scopes: [pods]\n    command: dive\n    args: [$IMAGE]\n\n  # Debug pod with ephemeral container\n  debug:\n    shortCut: \"Shift-D\"\n    description: \"Debug pod with ephemeral container\"\n    scopes: [pods]\n    command: kubectl\n    args: [debug, -n, $NAMESPACE, $NAME, -it, --image=busybox]\n    confirm: true\n\n  # Background port-forward\n  port-forward:\n    shortCut: \"Shift-F\"\n    description: \"Port-forward to localhost:8080\"\n    scopes: [pods, services]\n    command: kubectl\n    args: [port-forward, -n, $NAMESPACE, $NAME, \"8080:80\"]\n    background: true\n    confirm: true\n\n  # Multi-pod log streaming\n  stern:\n    shortCut: \"Shift-S\"\n    description: \"Stream logs with stern (by app label)\"\n    scopes: [deployments]\n    command: stern\n    args: [-n, $NAMESPACE, $LABELS.app]\n\n  # Open in external tool (all resources)\n  lens:\n    shortCut: \"Ctrl-O\"\n    description: \"Open in Lens\"\n    scopes: [\"*\"]\n    command: lens\n    args: [--context, $CONTEXT]\n    background: true\n</code></pre> <p>Tip</p> <p>Plugins with <code>background: true</code> run without suspending the TUI. Use this for port-forwarding or opening external applications.</p> <p>See Configuration &gt; Plugins for the full reference including all available variables.</p>"},{"location":"user-guide/tui/#custom-hotkeys","title":"Custom Hotkeys","text":"<p>Define custom keyboard shortcuts in <code>~/.config/k13d/hotkeys.yaml</code> to execute external commands:</p> ~/.config/k13d/hotkeys.yaml<pre><code>hotkeys:\n  stern-logs:\n    shortCut: \"Shift-L\"\n    description: \"Stern multi-pod logs\"\n    scopes: [pods, deployments]\n    command: stern\n    args: [\"-n\", \"$NAMESPACE\", \"$NAME\"]\n\n  port-forward-8080:\n    shortCut: \"Ctrl-P\"\n    description: \"Port forward to 8080\"\n    scopes: [pods, services]\n    command: kubectl\n    args: [port-forward, -n, \"$NAMESPACE\", \"$NAME\", \"8080:8080\"]\n</code></pre> <p>Hotkeys support <code>$NAMESPACE</code>, <code>$NAME</code>, and <code>$CONTEXT</code> variable expansion. Set <code>dangerous: true</code> to require confirmation before execution.</p>"},{"location":"user-guide/tui/#per-resource-sort-defaults","title":"Per-Resource Sort Defaults","text":"<p>Configure default sort in <code>~/.config/k13d/views.yaml</code>:</p> ~/.config/k13d/views.yaml<pre><code>views:\n  pods:\n    sortColumn: AGE\n    sortAscending: false       # Newest first\n  deployments:\n    sortColumn: NAME\n    sortAscending: true        # Alphabetical\n  services:\n    sortColumn: TYPE\n    sortAscending: true\n</code></pre> <p>Sort preferences are applied automatically when navigating to each resource. k13d detects column types (numeric, age, ready format, string) for proper sorting.</p>"},{"location":"user-guide/tui/#context-switching","title":"Context Switching","text":"<p>Switch between Kubernetes clusters:</p> <ol> <li>Type <code>:context</code> or <code>:ctx</code></li> <li>Select from available contexts (current marked with <code>*</code>)</li> <li>Press Enter to switch</li> </ol> <p>On switch, k13d reconnects to the new cluster, reloads namespaces, and refreshes all resource data.</p>"},{"location":"user-guide/tui/#customization","title":"Customization","text":""},{"location":"user-guide/tui/#theme-configuration","title":"Theme Configuration","text":"<p>k13d uses a Tokyo Night-inspired theme by default.</p>"},{"location":"user-guide/tui/#configuration-file","title":"Configuration File","text":"<pre><code># ~/.config/k13d/config.yaml\n\nui:\n  theme: tokyo-night  # or: light, dark, nord\n  refresh_interval: 5s\n  show_header: true\n  show_status: true\n</code></pre>"},{"location":"user-guide/tui/#keyboard-shortcuts-reference","title":"Keyboard Shortcuts Reference","text":""},{"location":"user-guide/tui/#global","title":"Global","text":"Key Action ? Show help Ctrl+C Quit Esc Cancel / Back"},{"location":"user-guide/tui/#navigation_1","title":"Navigation","text":"Key Action J / K Up / Down G / Shift+G First / Last Ctrl+F / Ctrl+B Page Down / Up Tab Switch panel"},{"location":"user-guide/tui/#actions","title":"Actions","text":"Key Action Y YAML D Describe L Logs X Exec E Edit S Scale R Restart Ctrl+D Delete"},{"location":"user-guide/tui/#ai","title":"AI","text":"Key Action Shift+L AI Analyze H Explain This"},{"location":"user-guide/tui/#tips-and-tricks","title":"Tips and Tricks","text":""},{"location":"user-guide/tui/#1-quick-namespace-switch","title":"1. Quick Namespace Switch","text":"<pre><code>:ns default\n:ns -          # Previous namespace\n</code></pre>"},{"location":"user-guide/tui/#2-resource-shortcuts","title":"2. Resource Shortcuts","text":"<pre><code>:po           # pods\n:svc          # services\n:deploy       # deployments\n:no           # nodes\n:alias        # view all aliases\n:model        # switch AI model\n:plugins      # view plugins\n</code></pre>"},{"location":"user-guide/tui/#3-filter-action","title":"3. Filter + Action","text":"<pre><code>/error        # Filter to errors\nShift+L       # AI analyze all matching\n</code></pre>"},{"location":"user-guide/tui/#4-vim-style-navigation","title":"4. Vim-Style Navigation","text":"<p>If you're familiar with Vim:</p> <ul> <li><code>j/k</code> for up/down</li> <li><code>gg</code> for top</li> <li><code>G</code> for bottom</li> <li><code>/</code> for search</li> </ul>"},{"location":"user-guide/tui/#next-steps","title":"Next Steps","text":"<ul> <li>Web Dashboard - Web UI alternative</li> <li>Keyboard Shortcuts - Complete shortcut reference</li> <li>AI Assistant - AI features</li> </ul>"},{"location":"user-guide/web/","title":"Web Dashboard","text":"<p>The Web Dashboard provides a modern browser-based interface for Kubernetes management with full AI integration.</p>"},{"location":"user-guide/web/#overview","title":"Overview","text":"<p>The Web UI offers:</p> <ul> <li>Modern Interface: Responsive design with dark/light themes</li> <li>Real-time Updates: Live resource status updates</li> <li>AI Assistant: Integrated chat interface</li> <li>Multi-cluster: Switch between contexts</li> <li>Reports: Generate cluster analysis reports</li> </ul>"},{"location":"user-guide/web/#getting-started","title":"Getting Started","text":""},{"location":"user-guide/web/#launch-web-mode","title":"Launch Web Mode","text":"<pre><code># Start web server on default port 8080\nk13d -web\n\n# Specify custom port\nk13d -web -port 3000\n\n# With authentication\nk13d -web -password \"your-secure-password\"\n\n# With embedded LLM (no API key needed)\nk13d -web --embedded-llm\n</code></pre>"},{"location":"user-guide/web/#access-the-dashboard","title":"Access the Dashboard","text":"<p>Open your browser to: <code>http://localhost:8080</code></p>"},{"location":"user-guide/web/#interface-layout","title":"Interface Layout","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 k13d \u2502 Context: prod \u2502 Namespace: default \u2502 [Settings] [Help]  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           \u2502                                                     \u2502\n\u2502 Resources \u2502  Resource Table                                     \u2502\n\u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                                                     \u2502\n\u2502 Pods      \u2502  NAME         READY  STATUS   AGE                  \u2502\n\u2502 Services  \u2502  nginx-abc    1/1    Running  2d                   \u2502\n\u2502 Deploys   \u2502  api-def      2/2    Running  5d                   \u2502\n\u2502 ConfigMaps\u2502                                                     \u2502\n\u2502 Secrets   \u2502                                                     \u2502\n\u2502 ...       \u2502                                                     \u2502\n\u2502           \u2502                                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 AI Assistant                                                     \u2502\n\u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n\u2502 Ask me anything about your cluster...                           \u2502\n\u2502 [Send]                                                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"user-guide/web/#navigation","title":"Navigation","text":""},{"location":"user-guide/web/#sidebar","title":"Sidebar","text":"Section Description Workloads Pods, Deployments, StatefulSets, DaemonSets Config ConfigMaps, Secrets Network Services, Ingresses, Endpoints Storage PVs, PVCs, StorageClasses Cluster Nodes, Namespaces, Events Helm Helm releases"},{"location":"user-guide/web/#resource-table","title":"Resource Table","text":"<ul> <li>Click row to view details</li> <li>Search bar for filtering</li> <li>Namespace dropdown for switching</li> <li>Refresh button for manual refresh</li> </ul>"},{"location":"user-guide/web/#resource-actions","title":"Resource Actions","text":""},{"location":"user-guide/web/#right-click-menu","title":"Right-Click Menu","text":"<p>Right-click on any resource to see available actions:</p> Action Description View YAML Display full YAML manifest Describe Show resource description Edit Edit resource (opens YAML editor) Delete Delete resource (with confirmation) AI Analyze Get AI analysis"},{"location":"user-guide/web/#quick-actions","title":"Quick Actions","text":"Button Description \ud83d\udccb Copy resource name \ud83d\udcc4 View YAML \ud83d\udd0d Describe \ud83d\uddd1\ufe0f Delete \ud83e\udd16 AI Analyze"},{"location":"user-guide/web/#ai-assistant","title":"AI Assistant","text":""},{"location":"user-guide/web/#chat-interface","title":"Chat Interface","text":"<ol> <li>Type your question in the input field</li> <li>Click \"Send\" or press Enter</li> <li>View streaming response</li> <li>Approve/reject tool requests</li> </ol>"},{"location":"user-guide/web/#example-queries","title":"Example Queries","text":"<pre><code>\"Why is my nginx pod crashing?\"\n\"Scale the api deployment to 5 replicas\"\n\"Show me all pods with high CPU usage\"\n\"Explain this HPA configuration\"\n</code></pre>"},{"location":"user-guide/web/#tool-approval","title":"Tool Approval","text":"<p>When AI needs to execute a command:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Tool Approval Required                \u2502\n\u2502                                      \u2502\n\u2502 kubectl get pods -n production       \u2502\n\u2502                                      \u2502\n\u2502 [Approve]  [Reject]                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"user-guide/web/#features","title":"Features","text":""},{"location":"user-guide/web/#darklight-theme","title":"Dark/Light Theme","text":"<p>Toggle theme in Settings or click the theme icon in the header.</p>"},{"location":"user-guide/web/#real-time-updates","title":"Real-time Updates","text":"<p>Resources update automatically. Configure refresh interval:</p> <p>Settings \u2192 General \u2192 Refresh Interval</p>"},{"location":"user-guide/web/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"Key Action Ctrl+K Focus search Ctrl+/ Toggle AI panel Esc Close modal ? Show shortcuts"},{"location":"user-guide/web/#settings","title":"Settings","text":""},{"location":"user-guide/web/#llm-configuration","title":"LLM Configuration","text":"<p>Settings \u2192 AI \u2192 LLM Configuration</p> Setting Description Provider OpenAI, Ollama, Gemini, Anthropic Model gpt-4, llama3.2, etc. Endpoint Custom API endpoint API Key Provider API key"},{"location":"user-guide/web/#mcp-servers","title":"MCP Servers","text":"<p>Settings \u2192 AI \u2192 MCP Servers</p> <p>Manage external MCP servers for extended AI capabilities.</p>"},{"location":"user-guide/web/#user-management","title":"User Management","text":"<p>Settings \u2192 Admin \u2192 Users</p> Action Description Add User Create new user Edit Modify user settings Delete Remove user"},{"location":"user-guide/web/#reports","title":"Reports","text":"<p>Generate comprehensive cluster reports with selectable sections:</p> <ol> <li>Navigate to Reports section</li> <li>Select report type:</li> <li>Cluster Overview - General health</li> <li>Security Audit - Security findings</li> <li>Cost Analysis - Resource costs</li> <li>Choose which sections to include (Nodes, Namespaces, Workloads, Events, Security, FinOps, Metrics)</li> <li>Configure options:</li> <li>Namespace filter</li> <li>Output format</li> <li>Click \"Generate\"</li> </ol>"},{"location":"user-guide/web/#custom-resource-detail","title":"Custom Resource Detail","text":"<p>Click on any Custom Resource to view a rich detail modal:</p> <ul> <li>Overview tab with auto-detected status, metadata, key fields, spec/status summary, conditions table, labels, and annotations</li> <li>YAML tab with full manifest</li> <li>Events tab with related Kubernetes events</li> </ul>"},{"location":"user-guide/web/#pod-actions","title":"Pod Actions","text":""},{"location":"user-guide/web/#view-logs","title":"View Logs","text":"<ol> <li>Click on a pod</li> <li>Select container (if multiple)</li> <li>View streaming logs</li> <li>Options:</li> <li>Previous logs</li> <li>Follow</li> <li>Timestamps</li> <li>Download</li> </ol>"},{"location":"user-guide/web/#execute-shell","title":"Execute Shell","text":"<ol> <li>Click on a pod</li> <li>Click \"Exec\" or \ud83d\udda5\ufe0f icon</li> <li>Select container</li> <li>Enter commands in terminal</li> </ol>"},{"location":"user-guide/web/#port-forward","title":"Port Forward","text":"<ol> <li>Click on a pod</li> <li>Click \"Port Forward\"</li> <li>Configure:</li> <li>Local port</li> <li>Container port</li> <li>Click \"Start\"</li> <li>Access at <code>localhost:&lt;port&gt;</code></li> </ol>"},{"location":"user-guide/web/#deployment-actions","title":"Deployment Actions","text":""},{"location":"user-guide/web/#scale","title":"Scale","text":"<ol> <li>Select deployment</li> <li>Click \"Scale\" or use slider</li> <li>Enter replica count</li> <li>Confirm</li> </ol>"},{"location":"user-guide/web/#restart","title":"Restart","text":"<ol> <li>Select deployment</li> <li>Click \"Restart\"</li> <li>Confirm rollout restart</li> </ol>"},{"location":"user-guide/web/#rollback","title":"Rollback","text":"<ol> <li>Select deployment</li> <li>Click \"Rollback\"</li> <li>Select revision</li> <li>Confirm</li> </ol>"},{"location":"user-guide/web/#node-actions","title":"Node Actions","text":""},{"location":"user-guide/web/#cordonuncordon","title":"Cordon/Uncordon","text":"<ol> <li>Select node</li> <li>Click \"Cordon\" to prevent scheduling</li> <li>Click \"Uncordon\" to allow scheduling</li> </ol>"},{"location":"user-guide/web/#drain","title":"Drain","text":"<ol> <li>Select node</li> <li>Click \"Drain\"</li> <li>Configure options:</li> <li>Ignore DaemonSets</li> <li>Delete local data</li> <li>Force</li> <li>Confirm</li> </ol>"},{"location":"user-guide/web/#api-access","title":"API Access","text":"<p>The Web UI exposes REST APIs:</p> <pre><code># Get pods\ncurl http://localhost:8080/api/k8s/pods\n\n# With authentication\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n     http://localhost:8080/api/k8s/pods\n\n# AI chat\ncurl -X POST http://localhost:8080/api/chat/agentic \\\n     -H \"Content-Type: application/json\" \\\n     -d '{\"message\": \"list pods\"}'\n</code></pre>"},{"location":"user-guide/web/#mobile-support","title":"Mobile Support","text":"<p>The Web UI is responsive and works on mobile devices:</p> <ul> <li>Touch-friendly navigation</li> <li>Swipe gestures</li> <li>Collapsible panels</li> <li>Optimized for smaller screens</li> </ul>"},{"location":"user-guide/web/#security","title":"Security","text":""},{"location":"user-guide/web/#authentication","title":"Authentication","text":"<p>Enable password authentication:</p> <pre><code>k13d -web -password \"secure-password\"\n</code></pre> <p>Or in config:</p> <pre><code>auth:\n  password: \"secure-password\"\n</code></pre>"},{"location":"user-guide/web/#https","title":"HTTPS","text":"<p>For production, use a reverse proxy (nginx, traefik) with TLS.</p>"},{"location":"user-guide/web/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/web/#websocket-connection-failed","title":"WebSocket Connection Failed","text":"<ul> <li>Check if port is accessible</li> <li>Verify no firewall blocking</li> <li>Try different browser</li> </ul>"},{"location":"user-guide/web/#slow-performance","title":"Slow Performance","text":"<ul> <li>Reduce refresh interval</li> <li>Limit namespace scope</li> <li>Use filters to reduce data</li> </ul>"},{"location":"user-guide/web/#ai-not-responding","title":"AI Not Responding","text":"<ul> <li>Check LLM configuration</li> <li>Verify API key</li> <li>Check network connectivity</li> </ul>"},{"location":"user-guide/web/#next-steps","title":"Next Steps","text":"<ul> <li>TUI Dashboard - Terminal interface</li> <li>Keyboard Shortcuts - All shortcuts</li> <li>Configuration - Full options</li> </ul>"}]}